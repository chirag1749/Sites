var kh=Object.defineProperty;var Eh=(e,t,n)=>t in e?kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Yn=(e,t,n)=>(Eh(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function $h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fc={exports:{}},po={},dc={exports:{}},j={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),Th=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Lh=Symbol.for("react.memo"),Ah=Symbol.for("react.lazy"),ka=Symbol.iterator;function Oh(e){return e===null||typeof e!="object"?null:(e=ka&&e[ka]||e["@@iterator"],typeof e=="function"?e:null)}var hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pc=Object.assign,gc={};function Wn(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||hc}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mc(){}mc.prototype=Wn.prototype;function ws(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||hc}var xs=ws.prototype=new mc;xs.constructor=ws;pc(xs,Wn.prototype);xs.isPureReactComponent=!0;var Ea=Array.isArray,vc=Object.prototype.hasOwnProperty,Ss={current:null},yc={key:!0,ref:!0,__self:!0,__source:!0};function _c(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)vc.call(t,r)&&!yc.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),c=0;c<s;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Br,type:e,key:o,ref:l,props:i,_owner:Ss.current}}function Fh(e,t){return{$$typeof:Br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Br}function Hh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $a=/\/+/g;function zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hh(""+e.key):t.toString(36)}function wi(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Br:case Th:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+zo(l,0):r,Ea(i)?(n="",e!=null&&(n=e.replace($a,"$&/")+"/"),wi(i,t,n,"",function(c){return c})):i!=null&&(Cs(i)&&(i=Fh(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace($a,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",Ea(e))for(var s=0;s<e.length;s++){o=e[s];var a=r+zo(o,s);l+=wi(o,t,n,a,i)}else if(a=Oh(e),typeof a=="function")for(e=a.call(e),s=0;!(o=e.next()).done;)o=o.value,a=r+zo(o,s++),l+=wi(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function br(e,t,n){if(e==null)return e;var r=[],i=0;return wi(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Uh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xe={current:null},xi={transition:null},Vh={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:xi,ReactCurrentOwner:Ss};function wc(){throw Error("act(...) is not supported in production builds of React.")}j.Children={map:br,forEach:function(e,t,n){br(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return br(e,function(){t++}),t},toArray:function(e){return br(e,function(t){return t})||[]},only:function(e){if(!Cs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};j.Component=Wn;j.Fragment=Mh;j.Profiler=Rh;j.PureComponent=ws;j.StrictMode=Nh;j.Suspense=zh;j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;j.act=wc;j.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pc({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Ss.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)vc.call(t,a)&&!yc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var c=0;c<a;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Br,type:e.type,key:i,ref:o,props:r,_owner:l}};j.createContext=function(e){return e={$$typeof:Ih,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ph,_context:e},e.Consumer=e};j.createElement=_c;j.createFactory=function(e){var t=_c.bind(null,e);return t.type=e,t};j.createRef=function(){return{current:null}};j.forwardRef=function(e){return{$$typeof:Dh,render:e}};j.isValidElement=Cs;j.lazy=function(e){return{$$typeof:Ah,_payload:{_status:-1,_result:e},_init:Uh}};j.memo=function(e,t){return{$$typeof:Lh,type:e,compare:t===void 0?null:t}};j.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};j.unstable_act=wc;j.useCallback=function(e,t){return xe.current.useCallback(e,t)};j.useContext=function(e){return xe.current.useContext(e)};j.useDebugValue=function(){};j.useDeferredValue=function(e){return xe.current.useDeferredValue(e)};j.useEffect=function(e,t){return xe.current.useEffect(e,t)};j.useId=function(){return xe.current.useId()};j.useImperativeHandle=function(e,t,n){return xe.current.useImperativeHandle(e,t,n)};j.useInsertionEffect=function(e,t){return xe.current.useInsertionEffect(e,t)};j.useLayoutEffect=function(e,t){return xe.current.useLayoutEffect(e,t)};j.useMemo=function(e,t){return xe.current.useMemo(e,t)};j.useReducer=function(e,t,n){return xe.current.useReducer(e,t,n)};j.useRef=function(e){return xe.current.useRef(e)};j.useState=function(e){return xe.current.useState(e)};j.useSyncExternalStore=function(e,t,n){return xe.current.useSyncExternalStore(e,t,n)};j.useTransition=function(){return xe.current.useTransition()};j.version="18.3.1";dc.exports=j;var Qn=dc.exports;const jh=$h(Qn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=Qn,Wh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),qh=Object.prototype.hasOwnProperty,Kh=Bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xh={key:!0,ref:!0,__self:!0,__source:!0};function xc(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)qh.call(t,r)&&!Xh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Wh,type:e,key:o,ref:l,props:i,_owner:Kh.current}}po.Fragment=Qh;po.jsx=xc;po.jsxs=xc;fc.exports=po;var En=fc.exports,pl={},Sc={exports:{}},Le={},Cc={exports:{}},kc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,C){var k=x.length;x.push(C);e:for(;0<k;){var D=k-1>>>1,I=x[D];if(0<i(I,C))x[D]=C,x[k]=I,k=D;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var C=x[0],k=x.pop();if(k!==C){x[0]=k;e:for(var D=0,I=x.length,U=I>>>1;D<U;){var V=2*(D+1)-1,W=x[V],G=V+1,se=x[G];if(0>i(W,k))G<I&&0>i(se,W)?(x[D]=se,x[G]=k,D=G):(x[D]=W,x[V]=k,D=V);else if(G<I&&0>i(se,k))x[D]=se,x[G]=k,D=G;else break e}}return C}function i(x,C){var k=x.sortIndex-C.sortIndex;return k!==0?k:x.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var a=[],c=[],h=1,d=null,f=3,u=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(x){for(var C=n(c);C!==null;){if(C.callback===null)r(c);else if(C.startTime<=x)r(c),C.sortIndex=C.expirationTime,t(a,C);else break;C=n(c)}}function w(x){if(g=!1,v(x),!p)if(n(a)!==null)p=!0,T(M);else{var C=n(c);C!==null&&$(w,C.startTime-x)}}function M(x,C){p=!1,g&&(g=!1,m(N),N=-1),u=!0;var k=f;try{for(v(C),d=n(a);d!==null&&(!(d.expirationTime>C)||x&&!F());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var I=D(d.expirationTime<=C);C=e.unstable_now(),typeof I=="function"?d.callback=I:d===n(a)&&r(a),v(C)}else r(a);d=n(a)}if(d!==null)var U=!0;else{var V=n(c);V!==null&&$(w,V.startTime-C),U=!1}return U}finally{d=null,f=k,u=!1}}var R=!1,E=null,N=-1,H=5,A=-1;function F(){return!(e.unstable_now()-A<H)}function B(){if(E!==null){var x=e.unstable_now();A=x;var C=!0;try{C=E(!0,x)}finally{C?X():(R=!1,E=null)}}else R=!1}var X;if(typeof y=="function")X=function(){y(B)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,L=S.port2;S.port1.onmessage=B,X=function(){L.postMessage(null)}}else X=function(){_(B,0)};function T(x){E=x,R||(R=!0,X())}function $(x,C){N=_(function(){x(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){p||u||(p=!0,T(M))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(x){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var k=f;f=C;try{return x()}finally{f=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,C){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var k=f;f=x;try{return C()}finally{f=k}},e.unstable_scheduleCallback=function(x,C,k){var D=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?D+k:D):k=D,x){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=k+I,x={id:h++,callback:C,priorityLevel:x,startTime:k,expirationTime:I,sortIndex:-1},k>D?(x.sortIndex=k,t(c,x),n(a)===null&&x===n(c)&&(g?(m(N),N=-1):g=!0,$(w,k-D))):(x.sortIndex=I,t(a,x),p||u||(p=!0,T(M))),x},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(x){var C=f;return function(){var k=f;f=C;try{return x.apply(this,arguments)}finally{f=k}}}})(kc);Cc.exports=kc;var Yh=Cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=Qn,De=Yh;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ec=new Set,xr={};function un(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(xr[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=Object.prototype.hasOwnProperty,bh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ta={},Ma={};function Zh(e){return gl.call(Ma,e)?!0:gl.call(Ta,e)?!1:bh.test(e)?Ma[e]=!0:(Ta[e]=!0,!1)}function Jh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ep(e,t,n,r){if(t===null||typeof t>"u"||Jh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var ks=/[\-:]([a-z])/g;function Es(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ks,Es);pe[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ks,Es);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ks,Es);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function $s(e,t,n,r){var i=pe.hasOwnProperty(t)?pe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ep(t,n,i,r)&&(n=null),r||i===null?Zh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xt=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zr=Symbol.for("react.element"),hn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),Ts=Symbol.for("react.strict_mode"),ml=Symbol.for("react.profiler"),$c=Symbol.for("react.provider"),Tc=Symbol.for("react.context"),Ms=Symbol.for("react.forward_ref"),vl=Symbol.for("react.suspense"),yl=Symbol.for("react.suspense_list"),Ns=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Mc=Symbol.for("react.offscreen"),Na=Symbol.iterator;function Gn(e){return e===null||typeof e!="object"?null:(e=Na&&e[Na]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,Lo;function lr(e){if(Lo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lo=t&&t[1]||""}return`
`+Lo+e}var Ao=!1;function Oo(e,t){if(!e||Ao)return"";Ao=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{Ao=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?lr(e):""}function tp(e){switch(e.tag){case 5:return lr(e.type);case 16:return lr("Lazy");case 13:return lr("Suspense");case 19:return lr("SuspenseList");case 0:case 2:case 15:return e=Oo(e.type,!1),e;case 11:return e=Oo(e.type.render,!1),e;case 1:return e=Oo(e.type,!0),e;default:return""}}function _l(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pn:return"Fragment";case hn:return"Portal";case ml:return"Profiler";case Ts:return"StrictMode";case vl:return"Suspense";case yl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tc:return(e.displayName||"Context")+".Consumer";case $c:return(e._context.displayName||"Context")+".Provider";case Ms:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ns:return t=e.displayName||null,t!==null?t:_l(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return _l(e(t))}catch{}}return null}function np(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _l(t);case 8:return t===Ts?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ht(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rp(e){var t=Nc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jr(e){e._valueTracker||(e._valueTracker=rp(e))}function Rc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wl(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ra(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ht(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pc(e,t){t=t.checked,t!=null&&$s(e,"checked",t,!1)}function xl(e,t){Pc(e,t);var n=Ht(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sl(e,t.type,Ht(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sl(e,t,n){(t!=="number"||Oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sr=Array.isArray;function $n(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Cl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ia(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(sr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ht(n)}}function Ic(e,t){var n=Ht(t.value),r=Ht(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Da(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ei,zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ip=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(e){ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dr[t]=dr[e]})});function Lc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dr.hasOwnProperty(e)&&dr[e]?(""+t).trim():t+"px"}function Ac(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var op=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(e,t){if(t){if(op[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function $l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tl=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ml=null,Tn=null,Mn=null;function za(e){if(e=qr(e)){if(typeof Ml!="function")throw Error(P(280));var t=e.stateNode;t&&(t=_o(t),Ml(e.stateNode,e.type,t))}}function Oc(e){Tn?Mn?Mn.push(e):Mn=[e]:Tn=e}function Fc(){if(Tn){var e=Tn,t=Mn;if(Mn=Tn=null,za(e),t)for(e=0;e<t.length;e++)za(t[e])}}function Hc(e,t){return e(t)}function Uc(){}var Fo=!1;function Vc(e,t,n){if(Fo)return e(t,n);Fo=!0;try{return Hc(e,t,n)}finally{Fo=!1,(Tn!==null||Mn!==null)&&(Uc(),Fc())}}function Cr(e,t){var n=e.stateNode;if(n===null)return null;var r=_o(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Nl=!1;if(mt)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Nl=!1}function lp(e,t,n,r,i,o,l,s,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var hr=!1,Fi=null,Hi=!1,Rl=null,sp={onError:function(e){hr=!0,Fi=e}};function ap(e,t,n,r,i,o,l,s,a){hr=!1,Fi=null,lp.apply(sp,arguments)}function up(e,t,n,r,i,o,l,s,a){if(ap.apply(this,arguments),hr){if(hr){var c=Fi;hr=!1,Fi=null}else throw Error(P(198));Hi||(Hi=!0,Rl=c)}}function cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function La(e){if(cn(e)!==e)throw Error(P(188))}function cp(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return La(i),e;if(o===r)return La(i),t;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Bc(e){return e=cp(e),e!==null?Wc(e):null}function Wc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wc(e);if(t!==null)return t;e=e.sibling}return null}var Qc=De.unstable_scheduleCallback,Aa=De.unstable_cancelCallback,fp=De.unstable_shouldYield,dp=De.unstable_requestPaint,oe=De.unstable_now,hp=De.unstable_getCurrentPriorityLevel,Ps=De.unstable_ImmediatePriority,qc=De.unstable_UserBlockingPriority,Ui=De.unstable_NormalPriority,pp=De.unstable_LowPriority,Kc=De.unstable_IdlePriority,go=null,ot=null;function gp(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(go,e,void 0,(e.current.flags&128)===128)}catch{}}var be=Math.clz32?Math.clz32:yp,mp=Math.log,vp=Math.LN2;function yp(e){return e>>>=0,e===0?32:31-(mp(e)/vp|0)|0}var ti=64,ni=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=ar(s):(o&=l,o!==0&&(r=ar(o)))}else l=n&~i,l!==0?r=ar(l):o!==0&&(r=ar(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-be(t),i=1<<n,r|=e[n],t&=~i;return r}function _p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-be(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=_p(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}function Pl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xc(){var e=ti;return ti<<=1,!(ti&4194240)&&(ti=64),e}function Ho(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-be(t),e[t]=n}function xp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-be(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Is(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-be(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var q=0;function Yc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gc,Ds,bc,Zc,Jc,Il=!1,ri=[],Pt=null,It=null,Dt=null,kr=new Map,Er=new Map,Tt=[],Sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oa(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function Zn(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=qr(t),t!==null&&Ds(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Cp(e,t,n,r,i){switch(t){case"focusin":return Pt=Zn(Pt,e,t,n,r,i),!0;case"dragenter":return It=Zn(It,e,t,n,r,i),!0;case"mouseover":return Dt=Zn(Dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return kr.set(o,Zn(kr.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Er.set(o,Zn(Er.get(o)||null,e,t,n,r,i)),!0}return!1}function ef(e){var t=Xt(e.target);if(t!==null){var n=cn(t);if(n!==null){if(t=n.tag,t===13){if(t=jc(n),t!==null){e.blockedOn=t,Jc(e.priority,function(){bc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Si(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tl=r,n.target.dispatchEvent(r),Tl=null}else return t=qr(n),t!==null&&Ds(t),e.blockedOn=n,!1;t.shift()}return!0}function Fa(e,t,n){Si(e)&&n.delete(t)}function kp(){Il=!1,Pt!==null&&Si(Pt)&&(Pt=null),It!==null&&Si(It)&&(It=null),Dt!==null&&Si(Dt)&&(Dt=null),kr.forEach(Fa),Er.forEach(Fa)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,Il||(Il=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,kp)))}function $r(e){function t(i){return Jn(i,e)}if(0<ri.length){Jn(ri[0],e);for(var n=1;n<ri.length;n++){var r=ri[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pt!==null&&Jn(Pt,e),It!==null&&Jn(It,e),Dt!==null&&Jn(Dt,e),kr.forEach(t),Er.forEach(t),n=0;n<Tt.length;n++)r=Tt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&(n=Tt[0],n.blockedOn===null);)ef(n),n.blockedOn===null&&Tt.shift()}var Nn=xt.ReactCurrentBatchConfig,ji=!0;function Ep(e,t,n,r){var i=q,o=Nn.transition;Nn.transition=null;try{q=1,zs(e,t,n,r)}finally{q=i,Nn.transition=o}}function $p(e,t,n,r){var i=q,o=Nn.transition;Nn.transition=null;try{q=4,zs(e,t,n,r)}finally{q=i,Nn.transition=o}}function zs(e,t,n,r){if(ji){var i=Dl(e,t,n,r);if(i===null)Yo(e,t,r,Bi,n),Oa(e,r);else if(Cp(i,e,t,n,r))r.stopPropagation();else if(Oa(e,r),t&4&&-1<Sp.indexOf(e)){for(;i!==null;){var o=qr(i);if(o!==null&&Gc(o),o=Dl(e,t,n,r),o===null&&Yo(e,t,r,Bi,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Yo(e,t,r,null,n)}}var Bi=null;function Dl(e,t,n,r){if(Bi=null,e=Rs(r),e=Xt(e),e!==null)if(t=cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bi=e,null}function tf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case Ps:return 1;case qc:return 4;case Ui:case pp:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var Nt=null,Ls=null,Ci=null;function nf(){if(Ci)return Ci;var e,t=Ls,n=t.length,r,i="value"in Nt?Nt.value:Nt.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return Ci=i.slice(e,1<r?1-r:void 0)}function ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Ha(){return!1}function Ae(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ii:Ha,this.isPropagationStopped=Ha,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Ae(qn),Qr=ne({},qn,{view:0,detail:0}),Tp=Ae(Qr),Uo,Vo,er,mo=ne({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(Uo=e.screenX-er.screenX,Vo=e.screenY-er.screenY):Vo=Uo=0,er=e),Uo)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),Ua=Ae(mo),Mp=ne({},mo,{dataTransfer:0}),Np=Ae(Mp),Rp=ne({},Qr,{relatedTarget:0}),jo=Ae(Rp),Pp=ne({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ip=Ae(Pp),Dp=ne({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zp=Ae(Dp),Lp=ne({},qn,{data:0}),Va=Ae(Lp),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fp[e])?!!t[e]:!1}function Os(){return Hp}var Up=ne({},Qr,{key:function(e){if(e.key){var t=Ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vp=Ae(Up),jp=ne({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=Ae(jp),Bp=ne({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Wp=Ae(Bp),Qp=ne({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qp=Ae(Qp),Kp=ne({},mo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=Ae(Kp),Yp=[9,13,27,32],Fs=mt&&"CompositionEvent"in window,pr=null;mt&&"documentMode"in document&&(pr=document.documentMode);var Gp=mt&&"TextEvent"in window&&!pr,rf=mt&&(!Fs||pr&&8<pr&&11>=pr),Ba=String.fromCharCode(32),Wa=!1;function of(e,t){switch(e){case"keyup":return Yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gn=!1;function bp(e,t){switch(e){case"compositionend":return lf(t);case"keypress":return t.which!==32?null:(Wa=!0,Ba);case"textInput":return e=t.data,e===Ba&&Wa?null:e;default:return null}}function Zp(e,t){if(gn)return e==="compositionend"||!Fs&&of(e,t)?(e=nf(),Ci=Ls=Nt=null,gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rf&&t.locale!=="ko"?null:t.data;default:return null}}var Jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jp[e.type]:t==="textarea"}function sf(e,t,n,r){Oc(r),t=Wi(t,"onChange"),0<t.length&&(n=new As("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gr=null,Tr=null;function e0(e){yf(e,0)}function vo(e){var t=yn(e);if(Rc(t))return e}function t0(e,t){if(e==="change")return t}var af=!1;if(mt){var Bo;if(mt){var Wo="oninput"in document;if(!Wo){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),Wo=typeof qa.oninput=="function"}Bo=Wo}else Bo=!1;af=Bo&&(!document.documentMode||9<document.documentMode)}function Ka(){gr&&(gr.detachEvent("onpropertychange",uf),Tr=gr=null)}function uf(e){if(e.propertyName==="value"&&vo(Tr)){var t=[];sf(t,Tr,e,Rs(e)),Vc(e0,t)}}function n0(e,t,n){e==="focusin"?(Ka(),gr=t,Tr=n,gr.attachEvent("onpropertychange",uf)):e==="focusout"&&Ka()}function r0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(Tr)}function i0(e,t){if(e==="click")return vo(t)}function o0(e,t){if(e==="input"||e==="change")return vo(t)}function l0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Je=typeof Object.is=="function"?Object.is:l0;function Mr(e,t){if(Je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gl.call(t,i)||!Je(e[i],t[i]))return!1}return!0}function Xa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ya(e,t){var n=Xa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xa(n)}}function cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=Oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Oi(e.document)}return t}function Hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s0(e){var t=ff(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cf(n.ownerDocument.documentElement,n)){if(r!==null&&Hs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ya(n,o);var l=Ya(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a0=mt&&"documentMode"in document&&11>=document.documentMode,mn=null,zl=null,mr=null,Ll=!1;function Ga(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ll||mn==null||mn!==Oi(r)||(r=mn,"selectionStart"in r&&Hs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mr&&Mr(mr,r)||(mr=r,r=Wi(zl,"onSelect"),0<r.length&&(t=new As("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mn)))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vn={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},Qo={},df={};mt&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function yo(e){if(Qo[e])return Qo[e];if(!vn[e])return e;var t=vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in df)return Qo[e]=t[n];return e}var hf=yo("animationend"),pf=yo("animationiteration"),gf=yo("animationstart"),mf=yo("transitionend"),vf=new Map,ba="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){vf.set(e,t),un(t,[e])}for(var qo=0;qo<ba.length;qo++){var Ko=ba[qo],u0=Ko.toLowerCase(),c0=Ko[0].toUpperCase()+Ko.slice(1);Vt(u0,"on"+c0)}Vt(hf,"onAnimationEnd");Vt(pf,"onAnimationIteration");Vt(gf,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(mf,"onTransitionEnd");Dn("onMouseEnter",["mouseout","mouseover"]);Dn("onMouseLeave",["mouseout","mouseover"]);Dn("onPointerEnter",["pointerout","pointerover"]);Dn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function Za(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,up(r,t,void 0,e),e.currentTarget=null}function yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,c=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;Za(i,s,c),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,c=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;Za(i,s,c),o=a}}}if(Hi)throw e=Rl,Hi=!1,Rl=null,e}function b(e,t){var n=t[Ul];n===void 0&&(n=t[Ul]=new Set);var r=e+"__bubble";n.has(r)||(_f(t,e,2,!1),n.add(r))}function Xo(e,t,n){var r=0;t&&(r|=4),_f(n,e,r,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[li]){e[li]=!0,Ec.forEach(function(n){n!=="selectionchange"&&(f0.has(n)||Xo(n,!1,e),Xo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,Xo("selectionchange",!1,t))}}function _f(e,t,n,r){switch(tf(t)){case 1:var i=Ep;break;case 4:i=$p;break;default:i=zs}n=i.bind(null,t,n,e),i=void 0,!Nl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yo(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=Xt(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}Vc(function(){var c=o,h=Rs(n),d=[];e:{var f=vf.get(e);if(f!==void 0){var u=As,p=e;switch(e){case"keypress":if(ki(n)===0)break e;case"keydown":case"keyup":u=Vp;break;case"focusin":p="focus",u=jo;break;case"focusout":p="blur",u=jo;break;case"beforeblur":case"afterblur":u=jo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Wp;break;case hf:case pf:case gf:u=Ip;break;case mf:u=qp;break;case"scroll":u=Tp;break;case"wheel":u=Xp;break;case"copy":case"cut":case"paste":u=zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=ja}var g=(t&4)!==0,_=!g&&e==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=c,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=Cr(y,m),w!=null&&g.push(Rr(y,w,v)))),_)break;y=y.return}0<g.length&&(f=new u(f,p,null,n,h),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",f&&n!==Tl&&(p=n.relatedTarget||n.fromElement)&&(Xt(p)||p[vt]))break e;if((u||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,u?(p=n.relatedTarget||n.toElement,u=c,p=p?Xt(p):null,p!==null&&(_=cn(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(u=null,p=c),u!==p)){if(g=Ua,w="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=ja,w="onPointerLeave",m="onPointerEnter",y="pointer"),_=u==null?f:yn(u),v=p==null?f:yn(p),f=new g(w,y+"leave",u,n,h),f.target=_,f.relatedTarget=v,w=null,Xt(h)===c&&(g=new g(m,y+"enter",p,n,h),g.target=v,g.relatedTarget=_,w=g),_=w,u&&p)t:{for(g=u,m=p,y=0,v=g;v;v=fn(v))y++;for(v=0,w=m;w;w=fn(w))v++;for(;0<y-v;)g=fn(g),y--;for(;0<v-y;)m=fn(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=fn(g),m=fn(m)}g=null}else g=null;u!==null&&Ja(d,f,u,g,!1),p!==null&&_!==null&&Ja(d,_,p,g,!0)}}e:{if(f=c?yn(c):window,u=f.nodeName&&f.nodeName.toLowerCase(),u==="select"||u==="input"&&f.type==="file")var M=t0;else if(Qa(f))if(af)M=o0;else{M=r0;var R=n0}else(u=f.nodeName)&&u.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=i0);if(M&&(M=M(e,c))){sf(d,M,n,h);break e}R&&R(e,f,c),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Sl(f,"number",f.value)}switch(R=c?yn(c):window,e){case"focusin":(Qa(R)||R.contentEditable==="true")&&(mn=R,zl=c,mr=null);break;case"focusout":mr=zl=mn=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,Ga(d,n,h);break;case"selectionchange":if(a0)break;case"keydown":case"keyup":Ga(d,n,h)}var E;if(Fs)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else gn?of(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(rf&&n.locale!=="ko"&&(gn||N!=="onCompositionStart"?N==="onCompositionEnd"&&gn&&(E=nf()):(Nt=h,Ls="value"in Nt?Nt.value:Nt.textContent,gn=!0)),R=Wi(c,N),0<R.length&&(N=new Va(N,e,null,n,h),d.push({event:N,listeners:R}),E?N.data=E:(E=lf(n),E!==null&&(N.data=E)))),(E=Gp?bp(e,n):Zp(e,n))&&(c=Wi(c,"onBeforeInput"),0<c.length&&(h=new Va("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=E))}yf(d,t)})}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Cr(e,n),o!=null&&r.unshift(Rr(e,o,i)),o=Cr(e,t),o!=null&&r.push(Rr(e,o,i))),e=e.return}return r}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ja(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,c=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&c!==null&&(s=c,i?(a=Cr(n,o),a!=null&&l.unshift(Rr(n,a,s))):i||(a=Cr(n,o),a!=null&&l.push(Rr(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var d0=/\r\n?/g,h0=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(d0,`
`).replace(h0,"")}function si(e,t,n){if(t=eu(t),eu(e)!==t&&n)throw Error(P(425))}function Qi(){}var Al=null,Ol=null;function Fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(m0)}:Hl;function m0(e){setTimeout(function(){throw e})}function Go(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),$r(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$r(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),it="__reactFiber$"+Kn,Pr="__reactProps$"+Kn,vt="__reactContainer$"+Kn,Ul="__reactEvents$"+Kn,v0="__reactListeners$"+Kn,y0="__reactHandles$"+Kn;function Xt(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nu(e);e!==null;){if(n=e[it])return n;e=nu(e)}return t}e=n,n=e.parentNode}return null}function qr(e){return e=e[it]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function _o(e){return e[Pr]||null}var Vl=[],_n=-1;function jt(e){return{current:e}}function Z(e){0>_n||(e.current=Vl[_n],Vl[_n]=null,_n--)}function Y(e,t){_n++,Vl[_n]=e.current,e.current=t}var Ut={},ye=jt(Ut),Te=jt(!1),tn=Ut;function zn(e,t){var n=e.type.contextTypes;if(!n)return Ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Me(e){return e=e.childContextTypes,e!=null}function qi(){Z(Te),Z(ye)}function ru(e,t,n){if(ye.current!==Ut)throw Error(P(168));Y(ye,t),Y(Te,n)}function wf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,np(e)||"Unknown",i));return ne({},n,r)}function Ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,tn=ye.current,Y(ye,e),Y(Te,Te.current),!0}function iu(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=wf(e,t,tn),r.__reactInternalMemoizedMergedChildContext=e,Z(Te),Z(ye),Y(ye,e)):Z(Te),Y(Te,n)}var ft=null,wo=!1,bo=!1;function xf(e){ft===null?ft=[e]:ft.push(e)}function _0(e){wo=!0,xf(e)}function Bt(){if(!bo&&ft!==null){bo=!0;var e=0,t=q;try{var n=ft;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,wo=!1}catch(i){throw ft!==null&&(ft=ft.slice(e+1)),Qc(Ps,Bt),i}finally{q=t,bo=!1}}return null}var wn=[],xn=0,Xi=null,Yi=0,He=[],Ue=0,nn=null,dt=1,ht="";function Qt(e,t){wn[xn++]=Yi,wn[xn++]=Xi,Xi=e,Yi=t}function Sf(e,t,n){He[Ue++]=dt,He[Ue++]=ht,He[Ue++]=nn,nn=e;var r=dt;e=ht;var i=32-be(r)-1;r&=~(1<<i),n+=1;var o=32-be(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,dt=1<<32-be(t)+i|n<<i|r,ht=o+e}else dt=1<<o|n<<i|r,ht=e}function Us(e){e.return!==null&&(Qt(e,1),Sf(e,1,0))}function Vs(e){for(;e===Xi;)Xi=wn[--xn],wn[xn]=null,Yi=wn[--xn],wn[xn]=null;for(;e===nn;)nn=He[--Ue],He[Ue]=null,ht=He[--Ue],He[Ue]=null,dt=He[--Ue],He[Ue]=null}var Ie=null,Pe=null,J=!1,Ye=null;function Cf(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ou(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Pe=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Pe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nn!==null?{id:dt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,Pe=null,!0):!1;default:return!1}}function jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bl(e){if(J){var t=Pe;if(t){var n=t;if(!ou(e,t)){if(jl(e))throw Error(P(418));t=zt(n.nextSibling);var r=Ie;t&&ou(e,t)?Cf(r,n):(e.flags=e.flags&-4097|2,J=!1,Ie=e)}}else{if(jl(e))throw Error(P(418));e.flags=e.flags&-4097|2,J=!1,Ie=e}}}function lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function ai(e){if(e!==Ie)return!1;if(!J)return lu(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fl(e.type,e.memoizedProps)),t&&(t=Pe)){if(jl(e))throw kf(),Error(P(418));for(;t;)Cf(e,t),t=zt(t.nextSibling)}if(lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pe=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pe=null}}else Pe=Ie?zt(e.stateNode.nextSibling):null;return!0}function kf(){for(var e=Pe;e;)e=zt(e.nextSibling)}function Ln(){Pe=Ie=null,J=!1}function js(e){Ye===null?Ye=[e]:Ye.push(e)}var w0=xt.ReactCurrentBatchConfig;function tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ui(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function Ef(e){function t(m,y){if(e){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Ft(m,y),m.index=0,m.sibling=null,m}function o(m,y,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,y,v,w){return y===null||y.tag!==6?(y=il(v,m.mode,w),y.return=m,y):(y=i(y,v),y.return=m,y)}function a(m,y,v,w){var M=v.type;return M===pn?h(m,y,v.props.children,w,v.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ct&&su(M)===y.type)?(w=i(y,v.props),w.ref=tr(m,y,v),w.return=m,w):(w=Pi(v.type,v.key,v.props,null,m.mode,w),w.ref=tr(m,y,v),w.return=m,w)}function c(m,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=ol(v,m.mode,w),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function h(m,y,v,w,M){return y===null||y.tag!==7?(y=Jt(v,m.mode,w,M),y.return=m,y):(y=i(y,v),y.return=m,y)}function d(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=il(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zr:return v=Pi(y.type,y.key,y.props,null,m.mode,v),v.ref=tr(m,null,y),v.return=m,v;case hn:return y=ol(y,m.mode,v),y.return=m,y;case Ct:var w=y._init;return d(m,w(y._payload),v)}if(sr(y)||Gn(y))return y=Jt(y,m.mode,v,null),y.return=m,y;ui(m,y)}return null}function f(m,y,v,w){var M=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return M!==null?null:s(m,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zr:return v.key===M?a(m,y,v,w):null;case hn:return v.key===M?c(m,y,v,w):null;case Ct:return M=v._init,f(m,y,M(v._payload),w)}if(sr(v)||Gn(v))return M!==null?null:h(m,y,v,w,null);ui(m,v)}return null}function u(m,y,v,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,s(y,m,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zr:return m=m.get(w.key===null?v:w.key)||null,a(y,m,w,M);case hn:return m=m.get(w.key===null?v:w.key)||null,c(y,m,w,M);case Ct:var R=w._init;return u(m,y,v,R(w._payload),M)}if(sr(w)||Gn(w))return m=m.get(v)||null,h(y,m,w,M,null);ui(y,w)}return null}function p(m,y,v,w){for(var M=null,R=null,E=y,N=y=0,H=null;E!==null&&N<v.length;N++){E.index>N?(H=E,E=null):H=E.sibling;var A=f(m,E,v[N],w);if(A===null){E===null&&(E=H);break}e&&E&&A.alternate===null&&t(m,E),y=o(A,y,N),R===null?M=A:R.sibling=A,R=A,E=H}if(N===v.length)return n(m,E),J&&Qt(m,N),M;if(E===null){for(;N<v.length;N++)E=d(m,v[N],w),E!==null&&(y=o(E,y,N),R===null?M=E:R.sibling=E,R=E);return J&&Qt(m,N),M}for(E=r(m,E);N<v.length;N++)H=u(E,m,N,v[N],w),H!==null&&(e&&H.alternate!==null&&E.delete(H.key===null?N:H.key),y=o(H,y,N),R===null?M=H:R.sibling=H,R=H);return e&&E.forEach(function(F){return t(m,F)}),J&&Qt(m,N),M}function g(m,y,v,w){var M=Gn(v);if(typeof M!="function")throw Error(P(150));if(v=M.call(v),v==null)throw Error(P(151));for(var R=M=null,E=y,N=y=0,H=null,A=v.next();E!==null&&!A.done;N++,A=v.next()){E.index>N?(H=E,E=null):H=E.sibling;var F=f(m,E,A.value,w);if(F===null){E===null&&(E=H);break}e&&E&&F.alternate===null&&t(m,E),y=o(F,y,N),R===null?M=F:R.sibling=F,R=F,E=H}if(A.done)return n(m,E),J&&Qt(m,N),M;if(E===null){for(;!A.done;N++,A=v.next())A=d(m,A.value,w),A!==null&&(y=o(A,y,N),R===null?M=A:R.sibling=A,R=A);return J&&Qt(m,N),M}for(E=r(m,E);!A.done;N++,A=v.next())A=u(E,m,N,A.value,w),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?N:A.key),y=o(A,y,N),R===null?M=A:R.sibling=A,R=A);return e&&E.forEach(function(B){return t(m,B)}),J&&Qt(m,N),M}function _(m,y,v,w){if(typeof v=="object"&&v!==null&&v.type===pn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zr:e:{for(var M=v.key,R=y;R!==null;){if(R.key===M){if(M=v.type,M===pn){if(R.tag===7){n(m,R.sibling),y=i(R,v.props.children),y.return=m,m=y;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ct&&su(M)===R.type){n(m,R.sibling),y=i(R,v.props),y.ref=tr(m,R,v),y.return=m,m=y;break e}n(m,R);break}else t(m,R);R=R.sibling}v.type===pn?(y=Jt(v.props.children,m.mode,w,v.key),y.return=m,m=y):(w=Pi(v.type,v.key,v.props,null,m.mode,w),w.ref=tr(m,y,v),w.return=m,m=w)}return l(m);case hn:e:{for(R=v.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=ol(v,m.mode,w),y.return=m,m=y}return l(m);case Ct:return R=v._init,_(m,y,R(v._payload),w)}if(sr(v))return p(m,y,v,w);if(Gn(v))return g(m,y,v,w);ui(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,v),y.return=m,m=y):(n(m,y),y=il(v,m.mode,w),y.return=m,m=y),l(m)):n(m,y)}return _}var An=Ef(!0),$f=Ef(!1),Gi=jt(null),bi=null,Sn=null,Bs=null;function Ws(){Bs=Sn=bi=null}function Qs(e){var t=Gi.current;Z(Gi),e._currentValue=t}function Wl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Rn(e,t){bi=e,Bs=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(Bs!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(bi===null)throw Error(P(308));Sn=e,bi.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Yt=null;function qs(e){Yt===null?Yt=[e]:Yt.push(e)}function Tf(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qs(t)):(n.next=i.next,i.next=n),t.interleaved=n,yt(e,r)}function yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kt=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yt(e,n)}return i=r.interleaved,i===null?(t.next=t,qs(r)):(t.next=i.next,i.next=t),r.interleaved=t,yt(e,n)}function Ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Is(e,n)}}function au(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zi(e,t,n,r){var i=e.updateQueue;kt=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,c=a.next;a.next=null,l===null?o=c:l.next=c,l=a;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==l&&(s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;l=0,h=c=a=null,s=o;do{var f=s.lane,u=s.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:u,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,u=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(u,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(u,d,f):p,f==null)break e;d=ne({},d,f);break e;case 2:kt=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else u={eventTime:u,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=u,a=d):h=h.next=u,l|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(a=d),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);on|=l,e.lanes=l,e.memoizedState=d}}function uu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Kr={},lt=jt(Kr),Ir=jt(Kr),Dr=jt(Kr);function Gt(e){if(e===Kr)throw Error(P(174));return e}function Xs(e,t){switch(Y(Dr,t),Y(Ir,e),Y(lt,Kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kl(t,e)}Z(lt),Y(lt,t)}function On(){Z(lt),Z(Ir),Z(Dr)}function Nf(e){Gt(Dr.current);var t=Gt(lt.current),n=kl(t,e.type);t!==n&&(Y(Ir,e),Y(lt,n))}function Ys(e){Ir.current===e&&(Z(lt),Z(Ir))}var ee=jt(0);function Ji(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zo=[];function Gs(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var $i=xt.ReactCurrentDispatcher,Jo=xt.ReactCurrentBatchConfig,rn=0,te=null,ae=null,ce=null,eo=!1,vr=!1,zr=0,x0=0;function ge(){throw Error(P(321))}function bs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Je(e[n],t[n]))return!1;return!0}function Zs(e,t,n,r,i,o){if(rn=o,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$i.current=e===null||e.memoizedState===null?E0:$0,e=n(r,i),vr){o=0;do{if(vr=!1,zr=0,25<=o)throw Error(P(301));o+=1,ce=ae=null,t.updateQueue=null,$i.current=T0,e=n(r,i)}while(vr)}if($i.current=to,t=ae!==null&&ae.next!==null,rn=0,ce=ae=te=null,eo=!1,t)throw Error(P(300));return e}function Js(){var e=zr!==0;return zr=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?te.memoizedState=ce=e:ce=ce.next=e,ce}function We(){if(ae===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=ce===null?te.memoizedState:ce.next;if(t!==null)ce=t,ae=e;else{if(e===null)throw Error(P(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ce===null?te.memoizedState=ce=e:ce=ce.next=e}return ce}function Lr(e,t){return typeof t=="function"?t(e):t}function el(e){var t=We(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ae,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,c=o;do{var h=c.lane;if((rn&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(s=a=d,l=r):a=a.next=d,te.lanes|=h,on|=h}c=c.next}while(c!==null&&c!==o);a===null?l=r:a.next=s,Je(r,t.memoizedState)||(Ee=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,te.lanes|=o,on|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function tl(e){var t=We(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Je(o,t.memoizedState)||(Ee=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Rf(){}function Pf(e,t){var n=te,r=We(),i=t(),o=!Je(r.memoizedState,i);if(o&&(r.memoizedState=i,Ee=!0),r=r.queue,ea(zf.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,Ar(9,Df.bind(null,n,r,i,t),void 0,null),fe===null)throw Error(P(349));rn&30||If(n,t,i)}return i}function If(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Df(e,t,n,r){t.value=n,t.getSnapshot=r,Lf(t)&&Af(e)}function zf(e,t,n){return n(function(){Lf(t)&&Af(e)})}function Lf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Je(e,n)}catch{return!0}}function Af(e){var t=yt(e,1);t!==null&&Ze(t,e,1,-1)}function cu(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=k0.bind(null,te,e),[t.memoizedState,e]}function Ar(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Of(){return We().memoizedState}function Ti(e,t,n,r){var i=rt();te.flags|=e,i.memoizedState=Ar(1|t,n,void 0,r===void 0?null:r)}function xo(e,t,n,r){var i=We();r=r===void 0?null:r;var o=void 0;if(ae!==null){var l=ae.memoizedState;if(o=l.destroy,r!==null&&bs(r,l.deps)){i.memoizedState=Ar(t,n,o,r);return}}te.flags|=e,i.memoizedState=Ar(1|t,n,o,r)}function fu(e,t){return Ti(8390656,8,e,t)}function ea(e,t){return xo(2048,8,e,t)}function Ff(e,t){return xo(4,2,e,t)}function Hf(e,t){return xo(4,4,e,t)}function Uf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,n){return n=n!=null?n.concat([e]):null,xo(4,4,Uf.bind(null,t,e),n)}function ta(){}function jf(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bf(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wf(e,t,n){return rn&21?(Je(n,t)||(n=Xc(),te.lanes|=n,on|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=n)}function S0(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=Jo.transition;Jo.transition={};try{e(!1),t()}finally{q=n,Jo.transition=r}}function Qf(){return We().memoizedState}function C0(e,t,n){var r=Ot(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qf(e))Kf(t,n);else if(n=Tf(e,t,n,r),n!==null){var i=we();Ze(n,e,r,i),Xf(n,t,r)}}function k0(e,t,n){var r=Ot(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qf(e))Kf(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,Je(s,l)){var a=t.interleaved;a===null?(i.next=i,qs(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Tf(e,t,i,r),n!==null&&(i=we(),Ze(n,e,r,i),Xf(n,t,r))}}function qf(e){var t=e.alternate;return e===te||t!==null&&t===te}function Kf(e,t){vr=eo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Is(e,n)}}var to={readContext:Be,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},E0={readContext:Be,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:fu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ti(4194308,4,Uf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=rt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=C0.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:cu,useDebugValue:ta,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=cu(!1),t=e[0];return e=S0.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,i=rt();if(J){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),fe===null)throw Error(P(349));rn&30||If(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,fu(zf.bind(null,r,o,e),[e]),r.flags|=2048,Ar(9,Df.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=rt(),t=fe.identifierPrefix;if(J){var n=ht,r=dt;n=(r&~(1<<32-be(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=x0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$0={readContext:Be,useCallback:jf,useContext:Be,useEffect:ea,useImperativeHandle:Vf,useInsertionEffect:Ff,useLayoutEffect:Hf,useMemo:Bf,useReducer:el,useRef:Of,useState:function(){return el(Lr)},useDebugValue:ta,useDeferredValue:function(e){var t=We();return Wf(t,ae.memoizedState,e)},useTransition:function(){var e=el(Lr)[0],t=We().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Pf,useId:Qf,unstable_isNewReconciler:!1},T0={readContext:Be,useCallback:jf,useContext:Be,useEffect:ea,useImperativeHandle:Vf,useInsertionEffect:Ff,useLayoutEffect:Hf,useMemo:Bf,useReducer:tl,useRef:Of,useState:function(){return tl(Lr)},useDebugValue:ta,useDeferredValue:function(e){var t=We();return ae===null?t.memoizedState=e:Wf(t,ae.memoizedState,e)},useTransition:function(){var e=tl(Lr)[0],t=We().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Pf,useId:Qf,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ql(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var So={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=we(),i=Ot(e),o=gt(r,i);o.payload=t,n!=null&&(o.callback=n),t=Lt(e,o,i),t!==null&&(Ze(t,e,i,r),Ei(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=we(),i=Ot(e),o=gt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Lt(e,o,i),t!==null&&(Ze(t,e,i,r),Ei(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=we(),r=Ot(e),i=gt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Lt(e,i,r),t!==null&&(Ze(t,e,r,n),Ei(t,e,r))}};function du(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(i,o):!0}function Yf(e,t,n){var r=!1,i=Ut,o=t.contextType;return typeof o=="object"&&o!==null?o=Be(o):(i=Me(t)?tn:ye.current,r=t.contextTypes,o=(r=r!=null)?zn(e,i):Ut),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=So,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function hu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function ql(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ks(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Be(o):(o=Me(t)?tn:ye.current,i.context=zn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ql(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&So.enqueueReplaceState(i,i.state,null),Zi(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fn(e,t){try{var n="",r=t;do n+=tp(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M0=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,t,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ro||(ro=!0,rs=r),Kl(e,t)},n}function bf(e,t,n){n=gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Kl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kl(e,t),typeof r!="function"&&(At===null?At=new Set([this]):At.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function pu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=j0.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mu(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gt(-1,1),t.tag=2,Lt(n,t,1))),n.lanes|=1),e)}var N0=xt.ReactCurrentOwner,Ee=!1;function _e(e,t,n,r){t.child=e===null?$f(t,null,n,r):An(t,e.child,n,r)}function vu(e,t,n,r,i){n=n.render;var o=t.ref;return Rn(t,i),r=Zs(e,t,n,r,o,i),n=Js(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(J&&n&&Us(t),t.flags|=1,_e(e,t,r,i),t.child)}function yu(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!ua(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Zf(e,t,o,r,i)):(e=Pi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(l,r)&&e.ref===t.ref)return _t(e,t,i)}return t.flags|=1,e=Ft(o,r),e.ref=t.ref,e.return=t,t.child=e}function Zf(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Mr(o,r)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,_t(e,t,i)}return Xl(e,t,n,r,i)}function Jf(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(kn,Re),Re|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(kn,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Y(kn,Re),Re|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Y(kn,Re),Re|=r;return _e(e,t,i,n),t.child}function ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xl(e,t,n,r,i){var o=Me(n)?tn:ye.current;return o=zn(t,o),Rn(t,i),n=Zs(e,t,n,r,o,i),r=Js(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(J&&r&&Us(t),t.flags|=1,_e(e,t,n,i),t.child)}function _u(e,t,n,r,i){if(Me(n)){var o=!0;Ki(t)}else o=!1;if(Rn(t,i),t.stateNode===null)Mi(e,t),Yf(t,n,r),ql(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=Me(n)?tn:ye.current,c=zn(t,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==c)&&hu(t,l,r,c),kt=!1;var f=t.memoizedState;l.state=f,Zi(t,r,l,i),a=t.memoizedState,s!==r||f!==a||Te.current||kt?(typeof h=="function"&&(Ql(t,n,h,r),a=t.memoizedState),(s=kt||du(t,n,s,r,f,a,c))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=c,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Mf(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ke(t.type,s),l.props=c,d=t.pendingProps,f=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Be(a):(a=Me(n)?tn:ye.current,a=zn(t,a));var u=n.getDerivedStateFromProps;(h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==d||f!==a)&&hu(t,l,r,a),kt=!1,f=t.memoizedState,l.state=f,Zi(t,r,l,i);var p=t.memoizedState;s!==d||f!==p||Te.current||kt?(typeof u=="function"&&(Ql(t,n,u,r),p=t.memoizedState),(c=kt||du(t,n,c,r,f,p,a)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,p,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,p,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=a,r=c):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Yl(e,t,n,r,o,i)}function Yl(e,t,n,r,i,o){ed(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&iu(t,n,!1),_t(e,t,o);r=t.stateNode,N0.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=An(t,e.child,null,o),t.child=An(t,null,s,o)):_e(e,t,s,o),t.memoizedState=r.state,i&&iu(t,n,!0),t.child}function td(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),Xs(e,t.containerInfo)}function wu(e,t,n,r,i){return Ln(),js(i),t.flags|=256,_e(e,t,n,r),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,t,n){var r=t.pendingProps,i=ee.current,o=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Y(ee,i&1),e===null)return Bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Eo(l,r,0,null),e=Jt(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=bl(n),t.memoizedState=Gl,e):na(t,l));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return R0(e,t,l,r,s,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ft(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ft(s,o):(o=Jt(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?bl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Gl,r}return o=e.child,e=o.sibling,r=Ft(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function na(e,t){return t=Eo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ci(e,t,n,r){return r!==null&&js(r),An(t,e.child,null,n),e=na(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R0(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=nl(Error(P(422))),ci(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Eo({mode:"visible",children:r.children},i,0,null),o=Jt(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&An(t,e.child,null,l),t.child.memoizedState=bl(l),t.memoizedState=Gl,o);if(!(t.mode&1))return ci(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(P(419)),r=nl(o,r,void 0),ci(e,t,l,r)}if(s=(l&e.childLanes)!==0,Ee||s){if(r=fe,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yt(e,i),Ze(r,e,i,-1))}return aa(),r=nl(Error(P(421))),ci(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=B0.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Pe=zt(i.nextSibling),Ie=t,J=!0,Ye=null,e!==null&&(He[Ue++]=dt,He[Ue++]=ht,He[Ue++]=nn,dt=e.id,ht=e.overflow,nn=t),t=na(t,r.children),t.flags|=4096,t)}function xu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wl(e.return,t,n)}function rl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function rd(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_e(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,n,t);else if(e.tag===19)xu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ji(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ji(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,o);break;case"together":rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function P0(e,t,n){switch(t.tag){case 3:td(t),Ln();break;case 5:Nf(t);break;case 1:Me(t.type)&&Ki(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Y(Gi,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?nd(e,t,n):(Y(ee,ee.current&1),e=_t(e,t,n),e!==null?e.sibling:null);Y(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Jf(e,t,n)}return _t(e,t,n)}var id,Zl,od,ld;id=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zl=function(){};od=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gt(lt.current);var o=null;switch(n){case"input":i=wl(e,i),r=wl(e,r),o=[];break;case"select":i=ne({},i,{value:void 0}),r=ne({},r,{value:void 0}),o=[];break;case"textarea":i=Cl(e,i),r=Cl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Qi)}El(n,r);var l;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xr.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==s&&(a!=null||s!=null))if(c==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&b("scroll",e),o||s===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};ld=function(e,t,n,r){n!==r&&(t.flags|=4)};function nr(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function I0(e,t,n){var r=t.pendingProps;switch(Vs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return Me(t.type)&&qi(),me(t),null;case 3:return r=t.stateNode,On(),Z(Te),Z(ye),Gs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(ls(Ye),Ye=null))),Zl(e,t),me(t),null;case 5:Ys(t);var i=Gt(Dr.current);if(n=t.type,e!==null&&t.stateNode!=null)od(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return me(t),null}if(e=Gt(lt.current),ai(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[it]=t,r[Pr]=o,e=(t.mode&1)!==0,n){case"dialog":b("cancel",r),b("close",r);break;case"iframe":case"object":case"embed":b("load",r);break;case"video":case"audio":for(i=0;i<ur.length;i++)b(ur[i],r);break;case"source":b("error",r);break;case"img":case"image":case"link":b("error",r),b("load",r);break;case"details":b("toggle",r);break;case"input":Ra(r,o),b("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},b("invalid",r);break;case"textarea":Ia(r,o),b("invalid",r)}El(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&si(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&si(r.textContent,s,e),i=["children",""+s]):xr.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&b("scroll",r)}switch(n){case"input":Jr(r),Pa(r,o,!0);break;case"textarea":Jr(r),Da(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Qi)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[it]=t,e[Pr]=r,id(e,t,!1,!1),t.stateNode=e;e:{switch(l=$l(n,r),n){case"dialog":b("cancel",e),b("close",e),i=r;break;case"iframe":case"object":case"embed":b("load",e),i=r;break;case"video":case"audio":for(i=0;i<ur.length;i++)b(ur[i],e);i=r;break;case"source":b("error",e),i=r;break;case"img":case"image":case"link":b("error",e),b("load",e),i=r;break;case"details":b("toggle",e),i=r;break;case"input":Ra(e,r),i=wl(e,r),b("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ne({},r,{value:void 0}),b("invalid",e);break;case"textarea":Ia(e,r),i=Cl(e,r),b("invalid",e);break;default:i=r}El(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?Ac(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&zc(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Sr(e,a):typeof a=="number"&&Sr(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&b("scroll",e):a!=null&&$s(e,o,a,l))}switch(n){case"input":Jr(e),Pa(e,r,!1);break;case"textarea":Jr(e),Da(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ht(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$n(e,!!r.multiple,o,!1):r.defaultValue!=null&&$n(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)ld(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Gt(Dr.current),Gt(lt.current),ai(t)){if(r=t.stateNode,n=t.memoizedProps,r[it]=t,(o=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:si(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&si(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[it]=t,t.stateNode=r}return me(t),null;case 13:if(Z(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Pe!==null&&t.mode&1&&!(t.flags&128))kf(),Ln(),t.flags|=98560,o=!1;else if(o=ai(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(P(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[it]=t}else Ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),o=!1}else Ye!==null&&(ls(Ye),Ye=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ue===0&&(ue=3):aa())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return On(),Zl(e,t),e===null&&Nr(t.stateNode.containerInfo),me(t),null;case 10:return Qs(t.type._context),me(t),null;case 17:return Me(t.type)&&qi(),me(t),null;case 19:if(Z(ee),o=t.memoizedState,o===null)return me(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)nr(o,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ji(e),l!==null){for(t.flags|=128,nr(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(ee,ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&oe()>Hn&&(t.flags|=128,r=!0,nr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ji(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!J)return me(t),null}else 2*oe()-o.renderingStartTime>Hn&&n!==1073741824&&(t.flags|=128,r=!0,nr(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=oe(),t.sibling=null,n=ee.current,Y(ee,r?n&1|2:n&1),t):(me(t),null);case 22:case 23:return sa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Re&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function D0(e,t){switch(Vs(t),t.tag){case 1:return Me(t.type)&&qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return On(),Z(Te),Z(ye),Gs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ys(t),null;case 13:if(Z(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(ee),null;case 4:return On(),null;case 10:return Qs(t.type._context),null;case 22:case 23:return sa(),null;case 24:return null;default:return null}}var fi=!1,ve=!1,z0=typeof WeakSet=="function"?WeakSet:Set,O=null;function Cn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function Jl(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Su=!1;function L0(e,t){if(Al=ji,e=ff(),Hs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var u;d!==n||i!==0&&d.nodeType!==3||(s=l+i),d!==o||r!==0&&d.nodeType!==3||(a=l+r),d.nodeType===3&&(l+=d.nodeValue.length),(u=d.firstChild)!==null;)f=d,d=u;for(;;){if(d===e)break t;if(f===n&&++c===i&&(s=l),f===o&&++h===r&&(a=l),(u=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=u}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:e,selectionRange:n},ji=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ke(t.type,g),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){ie(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return p=Su,Su=!1,p}function yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jl(t,n,o)}i=i.next}while(i!==r)}}function Co(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function es(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sd(e){var t=e.alternate;t!==null&&(e.alternate=null,sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[Pr],delete t[Ul],delete t[v0],delete t[y0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ad(e){return e.tag===5||e.tag===3||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ts(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qi));else if(r!==4&&(e=e.child,e!==null))for(ts(e,t,n),e=e.sibling;e!==null;)ts(e,t,n),e=e.sibling}function ns(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ns(e,t,n),e=e.sibling;e!==null;)ns(e,t,n),e=e.sibling}var de=null,Xe=!1;function St(e,t,n){for(n=n.child;n!==null;)ud(e,t,n),n=n.sibling}function ud(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(go,n)}catch{}switch(n.tag){case 5:ve||Cn(n,t);case 6:var r=de,i=Xe;de=null,St(e,t,n),de=r,Xe=i,de!==null&&(Xe?(e=de,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Xe?(e=de,n=n.stateNode,e.nodeType===8?Go(e.parentNode,n):e.nodeType===1&&Go(e,n),$r(e)):Go(de,n.stateNode));break;case 4:r=de,i=Xe,de=n.stateNode.containerInfo,Xe=!0,St(e,t,n),de=r,Xe=i;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Jl(n,t,l),i=i.next}while(i!==r)}St(e,t,n);break;case 1:if(!ve&&(Cn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ie(n,t,s)}St(e,t,n);break;case 21:St(e,t,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,St(e,t,n),ve=r):St(e,t,n);break;default:St(e,t,n)}}function ku(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new z0),t.forEach(function(r){var i=W0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:de=s.stateNode,Xe=!1;break e;case 3:de=s.stateNode.containerInfo,Xe=!0;break e;case 4:de=s.stateNode.containerInfo,Xe=!0;break e}s=s.return}if(de===null)throw Error(P(160));ud(o,l,i),de=null,Xe=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ie(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}function cd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),nt(e),r&4){try{yr(3,e,e.return),Co(3,e)}catch(g){ie(e,e.return,g)}try{yr(5,e,e.return)}catch(g){ie(e,e.return,g)}}break;case 1:qe(t,e),nt(e),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(qe(t,e),nt(e),r&512&&n!==null&&Cn(n,n.return),e.flags&32){var i=e.stateNode;try{Sr(i,"")}catch(g){ie(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Pc(i,o),$l(s,l);var c=$l(s,o);for(l=0;l<a.length;l+=2){var h=a[l],d=a[l+1];h==="style"?Ac(i,d):h==="dangerouslySetInnerHTML"?zc(i,d):h==="children"?Sr(i,d):$s(i,h,d,c)}switch(s){case"input":xl(i,o);break;case"textarea":Ic(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var u=o.value;u!=null?$n(i,!!o.multiple,u,!1):f!==!!o.multiple&&(o.defaultValue!=null?$n(i,!!o.multiple,o.defaultValue,!0):$n(i,!!o.multiple,o.multiple?[]:"",!1))}i[Pr]=o}catch(g){ie(e,e.return,g)}}break;case 6:if(qe(t,e),nt(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){ie(e,e.return,g)}}break;case 3:if(qe(t,e),nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(t.containerInfo)}catch(g){ie(e,e.return,g)}break;case 4:qe(t,e),nt(e);break;case 13:qe(t,e),nt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(oa=oe())),r&4&&ku(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ve=(c=ve)||h,qe(t,e),ve=c):qe(t,e),nt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(O=e,h=e.child;h!==null;){for(d=O=h;O!==null;){switch(f=O,u=f.child,f.tag){case 0:case 11:case 14:case 15:yr(4,f,f.return);break;case 1:Cn(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){ie(r,n,g)}}break;case 5:Cn(f,f.return);break;case 22:if(f.memoizedState!==null){$u(d);continue}}u!==null?(u.return=f,O=u):$u(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,a=d.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Lc("display",l))}catch(g){ie(e,e.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ie(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qe(t,e),nt(e),r&4&&ku(e);break;case 21:break;default:qe(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ad(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sr(i,""),r.flags&=-33);var o=Cu(e);ns(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=Cu(e);ts(e,s,l);break;default:throw Error(P(161))}}catch(a){ie(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A0(e,t,n){O=e,fd(e)}function fd(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||fi;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||ve;s=fi;var c=ve;if(fi=l,(ve=a)&&!c)for(O=i;O!==null;)l=O,a=l.child,l.tag===22&&l.memoizedState!==null?Tu(i):a!==null?(a.return=l,O=a):Tu(i);for(;o!==null;)O=o,fd(o),o=o.sibling;O=i,fi=s,ve=c}Eu(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):Eu(e)}}function Eu(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Co(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ve)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&uu(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uu(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&$r(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ve||t.flags&512&&es(t)}catch(f){ie(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function $u(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Tu(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Co(4,t)}catch(a){ie(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ie(t,i,a)}}var o=t.return;try{es(t)}catch(a){ie(t,o,a)}break;case 5:var l=t.return;try{es(t)}catch(a){ie(t,l,a)}}}catch(a){ie(t,t.return,a)}if(t===e){O=null;break}var s=t.sibling;if(s!==null){s.return=t.return,O=s;break}O=t.return}}var O0=Math.ceil,no=xt.ReactCurrentDispatcher,ra=xt.ReactCurrentOwner,je=xt.ReactCurrentBatchConfig,Q=0,fe=null,le=null,he=0,Re=0,kn=jt(0),ue=0,Or=null,on=0,ko=0,ia=0,_r=null,ke=null,oa=0,Hn=1/0,ct=null,ro=!1,rs=null,At=null,di=!1,Rt=null,io=0,wr=0,is=null,Ni=-1,Ri=0;function we(){return Q&6?oe():Ni!==-1?Ni:Ni=oe()}function Ot(e){return e.mode&1?Q&2&&he!==0?he&-he:w0.transition!==null?(Ri===0&&(Ri=Xc()),Ri):(e=q,e!==0||(e=window.event,e=e===void 0?16:tf(e.type)),e):1}function Ze(e,t,n,r){if(50<wr)throw wr=0,is=null,Error(P(185));Wr(e,n,r),(!(Q&2)||e!==fe)&&(e===fe&&(!(Q&2)&&(ko|=n),ue===4&&Mt(e,he)),Ne(e,r),n===1&&Q===0&&!(t.mode&1)&&(Hn=oe()+500,wo&&Bt()))}function Ne(e,t){var n=e.callbackNode;wp(e,t);var r=Vi(e,e===fe?he:0);if(r===0)n!==null&&Aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Aa(n),t===1)e.tag===0?_0(Mu.bind(null,e)):xf(Mu.bind(null,e)),g0(function(){!(Q&6)&&Bt()}),n=null;else{switch(Yc(r)){case 1:n=Ps;break;case 4:n=qc;break;case 16:n=Ui;break;case 536870912:n=Kc;break;default:n=Ui}n=_d(n,dd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dd(e,t){if(Ni=-1,Ri=0,Q&6)throw Error(P(327));var n=e.callbackNode;if(Pn()&&e.callbackNode!==n)return null;var r=Vi(e,e===fe?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=oo(e,r);else{t=r;var i=Q;Q|=2;var o=pd();(fe!==e||he!==t)&&(ct=null,Hn=oe()+500,Zt(e,t));do try{U0();break}catch(s){hd(e,s)}while(1);Ws(),no.current=o,Q=i,le!==null?t=0:(fe=null,he=0,t=ue)}if(t!==0){if(t===2&&(i=Pl(e),i!==0&&(r=i,t=os(e,i))),t===1)throw n=Or,Zt(e,0),Mt(e,r),Ne(e,oe()),n;if(t===6)Mt(e,r);else{if(i=e.current.alternate,!(r&30)&&!F0(i)&&(t=oo(e,r),t===2&&(o=Pl(e),o!==0&&(r=o,t=os(e,o))),t===1))throw n=Or,Zt(e,0),Mt(e,r),Ne(e,oe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:qt(e,ke,ct);break;case 3:if(Mt(e,r),(r&130023424)===r&&(t=oa+500-oe(),10<t)){if(Vi(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){we(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hl(qt.bind(null,e,ke,ct),t);break}qt(e,ke,ct);break;case 4:if(Mt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-be(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O0(r/1960))-r,10<r){e.timeoutHandle=Hl(qt.bind(null,e,ke,ct),r);break}qt(e,ke,ct);break;case 5:qt(e,ke,ct);break;default:throw Error(P(329))}}}return Ne(e,oe()),e.callbackNode===n?dd.bind(null,e):null}function os(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(Zt(e,t).flags|=256),e=oo(e,t),e!==2&&(t=ke,ke=n,t!==null&&ls(t)),e}function ls(e){ke===null?ke=e:ke.push.apply(ke,e)}function F0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Je(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mt(e,t){for(t&=~ia,t&=~ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-be(t),r=1<<n;e[n]=-1,t&=~r}}function Mu(e){if(Q&6)throw Error(P(327));Pn();var t=Vi(e,0);if(!(t&1))return Ne(e,oe()),null;var n=oo(e,t);if(e.tag!==0&&n===2){var r=Pl(e);r!==0&&(t=r,n=os(e,r))}if(n===1)throw n=Or,Zt(e,0),Mt(e,t),Ne(e,oe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qt(e,ke,ct),Ne(e,oe()),null}function la(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Hn=oe()+500,wo&&Bt())}}function ln(e){Rt!==null&&Rt.tag===0&&!(Q&6)&&Pn();var t=Q;Q|=1;var n=je.transition,r=q;try{if(je.transition=null,q=1,e)return e()}finally{q=r,je.transition=n,Q=t,!(Q&6)&&Bt()}}function sa(){Re=kn.current,Z(kn)}function Zt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,p0(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(Vs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qi();break;case 3:On(),Z(Te),Z(ye),Gs();break;case 5:Ys(r);break;case 4:On();break;case 13:Z(ee);break;case 19:Z(ee);break;case 10:Qs(r.type._context);break;case 22:case 23:sa()}n=n.return}if(fe=e,le=e=Ft(e.current,null),he=Re=t,ue=0,Or=null,ia=ko=on=0,ke=_r=null,Yt!==null){for(t=0;t<Yt.length;t++)if(n=Yt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Yt=null}return e}function hd(e,t){do{var n=le;try{if(Ws(),$i.current=to,eo){for(var r=te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eo=!1}if(rn=0,ce=ae=te=null,vr=!1,zr=0,ra.current=null,n===null||n.return===null){ue=1,Or=t,le=null;break}e:{var o=e,l=n.return,s=n,a=t;if(t=he,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=s,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var u=gu(l);if(u!==null){u.flags&=-257,mu(u,l,s,o,t),u.mode&1&&pu(o,c,t),t=u,a=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(a),t.updateQueue=g}else p.add(a);break e}else{if(!(t&1)){pu(o,c,t),aa();break e}a=Error(P(426))}}else if(J&&s.mode&1){var _=gu(l);if(_!==null){!(_.flags&65536)&&(_.flags|=256),mu(_,l,s,o,t),js(Fn(a,s));break e}}o=a=Fn(a,s),ue!==4&&(ue=2),_r===null?_r=[o]:_r.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Gf(o,a,t);au(o,m);break e;case 1:s=a;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(At===null||!At.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=bf(o,s,t);au(o,w);break e}}o=o.return}while(o!==null)}md(n)}catch(M){t=M,le===n&&n!==null&&(le=n=n.return);continue}break}while(1)}function pd(){var e=no.current;return no.current=to,e===null?to:e}function aa(){(ue===0||ue===3||ue===2)&&(ue=4),fe===null||!(on&268435455)&&!(ko&268435455)||Mt(fe,he)}function oo(e,t){var n=Q;Q|=2;var r=pd();(fe!==e||he!==t)&&(ct=null,Zt(e,t));do try{H0();break}catch(i){hd(e,i)}while(1);if(Ws(),Q=n,no.current=r,le!==null)throw Error(P(261));return fe=null,he=0,ue}function H0(){for(;le!==null;)gd(le)}function U0(){for(;le!==null&&!fp();)gd(le)}function gd(e){var t=yd(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?md(e):le=t,ra.current=null}function md(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=D0(n,t),n!==null){n.flags&=32767,le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,le=null;return}}else if(n=I0(n,t,Re),n!==null){le=n;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);ue===0&&(ue=5)}function qt(e,t,n){var r=q,i=je.transition;try{je.transition=null,q=1,V0(e,t,n,r)}finally{je.transition=i,q=r}return null}function V0(e,t,n,r){do Pn();while(Rt!==null);if(Q&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(xp(e,o),e===fe&&(le=fe=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||di||(di=!0,_d(Ui,function(){return Pn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=je.transition,je.transition=null;var l=q;q=1;var s=Q;Q|=4,ra.current=null,L0(e,n),cd(n,e),s0(Ol),ji=!!Al,Ol=Al=null,e.current=n,A0(n),dp(),Q=s,q=l,je.transition=o}else e.current=n;if(di&&(di=!1,Rt=e,io=i),o=e.pendingLanes,o===0&&(At=null),gp(n.stateNode),Ne(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ro)throw ro=!1,e=rs,rs=null,e;return io&1&&e.tag!==0&&Pn(),o=e.pendingLanes,o&1?e===is?wr++:(wr=0,is=e):wr=0,Bt(),null}function Pn(){if(Rt!==null){var e=Yc(io),t=je.transition,n=q;try{if(je.transition=null,q=16>e?16:e,Rt===null)var r=!1;else{if(e=Rt,Rt=null,io=0,Q&6)throw Error(P(331));var i=Q;for(Q|=4,O=e.current;O!==null;){var o=O,l=o.child;if(O.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var c=s[a];for(O=c;O!==null;){var h=O;switch(h.tag){case 0:case 11:case 15:yr(8,h,o)}var d=h.child;if(d!==null)d.return=h,O=d;else for(;O!==null;){h=O;var f=h.sibling,u=h.return;if(sd(h),h===c){O=null;break}if(f!==null){f.return=u,O=f;break}O=u}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}O=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,O=l;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yr(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,O=m;break e}O=o.return}}var y=e.current;for(O=y;O!==null;){l=O;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,O=v;else e:for(l=y;O!==null;){if(s=O,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Co(9,s)}}catch(M){ie(s,s.return,M)}if(s===l){O=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,O=w;break e}O=s.return}}if(Q=i,Bt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(go,e)}catch{}r=!0}return r}finally{q=n,je.transition=t}}return!1}function Nu(e,t,n){t=Fn(n,t),t=Gf(e,t,1),e=Lt(e,t,1),t=we(),e!==null&&(Wr(e,1,t),Ne(e,t))}function ie(e,t,n){if(e.tag===3)Nu(e,e,n);else for(;t!==null;){if(t.tag===3){Nu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(At===null||!At.has(r))){e=Fn(n,e),e=bf(t,e,1),t=Lt(t,e,1),e=we(),t!==null&&(Wr(t,1,e),Ne(t,e));break}}t=t.return}}function j0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=we(),e.pingedLanes|=e.suspendedLanes&n,fe===e&&(he&n)===n&&(ue===4||ue===3&&(he&130023424)===he&&500>oe()-oa?Zt(e,0):ia|=n),Ne(e,t)}function vd(e,t){t===0&&(e.mode&1?(t=ni,ni<<=1,!(ni&130023424)&&(ni=4194304)):t=1);var n=we();e=yt(e,t),e!==null&&(Wr(e,t,n),Ne(e,n))}function B0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vd(e,n)}function W0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),vd(e,n)}var yd;yd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ee=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ee=!1,P0(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,J&&t.flags&1048576&&Sf(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mi(e,t),e=t.pendingProps;var i=zn(t,ye.current);Rn(t,n),i=Zs(null,t,r,e,i,n);var o=Js();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(r)?(o=!0,Ki(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ks(t),i.updater=So,t.stateNode=i,i._reactInternals=t,ql(t,r,e,n),t=Yl(null,t,r,!0,o,n)):(t.tag=0,J&&o&&Us(t),_e(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mi(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=q0(r),e=Ke(r,e),i){case 0:t=Xl(null,t,r,e,n);break e;case 1:t=_u(null,t,r,e,n);break e;case 11:t=vu(null,t,r,e,n);break e;case 14:t=yu(null,t,r,Ke(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),Xl(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),_u(e,t,r,i,n);case 3:e:{if(td(t),e===null)throw Error(P(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Mf(e,t),Zi(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Fn(Error(P(423)),t),t=wu(e,t,r,n,i);break e}else if(r!==i){i=Fn(Error(P(424)),t),t=wu(e,t,r,n,i);break e}else for(Pe=zt(t.stateNode.containerInfo.firstChild),Ie=t,J=!0,Ye=null,n=$f(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ln(),r===i){t=_t(e,t,n);break e}_e(e,t,r,n)}t=t.child}return t;case 5:return Nf(t),e===null&&Bl(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Fl(r,i)?l=null:o!==null&&Fl(r,o)&&(t.flags|=32),ed(e,t),_e(e,t,l,n),t.child;case 6:return e===null&&Bl(t),null;case 13:return nd(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=An(t,null,r,n):_e(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),vu(e,t,r,i,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Y(Gi,r._currentValue),r._currentValue=l,o!==null)if(Je(o.value,l)){if(o.children===i.children&&!Te.current){t=_t(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=gt(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wl(o.return,n,t),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(P(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Wl(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}_e(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Rn(t,n),i=Be(i),r=r(i),t.flags|=1,_e(e,t,r,n),t.child;case 14:return r=t.type,i=Ke(r,t.pendingProps),i=Ke(r.type,i),yu(e,t,r,i,n);case 15:return Zf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),Mi(e,t),t.tag=1,Me(r)?(e=!0,Ki(t)):e=!1,Rn(t,n),Yf(t,r,i),ql(t,r,i,n),Yl(null,t,r,!0,e,n);case 19:return rd(e,t,n);case 22:return Jf(e,t,n)}throw Error(P(156,t.tag))};function _d(e,t){return Qc(e,t)}function Q0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,r){return new Q0(e,t,n,r)}function ua(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q0(e){if(typeof e=="function")return ua(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ms)return 11;if(e===Ns)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pi(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")ua(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case pn:return Jt(n.children,i,o,t);case Ts:l=8,i|=8;break;case ml:return e=Ve(12,n,t,i|2),e.elementType=ml,e.lanes=o,e;case vl:return e=Ve(13,n,t,i),e.elementType=vl,e.lanes=o,e;case yl:return e=Ve(19,n,t,i),e.elementType=yl,e.lanes=o,e;case Mc:return Eo(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $c:l=10;break e;case Tc:l=9;break e;case Ms:l=11;break e;case Ns:l=14;break e;case Ct:l=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ve(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Jt(e,t,n,r){return e=Ve(7,e,r,t),e.lanes=n,e}function Eo(e,t,n,r){return e=Ve(22,e,r,t),e.elementType=Mc,e.lanes=n,e.stateNode={isHidden:!1},e}function il(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function ol(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ho(0),this.expirationTimes=Ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ca(e,t,n,r,i,o,l,s,a){return e=new K0(e,t,n,s,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ve(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ks(o),e}function X0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wd(e){if(!e)return Ut;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Me(n))return wf(e,n,t)}return t}function xd(e,t,n,r,i,o,l,s,a){return e=ca(n,r,!0,e,i,o,l,s,a),e.context=wd(null),n=e.current,r=we(),i=Ot(n),o=gt(r,i),o.callback=t??null,Lt(n,o,i),e.current.lanes=i,Wr(e,i,r),Ne(e,r),e}function $o(e,t,n,r){var i=t.current,o=we(),l=Ot(i);return n=wd(n),t.context===null?t.context=n:t.pendingContext=n,t=gt(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lt(i,t,l),e!==null&&(Ze(e,i,l,o),Ei(e,i,l)),l}function lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fa(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function Y0(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function da(e){this._internalRoot=e}To.prototype.render=da.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));$o(e,t,null,null)};To.prototype.unmount=da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ln(function(){$o(null,e,null,null)}),t[vt]=null}};function To(e){this._internalRoot=e}To.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&t!==0&&t<Tt[n].priority;n++);Tt.splice(n,0,e),n===0&&ef(e)}};function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pu(){}function G0(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=lo(l);o.call(c)}}var l=xd(t,r,e,0,null,!1,!1,"",Pu);return e._reactRootContainer=l,e[vt]=l.current,Nr(e.nodeType===8?e.parentNode:e),ln(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=lo(a);s.call(c)}}var a=ca(e,0,!1,null,null,!1,!1,"",Pu);return e._reactRootContainer=a,e[vt]=a.current,Nr(e.nodeType===8?e.parentNode:e),ln(function(){$o(t,a,n,r)}),a}function No(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=lo(l);s.call(a)}}$o(t,l,e,i)}else l=G0(n,t,e,i,r);return lo(l)}Gc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(Is(t,n|1),Ne(t,oe()),!(Q&6)&&(Hn=oe()+500,Bt()))}break;case 13:ln(function(){var r=yt(e,1);if(r!==null){var i=we();Ze(r,e,1,i)}}),fa(e,1)}};Ds=function(e){if(e.tag===13){var t=yt(e,134217728);if(t!==null){var n=we();Ze(t,e,134217728,n)}fa(e,134217728)}};bc=function(e){if(e.tag===13){var t=Ot(e),n=yt(e,t);if(n!==null){var r=we();Ze(n,e,t,r)}fa(e,t)}};Zc=function(){return q};Jc=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};Ml=function(e,t,n){switch(t){case"input":if(xl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_o(r);if(!i)throw Error(P(90));Rc(r),xl(r,i)}}}break;case"textarea":Ic(e,n);break;case"select":t=n.value,t!=null&&$n(e,!!n.multiple,t,!1)}};Hc=la;Uc=ln;var b0={usingClientEntryPoint:!1,Events:[qr,yn,_o,Oc,Fc,la]},rr={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z0={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bc(e),e===null?null:e.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||Y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{go=hi.inject(Z0),ot=hi}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b0;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ha(t))throw Error(P(200));return X0(e,t,null,n)};Le.createRoot=function(e,t){if(!ha(e))throw Error(P(299));var n=!1,r="",i=Sd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ca(e,1,!1,null,null,n,!1,r,i),e[vt]=t.current,Nr(e.nodeType===8?e.parentNode:e),new da(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Bc(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return ln(e)};Le.hydrate=function(e,t,n){if(!Mo(t))throw Error(P(200));return No(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!ha(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Sd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=xd(t,null,e,1,n??null,i,!1,o,l),e[vt]=t.current,Nr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new To(t)};Le.render=function(e,t,n){if(!Mo(t))throw Error(P(200));return No(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!Mo(e))throw Error(P(40));return e._reactRootContainer?(ln(function(){No(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};Le.unstable_batchedUpdates=la;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mo(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return No(e,t,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function Cd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cd)}catch(e){console.error(e)}}Cd(),Sc.exports=Le;var J0=Sc.exports,Iu=J0;pl.createRoot=Iu.createRoot,pl.hydrateRoot=Iu.hydrateRoot;function ss(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var eg={value:()=>{}};function pa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ii(n)}function Ii(e){this._=e}function tg(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ii.prototype=pa.prototype={constructor:Ii,on:function(e,t){var n=this._,r=tg(e+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(e=r[o]).type)&&(i=ng(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(i=(e=r[o]).type)n[i]=Du(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Du(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ii(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function ng(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Du(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=eg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var as="http://www.w3.org/1999/xhtml";const zu={svg:"http://www.w3.org/2000/svg",xhtml:as,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ro(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),zu.hasOwnProperty(t)?{space:zu[t],local:e}:e}function rg(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===as&&t.documentElement.namespaceURI===as?t.createElement(e):t.createElementNS(n,e)}}function ig(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ga(e){var t=Ro(e);return(t.local?ig:rg)(t)}function og(){}function ma(e){return e==null?og:function(){return this.querySelector(e)}}function lg(e){typeof e!="function"&&(e=ma(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=new Array(l),a,c,h=0;h<l;++h)(a=o[h])&&(c=e.call(a,a.__data__,h,o))&&("__data__"in a&&(c.__data__=a.__data__),s[h]=c);return new ze(r,this._parents)}function sg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ag(){return[]}function kd(e){return e==null?ag:function(){return this.querySelectorAll(e)}}function ug(e){return function(){return sg(e.apply(this,arguments))}}function cg(e){typeof e=="function"?e=ug(e):e=kd(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var l=t[o],s=l.length,a,c=0;c<s;++c)(a=l[c])&&(r.push(e.call(a,a.__data__,c,l)),i.push(a));return new ze(r,i)}function Ed(e){return function(){return this.matches(e)}}function $d(e){return function(t){return t.matches(e)}}var fg=Array.prototype.find;function dg(e){return function(){return fg.call(this.children,e)}}function hg(){return this.firstElementChild}function pg(e){return this.select(e==null?hg:dg(typeof e=="function"?e:$d(e)))}var gg=Array.prototype.filter;function mg(){return Array.from(this.children)}function vg(e){return function(){return gg.call(this.children,e)}}function yg(e){return this.selectAll(e==null?mg:vg(typeof e=="function"?e:$d(e)))}function _g(e){typeof e!="function"&&(e=Ed(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,c=0;c<l;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&s.push(a);return new ze(r,this._parents)}function Td(e){return new Array(e.length)}function wg(){return new ze(this._enter||this._groups.map(Td),this._parents)}function so(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}so.prototype={constructor:so,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xg(e){return function(){return e}}function Sg(e,t,n,r,i,o){for(var l=0,s,a=t.length,c=o.length;l<c;++l)(s=t[l])?(s.__data__=o[l],r[l]=s):n[l]=new so(e,o[l]);for(;l<a;++l)(s=t[l])&&(i[l]=s)}function Cg(e,t,n,r,i,o,l){var s,a,c=new Map,h=t.length,d=o.length,f=new Array(h),u;for(s=0;s<h;++s)(a=t[s])&&(f[s]=u=l.call(a,a.__data__,s,t)+"",c.has(u)?i[s]=a:c.set(u,a));for(s=0;s<d;++s)u=l.call(e,o[s],s,o)+"",(a=c.get(u))?(r[s]=a,a.__data__=o[s],c.delete(u)):n[s]=new so(e,o[s]);for(s=0;s<h;++s)(a=t[s])&&c.get(f[s])===a&&(i[s]=a)}function kg(e){return e.__data__}function Eg(e,t){if(!arguments.length)return Array.from(this,kg);var n=t?Cg:Sg,r=this._parents,i=this._groups;typeof e!="function"&&(e=xg(e));for(var o=i.length,l=new Array(o),s=new Array(o),a=new Array(o),c=0;c<o;++c){var h=r[c],d=i[c],f=d.length,u=$g(e.call(h,h&&h.__data__,c,r)),p=u.length,g=s[c]=new Array(p),_=l[c]=new Array(p),m=a[c]=new Array(f);n(h,d,g,_,m,u,t);for(var y=0,v=0,w,M;y<p;++y)if(w=g[y]){for(y>=v&&(v=y+1);!(M=_[v])&&++v<p;);w._next=M||null}}return l=new ze(l,r),l._enter=s,l._exit=a,l}function $g(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tg(){return new ze(this._exit||this._groups.map(Td),this._parents)}function Mg(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Ng(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,l=Math.min(i,o),s=new Array(i),a=0;a<l;++a)for(var c=n[a],h=r[a],d=c.length,f=s[a]=new Array(d),u,p=0;p<d;++p)(u=c[p]||h[p])&&(f[p]=u);for(;a<i;++a)s[a]=n[a];return new ze(s,this._parents)}function Rg(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function Pg(e){e||(e=Ig);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],s=l.length,a=i[o]=new Array(s),c,h=0;h<s;++h)(c=l[h])&&(a[h]=c);a.sort(t)}return new ze(i,this._parents).order()}function Ig(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Dg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zg(){return Array.from(this)}function Lg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function Ag(){let e=0;for(const t of this)++e;return e}function Og(){return!this.node()}function Fg(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,l=i.length,s;o<l;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Hg(e){return function(){this.removeAttribute(e)}}function Ug(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vg(e,t){return function(){this.setAttribute(e,t)}}function jg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Bg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Wg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Qg(e,t){var n=Ro(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ug:Hg:typeof t=="function"?n.local?Wg:Bg:n.local?jg:Vg)(n,t))}function Md(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qg(e){return function(){this.style.removeProperty(e)}}function Kg(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xg(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Yg(e,t,n){return arguments.length>1?this.each((t==null?qg:typeof t=="function"?Xg:Kg)(e,t,n??"")):Un(this.node(),e)}function Un(e,t){return e.style.getPropertyValue(t)||Md(e).getComputedStyle(e,null).getPropertyValue(t)}function Gg(e){return function(){delete this[e]}}function bg(e,t){return function(){this[e]=t}}function Zg(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Jg(e,t){return arguments.length>1?this.each((t==null?Gg:typeof t=="function"?Zg:bg)(e,t)):this.node()[e]}function Nd(e){return e.trim().split(/^|\s+/)}function va(e){return e.classList||new Rd(e)}function Rd(e){this._node=e,this._names=Nd(e.getAttribute("class")||"")}Rd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Pd(e,t){for(var n=va(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Id(e,t){for(var n=va(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function em(e){return function(){Pd(this,e)}}function tm(e){return function(){Id(this,e)}}function nm(e,t){return function(){(t.apply(this,arguments)?Pd:Id)(this,e)}}function rm(e,t){var n=Nd(e+"");if(arguments.length<2){for(var r=va(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?nm:t?em:tm)(n,t))}function im(){this.textContent=""}function om(e){return function(){this.textContent=e}}function lm(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sm(e){return arguments.length?this.each(e==null?im:(typeof e=="function"?lm:om)(e)):this.node().textContent}function am(){this.innerHTML=""}function um(e){return function(){this.innerHTML=e}}function cm(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function fm(e){return arguments.length?this.each(e==null?am:(typeof e=="function"?cm:um)(e)):this.node().innerHTML}function dm(){this.nextSibling&&this.parentNode.appendChild(this)}function hm(){return this.each(dm)}function pm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gm(){return this.each(pm)}function mm(e){var t=typeof e=="function"?e:ga(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vm(){return null}function ym(e,t){var n=typeof e=="function"?e:ga(e),r=t==null?vm:typeof t=="function"?t:ma(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function _m(){var e=this.parentNode;e&&e.removeChild(this)}function wm(){return this.each(_m)}function xm(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Sm(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Cm(e){return this.select(e?Sm:xm)}function km(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Em(e){return function(t){e.call(this,t,this.__data__)}}function $m(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Tm(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Mm(e,t,n){return function(){var r=this.__on,i,o=Em(t);if(r){for(var l=0,s=r.length;l<s;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Nm(e,t,n){var r=$m(e+""),i,o=r.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,c=s.length,h;a<c;++a)for(i=0,h=s[a];i<o;++i)if((l=r[i]).type===h.type&&l.name===h.name)return h.value}return}for(s=t?Mm:Tm,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function Dd(e,t,n){var r=Md(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Rm(e,t){return function(){return Dd(this,e,t)}}function Pm(e,t){return function(){return Dd(this,e,t.apply(this,arguments))}}function Im(e,t){return this.each((typeof t=="function"?Pm:Rm)(e,t))}function*Dm(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var zd=[null];function ze(e,t){this._groups=e,this._parents=t}function Xr(){return new ze([[document.documentElement]],zd)}function zm(){return this}ze.prototype=Xr.prototype={constructor:ze,select:lg,selectAll:cg,selectChild:pg,selectChildren:yg,filter:_g,data:Eg,enter:wg,exit:Tg,join:Mg,merge:Ng,selection:zm,order:Rg,sort:Pg,call:Dg,nodes:zg,node:Lg,size:Ag,empty:Og,each:Fg,attr:Qg,style:Yg,property:Jg,classed:rm,text:sm,html:fm,raise:hm,lower:gm,append:mm,insert:ym,remove:wm,clone:Cm,datum:km,on:Nm,dispatch:Im,[Symbol.iterator]:Dm};function z(e){return typeof e=="string"?new ze([[document.querySelector(e)]],[document.documentElement]):new ze([[e]],zd)}function sn(e){return z(ga(e).call(document.documentElement))}function Lm(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wt(e,t){if(e=Lm(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const us={capture:!0,passive:!1};function cs(e){e.preventDefault(),e.stopImmediatePropagation()}function Am(e){var t=e.document.documentElement,n=z(e).on("dragstart.drag",cs,us);"onselectstart"in t?n.on("selectstart.drag",cs,us):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Om(e,t){var n=e.document.documentElement,r=z(e).on("dragstart.drag",null);t&&(r.on("click.drag",cs,us),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ya(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ld(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Yr(){}var Fr=.7,ao=1/Fr,In="\\s*([+-]?\\d+)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fm=/^#([0-9a-f]{3,8})$/,Hm=new RegExp(`^rgb\\(${In},${In},${In}\\)$`),Um=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),Vm=new RegExp(`^rgba\\(${In},${In},${In},${Hr}\\)$`),jm=new RegExp(`^rgba\\(${st},${st},${st},${Hr}\\)$`),Bm=new RegExp(`^hsl\\(${Hr},${st},${st}\\)$`),Wm=new RegExp(`^hsla\\(${Hr},${st},${st},${Hr}\\)$`),Lu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ya(Yr,Ur,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Au,formatHex:Au,formatHex8:Qm,formatHsl:qm,formatRgb:Ou,toString:Ou});function Au(){return this.rgb().formatHex()}function Qm(){return this.rgb().formatHex8()}function qm(){return Ad(this).formatHsl()}function Ou(){return this.rgb().formatRgb()}function Ur(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fm.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Fu(t):n===3?new $e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hm.exec(e))?new $e(t[1],t[2],t[3],1):(t=Um.exec(e))?new $e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vm.exec(e))?pi(t[1],t[2],t[3],t[4]):(t=jm.exec(e))?pi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Bm.exec(e))?Vu(t[1],t[2]/100,t[3]/100,1):(t=Wm.exec(e))?Vu(t[1],t[2]/100,t[3]/100,t[4]):Lu.hasOwnProperty(e)?Fu(Lu[e]):e==="transparent"?new $e(NaN,NaN,NaN,0):null}function Fu(e){return new $e(e>>16&255,e>>8&255,e&255,1)}function pi(e,t,n,r){return r<=0&&(e=t=n=NaN),new $e(e,t,n,r)}function Km(e){return e instanceof Yr||(e=Ur(e)),e?(e=e.rgb(),new $e(e.r,e.g,e.b,e.opacity)):new $e}function fs(e,t,n,r){return arguments.length===1?Km(e):new $e(e,t,n,r??1)}function $e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ya($e,fs,Ld(Yr,{brighter(e){return e=e==null?ao:Math.pow(ao,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fr:Math.pow(Fr,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $e(en(this.r),en(this.g),en(this.b),uo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hu,formatHex:Hu,formatHex8:Xm,formatRgb:Uu,toString:Uu}));function Hu(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}`}function Xm(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}${bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Uu(){const e=uo(this.opacity);return`${e===1?"rgb(":"rgba("}${en(this.r)}, ${en(this.g)}, ${en(this.b)}${e===1?")":`, ${e})`}`}function uo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function en(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bt(e){return e=en(e),(e<16?"0":"")+e.toString(16)}function Vu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ge(e,t,n,r)}function Ad(e){if(e instanceof Ge)return new Ge(e.h,e.s,e.l,e.opacity);if(e instanceof Yr||(e=Ur(e)),!e)return new Ge;if(e instanceof Ge)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,s=o-i,a=(o+i)/2;return s?(t===o?l=(n-r)/s+(n<r)*6:n===o?l=(r-t)/s+2:l=(t-n)/s+4,s/=a<.5?o+i:2-o-i,l*=60):s=a>0&&a<1?0:l,new Ge(l,s,a,e.opacity)}function Ym(e,t,n,r){return arguments.length===1?Ad(e):new Ge(e,t,n,r??1)}function Ge(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ya(Ge,Ym,Ld(Yr,{brighter(e){return e=e==null?ao:Math.pow(ao,e),new Ge(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fr:Math.pow(Fr,e),new Ge(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $e(ll(e>=240?e-240:e+120,i,r),ll(e,i,r),ll(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ge(ju(this.h),gi(this.s),gi(this.l),uo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uo(this.opacity);return`${e===1?"hsl(":"hsla("}${ju(this.h)}, ${gi(this.s)*100}%, ${gi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ju(e){return e=(e||0)%360,e<0?e+360:e}function gi(e){return Math.max(0,Math.min(1,e||0))}function ll(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Od=e=>()=>e;function Gm(e,t){return function(n){return e+n*t}}function bm(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Zm(e){return(e=+e)==1?Fd:function(t,n){return n-t?bm(t,n,e):Od(isNaN(t)?n:t)}}function Fd(e,t){var n=t-e;return n?Gm(e,n):Od(isNaN(e)?t:e)}const Bu=function e(t){var n=Zm(t);function r(i,o){var l=n((i=fs(i)).r,(o=fs(o)).r),s=n(i.g,o.g),a=n(i.b,o.b),c=Fd(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=s(h),i.b=a(h),i.opacity=c(h),i+""}}return r.gamma=e,r}(1);function Et(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ds=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(ds.source,"g");function Jm(e){return function(){return e}}function ev(e){return function(t){return e(t)+""}}function tv(e,t){var n=ds.lastIndex=sl.lastIndex=0,r,i,o,l=-1,s=[],a=[];for(e=e+"",t=t+"";(r=ds.exec(e))&&(i=sl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[l]?s[l]+=o:s[++l]=o),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,a.push({i:l,x:Et(r,i)})),n=sl.lastIndex;return n<t.length&&(o=t.slice(n),s[l]?s[l]+=o:s[++l]=o),s.length<2?a[0]?ev(a[0].x):Jm(t):(t=a.length,function(c){for(var h=0,d;h<t;++h)s[(d=a[h]).i]=d.x(c);return s.join("")})}var Wu=180/Math.PI,hs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hd(e,t,n,r,i,o){var l,s,a;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),e*r<t*n&&(e=-e,t=-t,a=-a,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Wu,skewX:Math.atan(a)*Wu,scaleX:l,scaleY:s}}var mi;function nv(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hs:Hd(t.a,t.b,t.c,t.d,t.e,t.f)}function rv(e){return e==null||(mi||(mi=document.createElementNS("http://www.w3.org/2000/svg","g")),mi.setAttribute("transform",e),!(e=mi.transform.baseVal.consolidate()))?hs:(e=e.matrix,Hd(e.a,e.b,e.c,e.d,e.e,e.f))}function Ud(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,h,d,f,u,p){if(c!==d||h!==f){var g=u.push("translate(",null,t,null,n);p.push({i:g-4,x:Et(c,d)},{i:g-2,x:Et(h,f)})}else(d||f)&&u.push("translate("+d+t+f+n)}function l(c,h,d,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Et(c,h)})):h&&d.push(i(d)+"rotate("+h+r)}function s(c,h,d,f){c!==h?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Et(c,h)}):h&&d.push(i(d)+"skewX("+h+r)}function a(c,h,d,f,u,p){if(c!==d||h!==f){var g=u.push(i(u)+"scale(",null,",",null,")");p.push({i:g-4,x:Et(c,d)},{i:g-2,x:Et(h,f)})}else(d!==1||f!==1)&&u.push(i(u)+"scale("+d+","+f+")")}return function(c,h){var d=[],f=[];return c=e(c),h=e(h),o(c.translateX,c.translateY,h.translateX,h.translateY,d,f),l(c.rotate,h.rotate,d,f),s(c.skewX,h.skewX,d,f),a(c.scaleX,c.scaleY,h.scaleX,h.scaleY,d,f),c=h=null,function(u){for(var p=-1,g=f.length,_;++p<g;)d[(_=f[p]).i]=_.x(u);return d.join("")}}}var iv=Ud(nv,"px, ","px)","deg)"),ov=Ud(rv,", ",")",")"),lv=1e-12;function Qu(e){return((e=Math.exp(e))+1/e)/2}function sv(e){return((e=Math.exp(e))-1/e)/2}function av(e){return((e=Math.exp(2*e))-1)/(e+1)}const uv=function e(t,n,r){function i(o,l){var s=o[0],a=o[1],c=o[2],h=l[0],d=l[1],f=l[2],u=h-s,p=d-a,g=u*u+p*p,_,m;if(g<lv)m=Math.log(f/c)/t,_=function(E){return[s+E*u,a+E*p,c*Math.exp(t*E*m)]};else{var y=Math.sqrt(g),v=(f*f-c*c+r*g)/(2*c*n*y),w=(f*f-c*c-r*g)/(2*f*n*y),M=Math.log(Math.sqrt(v*v+1)-v),R=Math.log(Math.sqrt(w*w+1)-w);m=(R-M)/t,_=function(E){var N=E*m,H=Qu(M),A=c/(n*y)*(H*av(t*N+M)-sv(M));return[s+A*u,a+A*p,c*H/Qu(t*N+M)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return i.rho=function(o){var l=Math.max(.001,+o),s=l*l,a=s*s;return e(l,s,a)},i}(Math.SQRT2,2,4);var Vn=0,cr=0,ir=0,Vd=1e3,co,fr,fo=0,an=0,Po=0,Vr=typeof performance=="object"&&performance.now?performance:Date,jd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _a(){return an||(jd(cv),an=Vr.now()+Po)}function cv(){an=0}function ho(){this._call=this._time=this._next=null}ho.prototype=Bd.prototype={constructor:ho,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_a():+n)+(t==null?0:+t),!this._next&&fr!==this&&(fr?fr._next=this:co=this,fr=this),this._call=e,this._time=n,ps()},stop:function(){this._call&&(this._call=null,this._time=1/0,ps())}};function Bd(e,t,n){var r=new ho;return r.restart(e,t,n),r}function fv(){_a(),++Vn;for(var e=co,t;e;)(t=an-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vn}function qu(){an=(fo=Vr.now())+Po,Vn=cr=0;try{fv()}finally{Vn=0,hv(),an=0}}function dv(){var e=Vr.now(),t=e-fo;t>Vd&&(Po-=t,fo=e)}function hv(){for(var e,t=co,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:co=n);fr=e,ps(r)}function ps(e){if(!Vn){cr&&(cr=clearTimeout(cr));var t=e-an;t>24?(e<1/0&&(cr=setTimeout(qu,e-Vr.now()-Po)),ir&&(ir=clearInterval(ir))):(ir||(fo=Vr.now(),ir=setInterval(dv,Vd)),Vn=1,jd(qu))}}function Ku(e,t,n){var r=new ho;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var pv=pa("start","end","cancel","interrupt"),gv=[],Wd=0,Xu=1,gs=2,Di=3,Yu=4,ms=5,zi=6;function Io(e,t,n,r,i,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;mv(e,n,{name:t,index:r,group:i,on:pv,tween:gv,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Wd})}function wa(e,t){var n=et(e,t);if(n.state>Wd)throw new Error("too late; already scheduled");return n}function at(e,t){var n=et(e,t);if(n.state>Di)throw new Error("too late; already running");return n}function et(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function mv(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Bd(o,0,n.time);function o(c){n.state=Xu,n.timer.restart(l,n.delay,n.time),n.delay<=c&&l(c-n.delay)}function l(c){var h,d,f,u;if(n.state!==Xu)return a();for(h in r)if(u=r[h],u.name===n.name){if(u.state===Di)return Ku(l);u.state===Yu?(u.state=zi,u.timer.stop(),u.on.call("interrupt",e,e.__data__,u.index,u.group),delete r[h]):+h<t&&(u.state=zi,u.timer.stop(),u.on.call("cancel",e,e.__data__,u.index,u.group),delete r[h])}if(Ku(function(){n.state===Di&&(n.state=Yu,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=gs,n.on.call("start",e,e.__data__,n.index,n.group),n.state===gs){for(n.state=Di,i=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(u=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=u);i.length=d+1}}function s(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=ms,1),d=-1,f=i.length;++d<f;)i[d].call(e,h);n.state===ms&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=zi,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Li(e,t){var n=e.__transition,r,i,o=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){o=!1;continue}i=r.state>gs&&r.state<ms,r.state=zi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}o&&delete e.__transition}}function vv(e){return this.each(function(){Li(this,e)})}function yv(e,t){var n,r;return function(){var i=at(this,e),o=i.tween;if(o!==n){r=n=o;for(var l=0,s=r.length;l<s;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function _v(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=at(this,e),l=o.tween;if(l!==r){i=(r=l).slice();for(var s={name:t,value:n},a=0,c=i.length;a<c;++a)if(i[a].name===t){i[a]=s;break}a===c&&i.push(s)}o.tween=i}}function wv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=et(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?yv:_v)(n,e,t))}function xa(e,t,n){var r=e._id;return e.each(function(){var i=at(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return et(i,r).value[t]}}function Qd(e,t){var n;return(typeof t=="number"?Et:t instanceof Ur?Bu:(n=Ur(t))?(t=n,Bu):tv)(e,t)}function xv(e){return function(){this.removeAttribute(e)}}function Sv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cv(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttribute(e);return l===i?null:l===r?o:o=t(r=l,n)}}function kv(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?o:o=t(r=l,n)}}function Ev(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function $v(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function Tv(e,t){var n=Ro(e),r=n==="transform"?ov:Qd;return this.attrTween(e,typeof t=="function"?(n.local?$v:Ev)(n,r,xa(this,"attr."+e,t)):t==null?(n.local?Sv:xv)(n):(n.local?kv:Cv)(n,r,t))}function Mv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Nv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Rv(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Nv(e,o)),n}return i._value=t,i}function Pv(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Mv(e,o)),n}return i._value=t,i}function Iv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ro(e);return this.tween(n,(r.local?Rv:Pv)(r,t))}function Dv(e,t){return function(){wa(this,e).delay=+t.apply(this,arguments)}}function zv(e,t){return t=+t,function(){wa(this,e).delay=t}}function Lv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Dv:zv)(t,e)):et(this.node(),t).delay}function Av(e,t){return function(){at(this,e).duration=+t.apply(this,arguments)}}function Ov(e,t){return t=+t,function(){at(this,e).duration=t}}function Fv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Av:Ov)(t,e)):et(this.node(),t).duration}function Hv(e,t){if(typeof t!="function")throw new Error;return function(){at(this,e).ease=t}}function Uv(e){var t=this._id;return arguments.length?this.each(Hv(t,e)):et(this.node(),t).ease}function Vv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,e).ease=n}}function jv(e){if(typeof e!="function")throw new Error;return this.each(Vv(this._id,e))}function Bv(e){typeof e!="function"&&(e=Ed(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,c=0;c<l;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&s.push(a);return new wt(r,this._parents,this._name,this._id)}function Wv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),l=new Array(r),s=0;s<o;++s)for(var a=t[s],c=n[s],h=a.length,d=l[s]=new Array(h),f,u=0;u<h;++u)(f=a[u]||c[u])&&(d[u]=f);for(;s<r;++s)l[s]=t[s];return new wt(l,this._parents,this._name,this._id)}function Qv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qv(e,t,n){var r,i,o=Qv(t)?wa:at;return function(){var l=o(this,e),s=l.on;s!==r&&(i=(r=s).copy()).on(t,n),l.on=i}}function Kv(e,t){var n=this._id;return arguments.length<2?et(this.node(),n).on.on(e):this.each(qv(n,e,t))}function Xv(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Yv(){return this.on("end.remove",Xv(this._id))}function Gv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ma(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var s=r[l],a=s.length,c=o[l]=new Array(a),h,d,f=0;f<a;++f)(h=s[f])&&(d=e.call(h,h.__data__,f,s))&&("__data__"in h&&(d.__data__=h.__data__),c[f]=d,Io(c[f],t,n,f,c,et(h,n)));return new wt(o,this._parents,t,n)}function bv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=kd(e));for(var r=this._groups,i=r.length,o=[],l=[],s=0;s<i;++s)for(var a=r[s],c=a.length,h,d=0;d<c;++d)if(h=a[d]){for(var f=e.call(h,h.__data__,d,a),u,p=et(h,n),g=0,_=f.length;g<_;++g)(u=f[g])&&Io(u,t,n,g,f,p);o.push(f),l.push(h)}return new wt(o,l,t,n)}var Zv=Xr.prototype.constructor;function Jv(){return new Zv(this._groups,this._parents)}function ey(e,t){var n,r,i;return function(){var o=Un(this,e),l=(this.style.removeProperty(e),Un(this,e));return o===l?null:o===n&&l===r?i:i=t(n=o,r=l)}}function qd(e){return function(){this.style.removeProperty(e)}}function ty(e,t,n){var r,i=n+"",o;return function(){var l=Un(this,e);return l===i?null:l===r?o:o=t(r=l,n)}}function ny(e,t,n){var r,i,o;return function(){var l=Un(this,e),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(e),Un(this,e))),l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s))}}function ry(e,t){var n,r,i,o="style."+t,l="end."+o,s;return function(){var a=at(this,e),c=a.on,h=a.value[o]==null?s||(s=qd(t)):void 0;(c!==n||i!==h)&&(r=(n=c).copy()).on(l,i=h),a.on=r}}function iy(e,t,n){var r=(e+="")=="transform"?iv:Qd;return t==null?this.styleTween(e,ey(e,r)).on("end.style."+e,qd(e)):typeof t=="function"?this.styleTween(e,ny(e,r,xa(this,"style."+e,t))).each(ry(this._id,e)):this.styleTween(e,ty(e,r,t),n).on("end.style."+e,null)}function oy(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ly(e,t,n){var r,i;function o(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&oy(e,l,n)),r}return o._value=t,o}function sy(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ly(e,t,n??""))}function ay(e){return function(){this.textContent=e}}function uy(e){return function(){var t=e(this);this.textContent=t??""}}function cy(e){return this.tween("text",typeof e=="function"?uy(xa(this,"text",e)):ay(e==null?"":e+""))}function fy(e){return function(t){this.textContent=e.call(this,t)}}function dy(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&fy(i)),t}return r._value=e,r}function hy(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,dy(e))}function py(){for(var e=this._name,t=this._id,n=Kd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,c=0;c<s;++c)if(a=l[c]){var h=et(a,t);Io(a,e,n,c,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new wt(r,this._parents,e,n)}function gy(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var s={value:l},a={value:function(){--i===0&&o()}};n.each(function(){var c=at(this,r),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(a)),c.on=t}),i===0&&o()})}var my=0;function wt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Kd(){return++my}var ut=Xr.prototype;wt.prototype={constructor:wt,select:Gv,selectAll:bv,selectChild:ut.selectChild,selectChildren:ut.selectChildren,filter:Bv,merge:Wv,selection:Jv,transition:py,call:ut.call,nodes:ut.nodes,node:ut.node,size:ut.size,empty:ut.empty,each:ut.each,on:Kv,attr:Tv,attrTween:Iv,style:iy,styleTween:sy,text:cy,textTween:hy,remove:Yv,tween:wv,delay:Lv,duration:Fv,ease:Uv,easeVarying:jv,end:gy,[Symbol.iterator]:ut[Symbol.iterator]};function vy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yy={time:null,delay:0,duration:250,ease:vy};function _y(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function wy(e){var t,n;e instanceof wt?(t=e._id,e=e._name):(t=Kd(),(n=yy).time=_a(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,c=0;c<s;++c)(a=l[c])&&Io(a,e,t,c,l,n||_y(a,t));return new wt(r,this._parents,e,t)}Xr.prototype.interrupt=vv;Xr.prototype.transition=wy;const vs=Math.PI,ys=2*vs,Kt=1e-6,xy=ys-Kt;function Xd(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Sy(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Xd;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Cy{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Xd:Sy(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,s=this._y1,a=r-t,c=i-n,h=l-t,d=s-n,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Kt)if(!(Math.abs(d*a-c*h)>Kt)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let u=r-l,p=i-s,g=a*a+c*c,_=u*u+p*p,m=Math.sqrt(g),y=Math.sqrt(f),v=o*Math.tan((vs-Math.acos((g+f-_)/(2*m*y)))/2),w=v/y,M=v/m;Math.abs(w-1)>Kt&&this._append`L${t+w*h},${n+w*d}`,this._append`A${o},${o},0,0,${+(d*u>h*p)},${this._x1=t+M*a},${this._y1=n+M*c}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),c=t+s,h=n+a,d=1^l,f=l?i-o:o-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Kt||Math.abs(this._y1-h)>Kt)&&this._append`L${c},${h}`,r&&(f<0&&(f=f%ys+ys),f>xy?this._append`A${r},${r},0,1,${d},${t-s},${n-a}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:f>Kt&&this._append`A${r},${r},0,${+(f>=vs)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ky(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Ey(){return this.eachAfter(ky)}function $y(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Ty(e,t){for(var n=this,r=[n],i,o,l=-1;n=r.pop();)if(e.call(t,n,++l,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function My(e,t){for(var n=this,r=[n],i=[],o,l,s,a=-1;n=r.pop();)if(i.push(n),o=n.children)for(l=0,s=o.length;l<s;++l)r.push(o[l]);for(;n=i.pop();)e.call(t,n,++a,this);return this}function Ny(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Ry(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Py(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Iy(e){for(var t=this,n=Dy(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Dy(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function zy(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Ly(){return Array.from(this)}function Ay(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Oy(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Fy(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function jn(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Vy)):t===void 0&&(t=Uy);for(var n=new jr(e),r,i=[n],o,l,s,a;r=i.pop();)if((l=t(r.data))&&(a=(l=Array.from(l)).length))for(r.children=l,s=a-1;s>=0;--s)i.push(o=l[s]=new jr(l[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(By)}function Hy(){return jn(this).eachBefore(jy)}function Uy(e){return e.children}function Vy(e){return Array.isArray(e)?e[1]:null}function jy(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function By(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function jr(e){this.data=e,this.depth=this.height=0,this.parent=null}jr.prototype=jn.prototype={constructor:jr,count:Ey,each:$y,eachAfter:My,eachBefore:Ty,find:Ny,sum:Ry,sort:Py,path:Iy,ancestors:zy,descendants:Ly,leaves:Ay,links:Oy,copy:Hy,[Symbol.iterator]:Fy};function Wy(e,t){return e.parent===t.parent?1:2}function al(e){var t=e.children;return t?t[0]:e.t}function ul(e){var t=e.children;return t?t[t.length-1]:e.t}function Qy(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function qy(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function Ky(e,t,n){return e.a.parent===t.parent?e.a:n}function Ai(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Ai.prototype=Object.create(jr.prototype);function Xy(e){for(var t=new Ai(e,0),n,r=[t],i,o,l,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),l=s-1;l>=0;--l)r.push(i=n.children[l]=new Ai(o[l],l)),i.parent=n;return(t.parent=new Ai(null,0)).children=[t],t}function Yy(){var e=Wy,t=1,n=1,r=null;function i(c){var h=Xy(c);if(h.eachAfter(o),h.parent.m=-h.z,h.eachBefore(l),r)c.eachBefore(a);else{var d=c,f=c,u=c;c.eachBefore(function(y){y.x<d.x&&(d=y),y.x>f.x&&(f=y),y.depth>u.depth&&(u=y)});var p=d===f?1:e(d,f)/2,g=p-d.x,_=t/(f.x+p+g),m=n/(u.depth||1);c.eachBefore(function(y){y.x=(y.x+g)*_,y.y=y.depth*m})}return c}function o(c){var h=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(h){qy(c);var u=(h[0].z+h[h.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-u):c.z=u}else f&&(c.z=f.z+e(c._,f._));c.parent.A=s(c,f,c.parent.A||d[0])}function l(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,h,d){if(h){for(var f=c,u=c,p=h,g=f.parent.children[0],_=f.m,m=u.m,y=p.m,v=g.m,w;p=ul(p),f=al(f),p&&f;)g=al(g),u=ul(u),u.a=c,w=p.z+y-f.z-_+e(p._,f._),w>0&&(Qy(Ky(p,c,d),c,w),_+=w,m+=w),y+=p.m,_+=f.m,v+=g.m,m+=u.m;p&&!ul(u)&&(u.t=p,u.m+=y-m),f&&!al(g)&&(g.t=f,g.m+=_-v,d=c)}return d}function a(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function dn(e){return function(){return e}}function Gy(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Cy(t)}function by(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yd(e){this._context=e}Yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zy(e){return new Yd(e)}function Jy(e){return e[0]}function e1(e){return e[1]}function Gu(e,t){var n=dn(!0),r=null,i=Zy,o=null,l=Gy(s);e=typeof e=="function"?e:e===void 0?Jy:dn(e),t=typeof t=="function"?t:t===void 0?e1:dn(t);function s(a){var c,h=(a=by(a)).length,d,f=!1,u;for(r==null&&(o=i(u=l())),c=0;c<=h;++c)!(c<h&&n(d=a[c],c,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(d,c,a),+t(d,c,a));if(u)return o=null,u+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:dn(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:dn(+a),s):t},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:dn(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function bu(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Gd(e){this._context=e}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t1(e){return new Gd(e)}function Zu(e){return e<0?-1:1}function Ju(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),s=(o*i+l*r)/(r+i);return(Zu(o)+Zu(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(s))||0}function ec(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function cl(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,l-s*n,o,l)}function _s(e){this._context=e}_s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cl(this,this._t0,ec(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cl(this,ec(this,n=Ju(this,e,t)),n);break;default:cl(this,this._t0,n=Ju(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function bd(e){this._context=new Zd(e)}(bd.prototype=Object.create(_s.prototype)).point=function(e,t){_s.prototype.point.call(this,t,e)};function Zd(e){this._context=e}Zd.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function n1(e){return new bd(e)}const vi=e=>()=>e;function r1(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pt(e,t,n){this.k=e,this.x=t,this.y=n}pt.prototype={constructor:pt,scale:function(e){return e===1?this:new pt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sa=new pt(1,0,0);pt.prototype;function fl(e){e.stopImmediatePropagation()}function or(e){e.preventDefault(),e.stopImmediatePropagation()}function i1(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function o1(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function tc(){return this.__zoom||Sa}function l1(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function s1(){return navigator.maxTouchPoints||"ontouchstart"in this}function a1(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function u1(){var e=i1,t=o1,n=a1,r=l1,i=s1,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,a=uv,c=pa("start","zoom","end"),h,d,f,u=500,p=150,g=0,_=10;function m(S){S.property("__zoom",tc).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(S,L,T,$){var x=S.selection?S.selection():S;x.property("__zoom",tc),S!==x?M(S,L,T,$):x.interrupt().each(function(){R(this,arguments).event($).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},m.scaleBy=function(S,L,T,$){m.scaleTo(S,function(){var x=this.__zoom.k,C=typeof L=="function"?L.apply(this,arguments):L;return x*C},T,$)},m.scaleTo=function(S,L,T,$){m.transform(S,function(){var x=t.apply(this,arguments),C=this.__zoom,k=T==null?w(x):typeof T=="function"?T.apply(this,arguments):T,D=C.invert(k),I=typeof L=="function"?L.apply(this,arguments):L;return n(v(y(C,I),k,D),x,l)},T,$)},m.translateBy=function(S,L,T,$){m.transform(S,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),l)},null,$)},m.translateTo=function(S,L,T,$,x){m.transform(S,function(){var C=t.apply(this,arguments),k=this.__zoom,D=$==null?w(C):typeof $=="function"?$.apply(this,arguments):$;return n(Sa.translate(D[0],D[1]).scale(k.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof T=="function"?-T.apply(this,arguments):-T),C,l)},$,x)};function y(S,L){return L=Math.max(o[0],Math.min(o[1],L)),L===S.k?S:new pt(L,S.x,S.y)}function v(S,L,T){var $=L[0]-T[0]*S.k,x=L[1]-T[1]*S.k;return $===S.x&&x===S.y?S:new pt(S.k,$,x)}function w(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function M(S,L,T,$){S.on("start.zoom",function(){R(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event($).end()}).tween("zoom",function(){var x=this,C=arguments,k=R(x,C).event($),D=t.apply(x,C),I=T==null?w(D):typeof T=="function"?T.apply(x,C):T,U=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),V=x.__zoom,W=typeof L=="function"?L.apply(x,C):L,G=a(V.invert(I).concat(U/V.k),W.invert(I).concat(U/W.k));return function(se){if(se===1)se=W;else{var Qe=G(se),Xn=U/Qe[2];se=new pt(Xn,I[0]-Qe[0]*Xn,I[1]-Qe[1]*Xn)}k.zoom(null,se)}})}function R(S,L,T){return!T&&S.__zooming||new E(S,L)}function E(S,L){this.that=S,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,L),this.taps=0}E.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,L){return this.mouse&&S!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var L=z(this.that).datum();c.call(S,this.that,new r1(S,{sourceEvent:this.sourceEvent,target:m,type:S,transform:this.that.__zoom,dispatch:c}),L)}};function N(S,...L){if(!e.apply(this,arguments))return;var T=R(this,L).event(S),$=this.__zoom,x=Math.max(o[0],Math.min(o[1],$.k*Math.pow(2,r.apply(this,arguments)))),C=Wt(S);if(T.wheel)(T.mouse[0][0]!==C[0]||T.mouse[0][1]!==C[1])&&(T.mouse[1]=$.invert(T.mouse[0]=C)),clearTimeout(T.wheel);else{if($.k===x)return;T.mouse=[C,$.invert(C)],Li(this),T.start()}or(S),T.wheel=setTimeout(k,p),T.zoom("mouse",n(v(y($,x),T.mouse[0],T.mouse[1]),T.extent,l));function k(){T.wheel=null,T.end()}}function H(S,...L){if(f||!e.apply(this,arguments))return;var T=S.currentTarget,$=R(this,L,!0).event(S),x=z(S.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",U,!0),C=Wt(S,T),k=S.clientX,D=S.clientY;Am(S.view),fl(S),$.mouse=[C,this.__zoom.invert(C)],Li(this),$.start();function I(V){if(or(V),!$.moved){var W=V.clientX-k,G=V.clientY-D;$.moved=W*W+G*G>g}$.event(V).zoom("mouse",n(v($.that.__zoom,$.mouse[0]=Wt(V,T),$.mouse[1]),$.extent,l))}function U(V){x.on("mousemove.zoom mouseup.zoom",null),Om(V.view,$.moved),or(V),$.event(V).end()}}function A(S,...L){if(e.apply(this,arguments)){var T=this.__zoom,$=Wt(S.changedTouches?S.changedTouches[0]:S,this),x=T.invert($),C=T.k*(S.shiftKey?.5:2),k=n(v(y(T,C),$,x),t.apply(this,L),l);or(S),s>0?z(this).transition().duration(s).call(M,k,$,S):z(this).call(m.transform,k,$,S)}}function F(S,...L){if(e.apply(this,arguments)){var T=S.touches,$=T.length,x=R(this,L,S.changedTouches.length===$).event(S),C,k,D,I;for(fl(S),k=0;k<$;++k)D=T[k],I=Wt(D,this),I=[I,this.__zoom.invert(I),D.identifier],x.touch0?!x.touch1&&x.touch0[2]!==I[2]&&(x.touch1=I,x.taps=0):(x.touch0=I,C=!0,x.taps=1+!!h);h&&(h=clearTimeout(h)),C&&(x.taps<2&&(d=I[0],h=setTimeout(function(){h=null},u)),Li(this),x.start())}}function B(S,...L){if(this.__zooming){var T=R(this,L).event(S),$=S.changedTouches,x=$.length,C,k,D,I;for(or(S),C=0;C<x;++C)k=$[C],D=Wt(k,this),T.touch0&&T.touch0[2]===k.identifier?T.touch0[0]=D:T.touch1&&T.touch1[2]===k.identifier&&(T.touch1[0]=D);if(k=T.that.__zoom,T.touch1){var U=T.touch0[0],V=T.touch0[1],W=T.touch1[0],G=T.touch1[1],se=(se=W[0]-U[0])*se+(se=W[1]-U[1])*se,Qe=(Qe=G[0]-V[0])*Qe+(Qe=G[1]-V[1])*Qe;k=y(k,Math.sqrt(se/Qe)),D=[(U[0]+W[0])/2,(U[1]+W[1])/2],I=[(V[0]+G[0])/2,(V[1]+G[1])/2]}else if(T.touch0)D=T.touch0[0],I=T.touch0[1];else return;T.zoom("touch",n(v(k,D,I),T.extent,l))}}function X(S,...L){if(this.__zooming){var T=R(this,L).event(S),$=S.changedTouches,x=$.length,C,k;for(fl(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},u),C=0;C<x;++C)k=$[C],T.touch0&&T.touch0[2]===k.identifier?delete T.touch0:T.touch1&&T.touch1[2]===k.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(k=Wt(k,this),Math.hypot(d[0]-k[0],d[1]-k[1])<_)){var D=z(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return m.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:vi(+S),m):r},m.filter=function(S){return arguments.length?(e=typeof S=="function"?S:vi(!!S),m):e},m.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:vi(!!S),m):i},m.extent=function(S){return arguments.length?(t=typeof S=="function"?S:vi([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),m):t},m.scaleExtent=function(S){return arguments.length?(o[0]=+S[0],o[1]=+S[1],m):[o[0],o[1]]},m.translateExtent=function(S){return arguments.length?(l[0][0]=+S[0][0],l[1][0]=+S[1][0],l[0][1]=+S[0][1],l[1][1]=+S[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(S){return arguments.length?(n=S,m):n},m.duration=function(S){return arguments.length?(s=+S,m):s},m.interpolate=function(S){return arguments.length?(a=S,m):a},m.on=function(){var S=c.on.apply(c,arguments);return S===c?m:S},m.clickDistance=function(S){return arguments.length?(g=(S=+S)*S,m):Math.sqrt(g)},m.tapDistance=function(S){return arguments.length?(_=+S,m):_},m}function c1(e,t,n){if(!t.rels.children)return;const r=t.rels.spouses||[];return e.sort((i,o)=>{const l=nc(i,t,n),s=nc(o,t,n),a=l?r.indexOf(l.id):-1,c=s?r.indexOf(s.id):-1;return t.data.gender==="M"?a-c:c-a})}function f1(e){return e.sort((t,n)=>{const r=t._new_rel_data,i=n._new_rel_data;return r&&!i?1:!r&&i?-1:0})}function nc(e,t,n){return n.find(r=>r.id!==t.id&&e.rels.parents.includes(r.id))}function Bn(e,t,n){if(e.exiting=n,t)if(e.depth===0&&!e.spouse)e._x=e.x,e._y=e.y;else if(e.spouse)e._x=e.spouse.x,e._y=e.spouse.y;else if(e.is_ancestry){if(!e.parent)throw new Error("no parent");e._x=e.parent.x,e._y=e.parent.y}else e._x=e.psx,e._y=e.psy;else if(n){const r=e.x>0?1:-1,i=e.y>0?1:-1;e._x=e.x+400*r,e._y=e.y+400*i}}function d1({tree:e,data_stash:t,node_separation:n,sortChildrenFunction:r}){const i=e.find(f=>f.data.main);if(!i)throw new Error("no main");const o=i.data.rels.parents[0],l=i.data.rels.parents[1],s=c(i);if(s.length>0&&!i.parents)throw new Error("no parents");const a=h(i);d(i);function c(f){return t.filter(u=>u.id===f.data.id?!1:!!(o&&u.rels.parents.includes(o)||l&&u.rels.parents.includes(l)))}function h(f){const u=[];for(let p=0;p<s.length;p++){const g={data:s[p],sibling:!0,x:0,y:f.y,depth:f.depth-1,parents:[]},_=f.parents.find(y=>y.data.id===g.data.rels.parents[0]),m=f.parents.find(y=>y.data.id===g.data.rels.parents[1]);_&&g.parents.push(_),m&&g.parents.push(m),e.push(g),u.push(g)}return u}function d(f){var u,p;const g=[f,...a];r&&g.sort((w,M)=>r(w.data,M.data)),g.sort((w,M)=>{const R=f.parents.find(A=>A.data.id===w.data.rels.parents[0]),E=f.parents.find(A=>A.data.id===w.data.rels.parents[1]),N=f.parents.find(A=>A.data.id===M.data.rels.parents[0]),H=f.parents.find(A=>A.data.id===M.data.rels.parents[1]);return!E&&H?-1:E&&!H||!R&&N?1:R&&!N?-1:0});const _=f.x,m=(f.spouses||[]).map(w=>w.x),y=ss([_,...m]),v=g.findIndex(w=>w.data.id===f.data.id);for(let w=0;w<g.length;w++){if(w===v)continue;const M=g[w];w<v?M.x=((u=y[0])!==null&&u!==void 0?u:0)-n*(v-w):M.x=((p=y[1])!==null&&p!==void 0?p:0)+n*(w-v)}}}function h1({tree:e,data_stash:t,private_cards_config:n}){const r={},i=n.condition;if(!i)return console.error("private_cards_config.condition is not set");e.forEach(l=>{if(l.data._new_rel_data)return;const s=o(l.data.id);s&&(l.is_private=s)});function o(l){const s=[];let a=!1;return c(l),r[l]=a,a;function c(h){if(a)return;if(r.hasOwnProperty(h))return a=r[h],a;const d=t.find(u=>u.id===h);if(!d)throw new Error("no d");if(d._new_rel_data)return;if(i(d))return a=!0,!0;const f=d.rels;[...f.parents,...f.spouses||[]].forEach(u=>{u&&(s.includes(u)||(s.push(u),c(u)))})}}}function p1(e,t){const n=t.find(s=>s.id===e);if(!n)throw new Error("no datum");const r=jn(n,s=>l(s)),i=jn(n,s=>o(s));return{ancestry:r.height,progeny:i.height};function o(s){return[...s.rels.children||[]].map(a=>t.find(c=>c.id===a)).filter(a=>a&&!a._new_rel_data&&!a.to_add)}function l(s){return s.rels.parents.filter(a=>a).map(a=>t.find(c=>c.id===a)).filter(a=>a&&!a._new_rel_data&&!a.to_add)}}function $t({data:e,rels:t}){return{id:g1(),data:e||{},rels:Object.assign({parents:[],children:[],spouses:[]},t||{})}}function g1(){var e=new Date().getTime(),t=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=Math.random()*16;return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(n==="x"?r:r&3|8).toString(16)})}function m1(e,t){const n=e.data.rels;return[...n.parents,...n.spouses||[],...n.children||[]].filter(i=>i).every(i=>t.some(o=>o.data.id===i))}function Gr(e,t,n){const r=n*.4,i=Math.max(...e.data.map(l=>l.is_ancestry?l.depth:0));let o=t.depth*r;return(t.depth!==0||t.spouse)&&!t.is_ancestry&&(o+=i*r,t.spouse&&(o+=r),o+=t.depth*r),o}function v1(e){e.forEach(t=>{var r;if(!t.spouse)return;const n=t.spouse;if(t.duplicate&&n.data._tgdp_sp){const i=n.data.main?"main":n.parent.data.id;(r=n.data._tgdp_sp[i])!=null&&r.hasOwnProperty(t.data.id)&&(t._toggle=n.data._tgdp_sp[i][t.data.id])}})}function y1(e,t,n=!0){const r=[];i(e),f(r);function i(u){if(!u.children)return;const p=u.data,g=(u.data.rels.spouses||[]).map(m=>t.find(y=>y.id===m)),_=d(u);g.forEach(m=>{if(r.some(v=>v.some(w=>h([p,m],[w.p1,w.p2]))))return;const y=c(u,p,m);if(y.length>0){const v=[{d:u,p1:p,p2:m},...y];r.push(v),o(v),l(v)}else{let v=e===u?"main":u.parent.data.id;s(u,v,m),(_[m.id]||[]).forEach(w=>{i(w)})}})}function o(u){if(u.forEach(({d:p,p1:g,p2:_},m)=>{p.data._tgdp_sp||(p.data._tgdp_sp={});let y=e===p?"main":p.parent.data.id;a(p,y,_),p.data._tgdp_sp[y]||(p.data._tgdp_sp[y]={});let v=1;p.data._tgdp_sp[y].hasOwnProperty(_.id)?v=p.data._tgdp_sp[y][_.id]:p.data._tgdp_sp[y][_.id]=v,u[m].val=v}),n){if(u.every(p=>p.val<0)){const p=u.sort((v,w)=>w.val-v.val)[0],{d:g,p1:_,p2:m}=p,y=e===g?"main":g.parent.data.id;g.data._tgdp_sp[y][m.id]=1}if(u.filter(p=>p.val>0).length>1){const p=u.sort((g,_)=>_.val-g.val)[0];u.forEach(g=>{if(g===p)return;const{d:_,p1:m,p2:y}=g,v=e===_?"main":_.parent.data.id;_.data._tgdp_sp[v][y.id]=-1})}}}function l(u){u.forEach(({d:p,p1:g,p2:_})=>{const m=e===p?"main":p.parent.data.id;if(p.data._tgdp_sp[m][_.id]<0){const y=d(p);y[_.id]&&(p.children=p.children.filter(v=>!y[_.id].includes(v)),p.children.length===0&&delete p.children)}})}function s(u,p,g){u.data._tgdp_sp&&u.data._tgdp_sp[p]&&u.data._tgdp_sp[p].hasOwnProperty(g.id)&&(u.data.__tgdp_sp||(u.data.__tgdp_sp={}),u.data.__tgdp_sp[p]||(u.data.__tgdp_sp[p]={}),u.data.__tgdp_sp[p][g.id]=u.data._tgdp_sp[p][g.id],delete u.data._tgdp_sp[p][g.id])}function a(u,p,g){u.data.__tgdp_sp&&u.data.__tgdp_sp[p]&&u.data.__tgdp_sp[p].hasOwnProperty(g.id)&&(u.data._tgdp_sp[p][g.id]=u.data.__tgdp_sp[p][g.id],delete u.data.__tgdp_sp[p][g.id])}function c(u,p,g){const _=[];return m(e),_;function m(y){if(y!==u&&y.children){const v=y.data,w=(y.data.rels.spouses||[]).map(R=>t.find(E=>E.id===R)),M=d(y);w.forEach(R=>{h([p,g],[v,R])?_.push({d:y,p1:v,p2:R}):(M[R.id]||[]).forEach(E=>{m(E)})})}}}function h(u,p){return u.every(g=>p.some(_=>g.id===_.id))}function d(u){const p={},g=u;return(u.children||[]).forEach(_=>{const m=_.data.rels,y=m.parents[0]===g.data.id?m.parents[1]:m.parents[0];p[y]||(p[y]=[]),p[y].push(_)}),p}function f(u){let p=0;u.forEach(g=>{p=p+1,g.forEach(_=>{_.d._toggle_id_sp||(_.d._toggle_id_sp={}),_.d._toggle_id_sp[_.p2.id]=p})})}}function _1(e,t=!0){const n=[];r(e),a(n);function r(c){if(c.children){if(n.some(d=>d.includes(c)))return;const h=l(c.children);if(h.length>0){const d=[c,...h];n.push(d),i(d),o(d)}else c.children.forEach(d=>{r(d)})}}function i(c){if(c.forEach(h=>{h.data._tgdp||(h.data._tgdp={});const d=e===h?"main":h.parent.data.id;h.data._tgdp[d]||(h.data._tgdp[d]=-1),h._toggle=h.data._tgdp[d]}),t){if(c.every(h=>h._toggle<0)){const d=c.sort((u,p)=>p._toggle-u._toggle)[0],f=e===d?"main":d.parent.data.id;d.data._tgdp[f]=1}if(c.filter(h=>h._toggle>0).length>1){const h=c.sort((d,f)=>f._toggle-d._toggle)[0];c.forEach(d=>{if(d===h)return;const f=d,u=e===f?"main":f.parent.data.id;f.data._tgdp[u]=-1})}}}function o(c){c.forEach(h=>{const d=e===h?"main":h.parent.data.id;h.data._tgdp[d]<0&&delete h.children})}function l(c){const h=[];return d(e),h;function d(f){f.children&&(s(c,f.children)?h.push(f):f.children.forEach(u=>{d(u)}))}}function s(c,h){return c!==h&&c.every(d=>h.some(f=>d.data.id===f.data.id))}function a(c){let h=0;c.forEach(d=>{h=h+1,d.forEach(f=>{f._toggle_id=h})})}}function rc(e){return e.forEach(n=>{n.rels.parents||(n.rels.parents=[]),n.rels.spouses||(n.rels.spouses=[]),n.rels.children||(n.rels.children=[]),t(n)}),e;function t(n){n.rels.parents||(n.rels.parents=[]),n.rels.father&&n.rels.parents.push(n.rels.father),n.rels.mother&&n.rels.parents.push(n.rels.mother),delete n.rels.father,delete n.rels.mother}}function w1(e,t=!1){return e.forEach(n=>{var r;if(t){let i,o;(r=n.rels.parents)===null||r===void 0||r.forEach(l=>{const s=e.find(a=>a.id===l);if(!s)throw new Error("Parent not found");s.data.gender==="M"&&(i?o=s.id:i=s.id),s.data.gender==="F"&&(o?i=s.id:o=s.id)}),i&&(n.rels.father=i),o&&(n.rels.mother=o),delete n.rels.parents}n.rels.parents&&n.rels.parents.length===0&&delete n.rels.parents,n.rels.spouses&&n.rels.spouses.length===0&&delete n.rels.spouses,n.rels.children&&n.rels.children.length===0&&delete n.rels.children}),e}function x1(e,{main_id:t=null,node_separation:n=250,level_separation:r=150,single_parent_empty_card:i=!0,is_horizontal:o=!1,one_level_rels:l=!1,sortChildrenFunction:s=void 0,sortSpousesFunction:a=void 0,ancestry_depth:c=void 0,progeny_depth:h=void 0,show_siblings_of_main:d=!1,modifyTreeHierarchy:f=void 0,private_cards_config:u=void 0,duplicate_branch_toggle:p=!1,on_toggle_one_close_others:g=!0}){if(!e||!e.length)throw new Error("No data");o&&([n,r]=[r,n]);const _=i?S(e):e;(!t||!_.find($=>$.id===t))&&(t=_[0].id);const m=_.find($=>$.id===t);if(!m)throw new Error("Main not found");const y=R(m,"children",!1),v=R(m,"parents",!0);_.forEach($=>$.main=$===m),E(v,y);const w=N(v,y);B(w),A(w,n),d&&!l&&d1({tree:w,data_stash:_,node_separation:n,sortChildrenFunction:s}),F(w),H(w),w.forEach($=>$.all_rels_displayed=m1($,w)),u&&h1({tree:w,data_stash:_,private_cards_config:u}),S1(w),p&&v1(w);const M=X(w,n,r);return{data:w,data_stash:_,dim:M,main_id:m.id,is_horizontal:o};function R($,x,C){const k=x==="children"?Xn:xh,D=Yy().nodeSize([n,r]).separation(V),I=jn($,k);L(I,C),p&&T(I,_,C),f&&f(I,C),D(I);const U=I.descendants();return U.forEach(K=>{K.x===void 0&&(K.x=0),K.y===void 0&&(K.y=0)}),U;function V(K,re){let Ce=1;return C||(W(K,re)||(Ce+=.25),l||Qe(K,re)&&(Ce+=Sh(K,re)),W(K,re)&&!G(K,re)&&(Ce+=.125)),Ce}function W(K,re){return K.parent==re.parent}function G(K,re){const Ce=[...K.data.rels.parents].sort(),Fe=[...re.data.rels.parents].sort();return Ce.length===Fe.length&&Ce.every((Do,Ch)=>Do===Fe[Ch])}function se(K){return K.data.rels.spouses&&K.data.rels.spouses.length>0}function Qe(K,re){return se(K)||se(re)}function Xn(K){const re=[...K.rels.children||[]].map(Ce=>_.find(Fe=>Fe.id===Ce)).filter(Ce=>Ce!==void 0);return s&&re.sort(s),f1(re),a&&a(K,_),c1(re,K,_),re}function xh(K){let re=[...K.rels.parents];const Ce=_.find(Fe=>Fe.id===re[0]);return Ce&&Ce.data.gender==="F"&&re.reverse(),re.filter(Fe=>Fe).map(Fe=>_.find(Do=>Do.id===Fe)).filter(Fe=>Fe!==void 0)}function Sh(K,re){return((K.data.rels.spouses||[]).length+(re.data.rels.spouses||[]).length)*.5}}function E($,x){const C=($[0].x-x[0].x)/2;$.forEach(k=>k.x-=C),x.forEach(k=>k.x+=C)}function N($,x){return $.forEach(C=>{C.is_ancestry=!0}),$.forEach(C=>C.depth===1?C.parent=x[0]:null),[...x,...$.slice(1)]}function H($){$.forEach(x=>{if(x.y*=x.is_ancestry?-1:1,o){const C=x.x;x.x=x.y,x.y=C}})}function A($,x){for(let C=$.length;C--;){const k=$[C];if(!k.is_ancestry){let D=k.data.rels.spouses||[];if(k._ignore_spouses&&(D=D.filter(I=>!k._ignore_spouses.includes(I))),D.length>0){if(l&&k.depth>0)continue;const I=k.data.data.gender==="M"?-1:1;k.x+=D.length/2*x*I,D.forEach((U,V)=>{const W={data:_.find(G=>G.id===U),added:!0,depth:k.depth,spouse:k,x:k.x-x*(V+1)*I,y:k.y,tid:`${k.data.id}-spouse-${V}`};W.sx=V>0?W.x:W.x+x/2*I,W.sy=V>0?W.y:W.y+x/2*I,k.spouses||(k.spouses=[]),k.spouses.push(W),$.push(W)})}}if(k.parents&&k.parents.length===2){const D=k.parents[0],I=k.parents[1],U=D.x-(D.x-I.x)/2,V=(W,G)=>U+x/2*(W.x<G.x?1:-1);I.x=V(D,I),D.x=V(I,D)}}}function F($){$.forEach(x=>{if(x.is_ancestry||x.depth===0||x.added||x.sibling)return;const C=x.parent,k=((C==null?void 0:C.spouses)||[]).find(I=>x.data.rels.parents.includes(I.data.id));if(C&&k){!C.added&&!k.added&&console.error("no added spouse",C,k);const I=C.added?C:k;D(x,I)}else if(C||k){const I=C||k;if(!I)throw new Error("no progeny parent");I.sx=I.x,I.sy=I.y,D(x,I)}function D(I,U){I.psx=o?U.y:U.sx,I.psy=o?U.sx:U.y}})}function B($){$.forEach(x=>{if(delete x.children,$.forEach(C=>{C.parent===x&&(C.is_ancestry?(x.parents||(x.parents=[]),x.parents.push(C)):(x.children||(x.children=[]),x.children.push(C)))}),x.parents&&x.parents.length===2){const C=x.parents[0],k=x.parents[1];C.coparent=k,k.coparent=C}})}function X($,x,C){o&&([x,C]=[C,x]);const k=ss($,I=>I.x),D=ss($,I=>I.y);if(k[0]===void 0||k[1]===void 0||D[0]===void 0||D[1]===void 0)throw new Error("No extent");return{width:k[1]-k[0]+x,height:D[1]-D[0]+C,x_off:-k[0]+x/2,y_off:-D[0]+C/2}}function S($){const x=[];for(let D=0;D<$.length;D++){const I=$[D];if(I.rels.children&&I.rels.children.length>0){I.rels.spouses||(I.rels.spouses=[]);let U;I.rels.children.forEach(V=>{const W=$.find(G=>G.id===V);if(W.rels.parents.length!==2){if(U||(U=C(I)),U.rels.children||(U.rels.children=[]),U.rels.children.push(W.id),W.rels.parents.length!==1)throw new Error("child has more than 1 parent");W.rels.parents.push(U.id)}})}}return x.forEach(D=>$.push(D)),$;function C(D){return(D.rels.spouses||[]).map(U=>$.find(V=>V.id===U)).filter(U=>U!==void 0).find(U=>U.to_add)||k(D)}function k(D){const I=$t({data:{gender:D.data.gender==="M"?"F":"M"},rels:{spouses:[D.id]}});return I.to_add=!0,x.push(I),D.rels.spouses||(D.rels.spouses=[]),D.rels.spouses.push(I.id),I}}function L($,x){let C=x?c:h;if(l&&(C=1),!C&&C!==0)return $;return k($,0),$;function k(D,I){I===C?D.children&&delete D.children:D.children&&D.children.forEach(U=>{k(U,I+1)})}}function T($,x,C){C?_1($,g):y1($,x,g)}}function S1(e){const t=[];e.forEach(n=>{if(t.includes(n.data.id)){const r=e.filter(i=>i.data.id===n.data.id);r.forEach((i,o)=>{i.tid=`${n.data.id}--x${o+1}`,i.duplicate=r.length,t.push(n.data.id)})}else n.tid=n.data.id,t.push(n.data.id)})}function C1(e){let t;const n=Object.assign({transition_time:1e3},e);return n.main_id_history=[],n.data&&(f(n.data),rc(n.data)),{state:n,updateTree:u=>{!n.data||n.data.length===0||(n.tree=i(),!n.main_id&&n.tree&&c(n.tree.main_id),t&&t(u))},updateData:u=>{f(u),rc(u),n.data=u,h()},updateMainId:c,getMainId:()=>n.main_id,getData:()=>n.data,getTree:()=>n.tree,setOnUpdate:u=>t=u,getMainDatum:o,getDatum:l,getTreeMainDatum:s,getTreeDatum:a,getLastAvailableMainDatum:d,methods:{}};function i(){const u={main_id:n.main_id};return n.node_separation!==void 0&&(u.node_separation=n.node_separation),n.level_separation!==void 0&&(u.level_separation=n.level_separation),n.single_parent_empty_card!==void 0&&(u.single_parent_empty_card=n.single_parent_empty_card),n.is_horizontal!==void 0&&(u.is_horizontal=n.is_horizontal),n.one_level_rels!==void 0&&(u.one_level_rels=n.one_level_rels),n.modifyTreeHierarchy!==void 0&&(u.modifyTreeHierarchy=n.modifyTreeHierarchy),n.sortChildrenFunction!==void 0&&(u.sortChildrenFunction=n.sortChildrenFunction),n.sortSpousesFunction!==void 0&&(u.sortSpousesFunction=n.sortSpousesFunction),n.ancestry_depth!==void 0&&(u.ancestry_depth=n.ancestry_depth),n.progeny_depth!==void 0&&(u.progeny_depth=n.progeny_depth),n.show_siblings_of_main!==void 0&&(u.show_siblings_of_main=n.show_siblings_of_main),n.private_cards_config!==void 0&&(u.private_cards_config=n.private_cards_config),n.duplicate_branch_toggle!==void 0&&(u.duplicate_branch_toggle=n.duplicate_branch_toggle),x1(n.data,u)}function o(){const u=n.data.find(p=>p.id===n.main_id);if(!u)throw new Error("Main datum not found");return u}function l(u){const p=n.data.find(g=>g.id===u);if(p)return p}function s(){if(!n.tree)throw new Error("No tree");const u=n.tree.data.find(p=>p.data.id===n.main_id);if(!u)throw new Error("No tree main datum");return u}function a(u){if(!n.tree)throw new Error("No tree");const p=n.tree.data.find(g=>g.data.id===u);if(p)return p}function c(u){u!==n.main_id&&(n.main_id_history=n.main_id_history.filter(p=>p!==u).slice(-10),n.main_id_history.push(u),n.main_id=u)}function h(){n.main_id?!n.data.find(p=>p.id===n.main_id)&&n.data.length>0&&c(n.data[0].id):n.data.length>0&&c(n.data[0].id)}function d(){let u=n.main_id_history.slice(0).reverse().find(g=>l(g));if(!u&&n.data.length>0&&(u=n.data[0].id),!u)throw new Error("No main id");u!==n.main_id&&c(u);const p=l(u);if(!p)throw new Error("Main datum not found");return p}function f(u){if(n.legacy_format===void 0){for(let p of u)if(p.rels.father||p.rels.mother){n.legacy_format=!0;return}n.legacy_format=!1}}}function Jd({t:e,svg:t,transition_time:n=2e3}){const r=$1(t),i=r.__zoomObj;z(r).transition().duration(n||0).delay(n?100:0).call(i.transform,Sa.scale(e.k).translate(e.x,e.y))}function ic({svg:e,svg_dim:t,tree_dim:n,transition_time:r}){const i=k1(t,n);Jd({t:i,svg:e,transition_time:r})}function k1(e,t){let n=Math.min(e.width/t.width,e.height/t.height);n>1&&(n=1);const r=t.x_off+(e.width-t.width*n)/n/2,i=t.y_off+(e.height-t.height*n)/n/2;return{k:n,x:r,y:i}}function E1({datum:e,svg:t,svg_dim:n,scale:r,transition_time:i}){const o=r||1,l=n.width/2-e.x*o,s=n.height/2-e.y,a={k:o,x:l/o,y:s/o};Jd({t:a,svg:t,transition_time:i})}function $1(e){const t=e.__zoomObj?e:e.parentNode;if(!t.__zoomObj)throw new Error("Zoom object not found");return t}function T1(e,t={}){if(e.__zoom){console.log("zoom already setup");return}const n=e.querySelector(".view"),r=u1().on("zoom",t.onZoom||i);z(e).call(r),e.__zoomObj=r,t.zoom_polite&&r.filter(o);function i(l){z(n).attr("transform",l.transform)}function o(l){return l.type==="wheel"&&!l.ctrlKey?!1:!(l.touches&&l.touches.length<2)}}function M1(e,t=!1){const n=[];return(e.spouses||e.coparent)&&o(e),r(e),i(e),n;function r(u){if(!u.parents)return;const p=u.parents[0],g=u.parents[1]||p,_={x:l(p,g,"x"),y:l(p,g,"y")};n.push({d:a(u,_),_d:()=>{const m={x:u.x,y:u.y},y={x:u.x,y:u.y};return a(m,y)},curve:!0,id:d(u,p,g),depth:u.depth+1,is_ancestry:!0,source:u,target:[p,g]})}function i(u){!u.children||u.children.length===0||u.children.forEach((p,g)=>{const _=f(p,u)||u,m=_.sx;if(typeof m!="number")throw new Error("sx is not a number");const y=t?{x:u.x,y:m}:{x:m,y:u.y};n.push({d:a(p,y),_d:()=>a(y,{x:s(y,"x"),y:s(y,"y")}),curve:!0,id:d(p,u,_),depth:u.depth+1,is_ancestry:!1,source:[u,_],target:p})})}function o(u){u.spouses?u.spouses.forEach(g=>n.push(p(u,g))):u.coparent&&n.push(p(u,u.coparent));function p(g,_){return{d:[[g.x,g.y],[_.x,_.y]],_d:()=>[g.is_ancestry?[s(g,"x")-1e-4,s(g,"y")]:[g.x,g.y],g.is_ancestry?[s(_,"x"),s(_,"y")]:[g.x-1e-4,g.y]],curve:!1,id:d(g,_),depth:g.depth,spouse:!0,is_ancestry:_.is_ancestry,source:g,target:_}}}function l(u,p,g,_=!1){return _?s(u,g)-(s(u,g)-s(p,g))/2:u[g]-(u[g]-p[g])/2}function s(u,p){const g=u.hasOwnProperty(`_${p}`)?u[`_${p}`]:u[p];if(typeof g!="number")throw new Error(`${p} is not a number`);return g}function a(u,p){return t?h(u,p):c(u,p)}function c(u,p){const g=u.y+(p.y-u.y)/2;return[[u.x,u.y],[u.x,g],[u.x,g],[p.x,g],[p.x,g],[p.x,p.y]]}function h(u,p){const g=u.x+(p.x-u.x)/2;return[[u.x,u.y],[g,u.y],[g,u.y],[g,p.y],[g,p.y],[p.x,p.y]]}function d(...u){return u.map(p=>p.tid).sort().join(", ")}function f(u,p){return(p.spouses||[]).find(_=>u.data.rels.parents.includes(_.data.id))}}function N1(e,t,n={}){const r=t.data.reduce((f,u)=>(M1(u,t.is_horizontal).forEach(p=>f[p.id]=p),f),{}),i=Object.values(r),o=z(e).select(".links_view").selectAll("path.link").data(i,f=>f.id);if(n.transition_time===void 0)throw new Error("transition_time is undefined");const l=o.exit(),s=o.enter().append("path").attr("class","link"),a=s.merge(o);l.each(d),s.each(c),a.each(h);function c(f){z(this).attr("fill","none").attr("stroke","#fff").attr("stroke-width",1).style("opacity",0).attr("d",dl(f,!0))}function h(f){const u=z(this),p=n.initial?Gr(t,f,n.transition_time):0;u.transition("path").duration(n.transition_time).delay(p).attr("d",dl(f)).style("opacity",1)}function d(f){const u=z(this);u.transition("op").duration(800).style("opacity",0),u.transition("path").duration(n.transition_time).attr("d",dl(f,!0)).on("end",()=>u.remove())}}function dl(e,t=!1){const n=Gu().curve(n1),r=Gu().curve(t1),i=t?e._d():e.d;return e.curve?r(i):n(i)}function R1(e,t,n,r={}){const i=z(e).select(".cards_view").selectAll("g.card_cont").data(t.data,f=>f.data.id),o=i.exit(),l=i.enter().append("g").attr("class","card_cont"),s=l.merge(i);o.each(f=>Bn(f,!1,!0)),l.each(f=>Bn(f,!0,!1)),o.each(d),i.each(c),l.each(a),s.each(h);function a(f){z(this).attr("transform",`translate(${f._x}, ${f._y})`).style("opacity",0),n.call(this,f)}function c(f){}function h(f){n.call(this,f);const u=r.initial?Gr(t,f,r.transition_time):0;z(this).transition().duration(r.transition_time).delay(u).attr("transform",`translate(${f.x}, ${f.y})`).style("opacity",1)}function d(f){const u=f,p=u?[u._x,u._y]:[0,0],g=z(this);g.transition().duration(r.transition_time).style("opacity",0).attr("transform",`translate(${p[0]}, ${p[1]})`).on("end",()=>g.remove())}}function P1(e,t,n,r={}){const i=u(e),o=z(i).select(".cards_view").selectAll("div.card_cont").data(t.data,p=>p.tid),l=o.exit(),s=o.enter().append("div").attr("class","card_cont").style("pointer-events","none"),a=s.merge(o);l.each(p=>Bn(p,!1,!0)),s.each(p=>Bn(p,!0,!1)),l.each(f),o.each(h),s.each(c),a.each(d);function c(p){z(this).style("position","absolute").style("top","0").style("left","0").style("transform",`translate(${p._x}px, ${p._y}px)`).style("opacity",0),n.call(this,p)}function h(p){}function d(p){n.call(this,p);const g=r.initial?Gr(t,p,r.transition_time):0;z(this).transition().duration(r.transition_time).delay(g).style("transform",`translate(${p.x}px, ${p.y}px)`).style("opacity",1)}function f(p){const g=p,_=g?[g._x,g._y]:[0,0],m=z(this);m.transition().duration(r.transition_time).style("opacity",0).style("transform",`translate(${_[0]}px, ${_[1]}px)`).on("end",()=>m.remove())}function u(p){if(r.cardHtmlDiv)return r.cardHtmlDiv;const g=p.closest("#f3Canvas");if(!g)throw new Error("canvas not found");const _=g.querySelector("#htmlSvg");if(!_)throw new Error("htmlSvg not found");return _}}function I1(e,t={}){const n=e.getBoundingClientRect(),r=`
    <svg class="main_svg">
      <rect width="${n.width}" height="${n.height}" fill="transparent" />
      <g class="view">
        <g class="links_view"></g>
        <g class="cards_view"></g>
      </g>
      <g style="transform: translate(100%, 100%)">
        <g class="fit_screen_icon cursor-pointer" style="transform: translate(-50px, -50px); display: none">
          <rect width="27" height="27" stroke-dasharray="${27/2}" stroke-dashoffset="${27/4}" 
            style="stroke:#fff;stroke-width:4px;fill:transparent;"/>
          <circle r="5" cx="${27/2}" cy="${27/2}" style="fill:#fff" />          
        </g>
      </g>
    </svg>
  `,i=s(e),o=sn("div").node();o.innerHTML=r;const l=o.querySelector("svg");return i.appendChild(l),e.appendChild(i),T1(i,t),l;function s(a){let c=a.querySelector("#f3Canvas");return c||(c=sn("div").attr("id","f3Canvas").attr("style","position: relative; overflow: hidden; width: 100%; height: 100%;").node()),c}}function eh(e){return I1(e,{onZoom:nh(()=>e.querySelector("svg .view"),()=>e.querySelector("#htmlSvg .cards_view"))}),th(e),{svg:e.querySelector("svg.main_svg"),svgView:e.querySelector("svg .view"),htmlSvg:e.querySelector("#htmlSvg"),htmlView:e.querySelector("#htmlSvg .cards_view")}}function th(e){const n=z(e).select("#f3Canvas").append("div").attr("id","htmlSvg").attr("style","position: absolute; width: 100%; height: 100%; z-index: 2; top: 0; left: 0");return n.append("div").attr("class","cards_view").style("transform-origin","0 0"),n.node()}function nh(e,t){return function(r){const i=r.transform;z(e()).style("transform",`translate(${i.x}px, ${i.y}px) scale(${i.k}) `),z(t()).style("transform",`translate(${i.x}px, ${i.y}px) scale(${i.k}) `)}}var D1=Object.freeze({__proto__:null,createHtmlSvg:th,default:eh,onZoomSetup:nh});function z1(e){let t=[];return function(o){const l=r(o,t);return t=[...o,...l],n(rh(e),t),t};function n(i,o){const l=z(i).selectAll("div.card_cont_2fake").data(o,u=>u.data.id),s=l.exit(),a=l.enter().append("div").attr("class","card_cont_2fake").style("display","none").attr("data-id",()=>Math.random()),c=a.merge(l);s.each(f),a.each(h),c.each(d);function h(u){u.unique_id=z(this).attr("data-id")}function d(u){u.unique_id=z(this).attr("data-id")}function f(u){u&&(u.unique_id=z(this).attr("data-id"),z(this).remove())}}function r(i,o){return o.length>0?o.filter(l=>!i.find(s=>s.data.id===l.data.id)):[]}}function rh(e){return z(e()).select("div.cards_view_fake").node()}function L1(e){z(e()).append("div").attr("class","cards_view_fake").style("display","none")}const A1=z1;function O1(e){return e.unique_id}function F1(e,t,n,r={}){const i=r.cardHtmlDiv?r.cardHtmlDiv:e.closest("#f3Canvas").querySelector("#htmlSvg"),o=z(rh(()=>i)).selectAll("div.card_cont_fake").data(t.data,u=>u.data.id),l=o.exit(),s=o.enter().append("div").attr("class","card_cont_fake").style("display","none"),a=s.merge(o);l.each(u=>Bn(u,!1,!0)),s.each(u=>Bn(u,!0,!1)),l.each(f),o.each(h),s.each(c),a.each(d);function c(u){z(n(u)).style("position","absolute").style("top","0").style("left","0").style("opacity",0).style("transform",`translate(${u._x}px, ${u._y}px)`)}function h(u){}function d(u){const p=z(n(u)),g=r.initial?Gr(t,u,r.transition_time):0;p.transition().duration(r.transition_time).delay(g).style("transform",`translate(${u.x}px, ${u.y}px)`).style("opacity",1)}function f(u){const p=u,g=p?[p._x,p._y]:[0,0],_=z(n(u)),m=z(this);_.transition().duration(r.transition_time).style("opacity",0).style("transform",`translate(${g[0]}px, ${g[1]}px)`).on("end",()=>m.remove())}}function H1(e,t,n,r={}){r.initial=r.hasOwnProperty("initial")?r.initial:!z(t.parentNode).select(".card_cont").node(),r.transition_time=r.hasOwnProperty("transition_time")?r.transition_time:1e3,r.cardComponent?F1(t,e,n,r):r.cardHtml?P1(t,e,n,r):R1(t,e,n,r),N1(t,e,r);const i=r.tree_position||"fit";return r.initial?ic({svg:t,svg_dim:t.getBoundingClientRect(),tree_dim:e.dim,transition_time:0}):i==="fit"?ic({svg:t,svg_dim:t.getBoundingClientRect(),tree_dim:e.dim,transition_time:r.transition_time}):i==="main_to_middle"&&E1({datum:e.data[0],svg:t,svg_dim:t.getBoundingClientRect(),scale:r.scale,transition_time:r.transition_time}),!0}function ih(e,{d:t}){return e.updateMainId(t.data.id),e.updateTree({}),!0}function U1(e,t){const n=e.rels,r=[...n.parents,...n.spouses||[],...n.children||[]].filter(i=>!!i);for(const i of r){const o=t.find(l=>l.id===i);if(!oh(o,t,[e.id]))return!1}return!0}function oh(e,t,n=[]){const r=t[0];if(e.id===r.id)return!0;const i=[...n];let o=!1;return l(e),o;function l(s){if(o)return;const a=s.rels;[...a.parents,...a.spouses||[],...a.children||[]].filter(h=>!!h).forEach(h=>{if(i.includes(h))return;i.push(h);const d=t.find(f=>f.id===h);d.id===r.id?o=!0:l(d)})}}function V1(e,t,n){n.forEach((r,i)=>e.data[i]=r),j1(e,t),e.to_add&&delete e.to_add,e.unknown&&delete e.unknown}function j1(e,t){Object.keys(e.data).forEach(n=>{if(n.includes("__ref__")){const r=n.split("__ref__")[1],i=t.find(l=>l.id===r);if(!i)return;const o=n.split("__ref__")[0]+"__ref__"+e.id;i.data[o]=e.data[n]}})}function oc(e,t){Object.keys(e.data).forEach(n=>{if(n.includes("__ref__")){const r=n.split("__ref__")[1],i=t.find(l=>l.id===r);if(!i)return;const o=n.split("__ref__")[0]+"__ref__"+e.id;delete i.data[o]}})}function B1(e,t){return lh(e,t,!1),!1}function lh(e,t,n=!0){if(U1(e,t))return r(),n&&Ca(t),{success:!0};return i(),{success:!0};function r(){t.forEach(o=>{for(let l in o.rels){if(!o.rels.hasOwnProperty(l))continue;const s=l;Array.isArray(o.rels[s])&&o.rels[s].includes(e.id)&&o.rels[s].splice(o.rels[s].findIndex(a=>a===e.id),1)}}),oc(e,t),t.splice(t.findIndex(o=>o.id===e.id),1),t.length===0&&t.push($t({data:{gender:"M"}}))}function i(){oc(e,t),e.data={gender:e.data.gender},e.unknown=!0}}function W1(e){return Ca(e),e.forEach(t=>{delete t.main,delete t._tgdp,delete t._tgdp_sp,delete t.__tgdp_sp}),e.forEach(t=>{Object.keys(t).forEach(n=>{n[0]==="_"&&console.error("key starts with _",n)})}),e}function Ca(e){for(let t=e.length-1;t>=0;t--)e[t].to_add&&B1(e[t],e)}function Q1(){return`
    <g data-icon="user-plus">
      ${tt()}
      <path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
    </g>
  `}function q1(){return`
    <g data-icon="user-plus-close">
      ${tt()}
      <path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
      <line x1="3" y1="3" x2="24" y2="24" stroke="currentColor" stroke-width="2" />
    </g>
  `}function sh(){return`
    <g data-icon="plus">
      ${tt()}
      <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
    </g>
  `}function K1(){return`
    <g data-icon="pencil">
      ${tt()}
      <path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" />
    </g>
  `}function X1(){return`
    <g data-icon="pencil-off">
      ${tt()}
      <path d="M18.66,2C18.4,2 18.16,2.09 17.97,2.28L16.13,4.13L19.88,7.88L21.72,6.03C22.11,5.64 22.11,5 21.72,4.63L19.38,2.28C19.18,2.09 18.91,2 18.66,2M3.28,4L2,5.28L8.5,11.75L4,16.25V20H7.75L12.25,15.5L18.72,22L20,20.72L13.5,14.25L9.75,10.5L3.28,4M15.06,5.19L11.03,9.22L14.78,12.97L18.81,8.94L15.06,5.19Z" />
    </g>
  `}function Y1(){return`
    <g data-icon="history-back">
      ${tt()}
      <path d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
    </g>
  `}function G1(){return`
    <g data-icon="history-forward">
      ${tt()}
      <path d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
    </g>
  `}function b1(){return`
    <g data-icon="person">
      <path d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 
        64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 
        0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />
    </g>
  `}function Z1(){return`
    <g transform="translate(31,25)" data-icon="mini-tree">
      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
      <g>
        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
        <line y2="-17.5" stroke="#fff" />
        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />
        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />
        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />
      </g>
    </g>
  `}function J1(){return`
    <g data-icon="toggle-on">
      ${tt()}
      <circle class="f3-small-circle" r="4" cx="18" cy="12" />
      <path d="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z" />
    </g>
  `}function e_(){return`
    <g data-icon="toggle-off">
      ${tt()}
      <circle class="f3-small-circle" r="4" cx="6" cy="12" />
      <path d="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z" />
    </g>
  `}function t_(){return`
    <g data-icon="chevron-down">
      ${tt()}
      <path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
    </g>
  `}function n_(){return`
    <g data-icon="link-off">
      ${tt()}
      <path d="M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.43 19.12,14.63 17.79,15L19.25,16.44C20.88,15.61 22,13.95 
      22,12A5,5 0 0,0 17,7M16,11H13.81L15.81,13H16V11M2,4.27L5.11,7.38C3.29,8.12 2,9.91 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 
      3.9,13.71 3.9,12C3.9,10.41 5.11,9.1 6.66,8.93L8.73,11H8V13H10.73L13,15.27V17H14.73L18.74,21L20,19.74L3.27,3L2,4.27Z" />
    </g>
  `}function r_(){return Oe(Q1())}function i_(){return Oe(q1())}function o_(){return Oe(sh())}function l_(){return Oe(K1())}function s_(){return Oe(X1())}function a_(){return Oe(Y1())}function u_(){return Oe(G1())}function ah(){return Oe(b1(),"0 0 512 512")}function uh(){return Oe(Z1(),"0 0 72 25")}function c_(){return Oe(J1())}function f_(){return Oe(e_())}function d_(){return Oe(t_())}function h_(){return Oe(n_())}function Oe(e,t="0 0 24 24"){const n=e.match(/data-icon="([^"]+)"/),r=n?`data-icon="${n[1]}"`:"";return`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="${t}" style="fill: currentColor" ${r}>
      ${e}
    </svg>
  `}function tt(){return`
    <circle r="12" cx="12" cy="12" style="fill: rgba(0,0,0,0)" />
  `}function p_(e){return` 
    <form id="familyForm" class="f3-form">
      ${hh()}
      <h3 class="f3-form-title">${e.title}</h3>
      ${ch(e)}

      ${fh(e)}
      
      <div class="f3-form-buttons">
        <button type="button" class="f3-cancel-btn">Cancel</button>
        <button type="submit">Submit</button>
      </div>

      ${e.linkExistingRelative?dh(e):""}
    </form>
  `}function g_(e){return` 
    <form id="familyForm" class="f3-form ${e.editable?"":"non-editable"}">
      ${hh()}
      <div style="text-align: right; display: 'block'">
        ${e.no_edit?"":y_(e)}
        ${e.no_edit?w_():__(e)}
      </div>

      ${ch(e)}

      ${fh(e)}
      
      <div class="f3-form-buttons">
        <button type="button" class="f3-cancel-btn">Cancel</button>
        <button type="submit">Submit</button>
      </div>

      ${e.linkExistingRelative?dh(e):""}

      <hr>
      ${m_(e)}

      ${v_(e)}
    </form>
  `}function m_(e){return`
    <div>
      <button type="button" class="f3-delete-btn" ${e.can_delete?"":"disabled"}>
        Delete
      </button>
    </div>
  `}function v_(e){return`
    <div>
      <button type="button" class="f3-remove-relative-btn${e.removeRelativeActive?" active":""}">
        ${e.removeRelativeActive?"Cancel Remove Relation":"Remove Relation"}
      </button>
    </div>
  `}function y_(e){return`
    <span class="f3-add-relative-btn">
      ${e.addRelativeActive?i_():r_()}
    </span>
  `}function __(e){return`
    <span class="f3-edit-btn">
      ${e.editable?s_():l_()}
    </span>
  `}function ch(e){return e.editable?`
    <div class="f3-radio-group">
      ${e.gender_field.options.map(t=>`
        <label>
          <input type="radio" name="${e.gender_field.id}" 
            value="${t.value}" 
            ${t.value===e.gender_field.initial_value?"checked":""}
            ${e.gender_field.disabled?"disabled":""}
          >
          ${t.label}
        </label>
      `).join("")}
    </div>
  `:""}function fh(e){if(!e.editable)return n();let t="";return e.fields.forEach(r=>{if(r.type==="text")t+=`
      <div class="f3-form-field">
        <label>${r.label}</label>
        <input type="${r.type}" 
          name="${r.id}" 
          value="${r.initial_value||""}"
          placeholder="${r.label}">
      </div>`;else if(r.type==="textarea")t+=`
      <div class="f3-form-field">
        <label>${r.label}</label>
        <textarea name="${r.id}" 
          placeholder="${r.label}">${r.initial_value||""}</textarea>
      </div>`;else if(r.type==="select"){const i=r;t+=`
      <div class="f3-form-field">
        <label>${i.label}</label>
        <select name="${i.id}" value="${i.initial_value||""}">
          <option value="">${i.placeholder||`Select ${i.label}`}</option>
          ${i.options.map(o=>`<option ${o.value===i.initial_value?"selected":""} value="${o.value}">${o.label}</option>`).join("")}
        </select>
      </div>`}else r.type==="rel_reference"&&(t+=`
      <div class="f3-form-field">
        <label>${r.label} - <i>${r.rel_label}</i></label>
        <input type="text" 
          name="${r.id}" 
          value="${r.initial_value||""}"
          placeholder="${r.label}">
      </div>`)}),t;function n(){let r="";return e.fields.forEach(i=>{var o;if(i.type==="rel_reference"){if(!i.initial_value)return;r+=`
        <div class="f3-info-field">
          <span class="f3-info-field-label">${i.label} - <i>${i.rel_label}</i></span>
          <span class="f3-info-field-value">${i.initial_value||""}</span>
        </div>`}else if(i.type==="select"){const l=i;if(!i.initial_value)return;r+=`
        <div class="f3-info-field">
          <span class="f3-info-field-label">${l.label}</span>
          <span class="f3-info-field-value">${((o=l.options.find(s=>s.value===l.initial_value))===null||o===void 0?void 0:o.label)||""}</span>
        </div>`}else r+=`
        <div class="f3-info-field">
          <span class="f3-info-field-label">${i.label}</span>
          <span class="f3-info-field-value">${i.initial_value||""}</span>
        </div>`}),r}}function dh(e){const t=e.linkExistingRelative.hasOwnProperty("title")?e.linkExistingRelative.title:"Profile already exists?",n=e.linkExistingRelative.hasOwnProperty("select_placeholder")?e.linkExistingRelative.select_placeholder:"Select profile",r=e.linkExistingRelative.options;return`
    <div>
      <hr>
      <div class="f3-link-existing-relative">
        <label>${t}</label>
        <select>
          <option value="">${n}</option>
          ${r.map(i=>`<option value="${i.value}">${i.label}</option>`).join("")}
        </select>
      </div>
    </div>
  `}function hh(){return`
    <span class="f3-close-btn">
      
    </span>
  `}function w_(){return'<div style="height: 24px;"></div>'}function x_(e,t){return ph(e,t)}function S_(e,t){return ph(e,t)}function ph(e,t){const n=o(e),r=document.createElement("div");return i(),r;function i(){const l=n?p_(e):g_(e);r.innerHTML=l,C_(r,e,t,i),n?k_(r,e):E_(r,e,i),e.onFormCreation&&e.onFormCreation({cont:r,form_creator:e})}function o(l){return"new_rel"in l}}function C_(e,t,n,r){const i=e.querySelector("form");i.addEventListener("submit",t.onSubmit),i.querySelector(".f3-cancel-btn").addEventListener("click",s),i.querySelector(".f3-close-btn").addEventListener("click",n);function s(){t.editable=!1,t.onCancel&&t.onCancel(),r()}}function k_(e,t){const r=e.querySelector("form").querySelector(".f3-link-existing-relative select");r&&r.addEventListener("change",t.linkExistingRelative.onSelect)}function E_(e,t,n){const r=e.querySelector("form"),i=r.querySelector(".f3-edit-btn");i&&i.addEventListener("click",c);const o=r.querySelector(".f3-delete-btn");o&&t.onDelete&&o.addEventListener("click",t.onDelete);const l=r.querySelector(".f3-add-relative-btn");l&&t.addRelative&&l.addEventListener("click",()=>{t.addRelativeActive?t.addRelativeCancel():t.addRelative(),t.addRelativeActive=!t.addRelativeActive,n()});const s=r.querySelector(".f3-remove-relative-btn");s&&t.removeRelative&&s.addEventListener("click",()=>{t.removeRelativeActive?t.removeRelativeCancel():t.removeRelative(),t.removeRelativeActive=!t.removeRelativeActive,n()});const a=r.querySelector(".f3-link-existing-relative select");a&&a.addEventListener("change",t.linkExistingRelative.onSelect);function c(){t.editable=!t.editable,n()}}function $_(e,t,n){let r=[],i=-1;return{changed:o,back:l,forward:s,canForward:a,canBack:c};function o(){i<r.length-1&&(r=r.slice(0,i+1));const d=t();d.main_id=e.getMainId(),r.push(d),i++}function l(){c()&&(i--,h(r[i]))}function s(){a()&&(i++,h(r[i]))}function a(){return i<r.length-1}function c(){return i>0}function h(d){const f=e.getMainId();d=JSON.parse(JSON.stringify(d)),d.find(u=>u.id===f)||e.updateMainId(d.main_id),e.updateData(d),n()}}function T_(e,t){const n=z(e).append("div").attr("class","f3-history-controls");e.insertBefore(n.node(),e.firstChild);const r=n.append("button").attr("class","f3-back-button").on("click",()=>{t.back(),o()}),i=n.append("button").attr("class","f3-forward-button").on("click",()=>{t.forward(),o()});return r.html(a_()),i.html(u_()),{back_btn:r.node(),forward_btn:i.node(),updateButtons:o,destroy:l};function o(){r.classed("disabled",!t.canBack()),i.classed("disabled",!t.canForward()),!t.canBack()&&!t.canForward()?n.style("opacity",0).style("pointer-events","none"):n.style("opacity",1).style("pointer-events","auto")}function l(){z(e).select(".f3-history-controls").remove()}}function gh({d:e,card_dim:t,card_display:n}){return{template:`
    <g class="card-body">
      <rect width="${t.w}" height="${t.h}" class="card-body-rect" />
      ${N_({d:e,card_dim:t,card_display:n}).template}
    </g>
  `}}function M_({d:e,card_dim:t,label:n}){return{template:`
    <g class="card-body">
      <rect class="card-body-rect" width="${t.w}" height="${t.h}" />
      <text transform="translate(${t.img_w+5}, ${t.h/2})">
        <tspan font-size="18" dy="8" pointer-events="none">${n}</tspan>
      </text>
    </g>
  `}}function N_({d:e,card_dim:t,card_display:n}){return{template:`
    <g>
      <g class="card-text" clip-path="url(#card_text_clip)">
        <g transform="translate(${t.text_x}, ${t.text_y})">
          <text>
            ${Array.isArray(n)?n.map(r=>`<tspan x="0" dy="14">${r(e.data)}</tspan>`).join(`
`):n(e.data)}
          </text>
        </g>
      </g>
      <rect width="${t.w-10}" height="${t.h}" style="mask: url(#fade)" class="text-overflow-mask" /> 
    </g>
  `}}function lc({d:e,card_dim:t,is_new:n}){return{template:`
    <rect width="${t.w}" height="${t.h}" rx="4" ry="4" class="card-outline ${e.data.main&&!n?"card-main-outline":""} ${n?"card-new-outline":""}" />
  `}}function R_({d:e,card_dim:t}){return{template:`
    <g class="card_family_tree" style="cursor: pointer">
      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
      <g transform="translate(${t.w*.8},6)scale(.9)">
        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
        <line y2="-17.5" stroke="#fff" />
        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />
        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />
        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />
      </g>
    </g>
  `}}function P_({d:e,image:t,card_dim:n,maleIcon:r,femaleIcon:i}){return{template:`
    <g style="transform: translate(${n.img_x}px,${n.img_y}px);" class="card_image" clip-path="url(#card_image_clip)">
      ${t?`<image href="${t}" height="${n.img_h}" width="${n.img_w}" preserveAspectRatio="xMidYMin slice" />`:(e.data.data.gender,e.data.data.gender,o())}      
    </g>
  `};function o(){return`
      <g class="genderless-icon">
        <rect height="${n.img_h}" width="${n.img_w}" fill="rgb(59, 85, 96)" />
        <g transform="scale(${n.img_w*.001616})">
         <path transform="translate(50,40)" fill="lightgrey" d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 
            64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 
            0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />
        </g>
      </g>
    `}}function yi(e,t,n){const r=document.createElementNS("http://www.w3.org/2000/svg","g");r.innerHTML=e,n?t.insertBefore(r,t.firstChild):t.appendChild(r)}const sc={miniTree:I_,cardBody:D_,cardImage:z_};function I_(e,t){if(e.data.to_add)return;const n=t.card_dim;if(e.all_rels_displayed)return;const r=sn("svg:g").html(R_({d:e,card_dim:n}).template);return r.on("click",function(i){i.stopPropagation(),t.onMiniTreeClick?t.onMiniTreeClick.call(this,i,e):ih(t.store,{d:e})}),r.node()}function D_(e,t){const n=t.card_dim,r=sn("svg:g").html(gh({d:e,card_dim:n,card_display:t.card_display}).template);return r.on("click",function(i){i.stopPropagation(),t.onCardClick?t.onCardClick.call(this,i,e):ih(t.store,{d:e})}),r.node()}function z_(e,t){if(e.data.to_add)return;const n=t.card_dim;return sn("svg:g").html(P_({d:e,image:e.data.data.avatar||null,card_dim:n,maleIcon:void 0,femaleIcon:void 0}).template).node()}function ac(e,t,n=!1){e&&(n?t.insertBefore(e,t.firstChild):t.appendChild(e))}function L_(e,t,n,r){if(!t.hasOwnProperty("_toggle"))return;const i=e.querySelector(".card"),o=i.querySelector(".card-inner"),l=e.querySelector(".card").offsetWidth;e.querySelector(".card").offsetHeight;let s,a;const c={};if(t.spouse){const d=t.spouse,f=d.data.main?"main":d.parent.data.id;if(s=d.data._tgdp_sp[f][t.data.id]<0,c.top=60,c.left=t.sx-t.x-30+l/2,n&&(c.top=t.sy-t.x+4,c.left=l/2+4,Math.abs(t.sx-t.y)<10&&(c.left=l-4)),a=d._toggle_id_sp?d._toggle_id_sp[t.data.id]:-1,a===-1)return}else{const d=t.data.main?"main":t.parent.data.id;s=t.data._tgdp[d]<0,c.top=-65,c.left=-30+l/2,n&&(c.top=5,c.left=-55),a=t._toggle_id}if(o.style.zIndex=1,z(i).append("div").attr("class","f3-toggle-div").attr("style","cursor: pointer; width: 60px; height: 60px;position: absolute; z-index: -1;").style("top",c.top+"px").style("left",c.left+"px").on("click",d=>{if(d.stopPropagation(),t.spouse){const f=t.spouse,u=f.data.main?"main":f.parent.data.id;f.data._tgdp_sp[u].hasOwnProperty(t.data.id)||console.error("no toggle",t,f);let p=f.data._tgdp_sp[u][t.data.id];p<0?p=new Date().getTime():p=-new Date().getTime(),f.data._tgdp_sp[u][t.data.id]=p}else{const f=t.data.main?"main":t.parent.data.id;let u=t.data._tgdp[f];u<0?u=new Date().getTime():u=-new Date().getTime(),t.data._tgdp[f]=u}r()}).append("div").html(s?f_():c_()).select("svg").classed("f3-toggle-icon",!0).style("color",s?"#585656":"#61bf52").style("padding","0"),z(i).select(".f3-toggle-icon .f3-small-circle").style("fill","#fff"),z(i).select(".f3-toggle-icon").append("text").attr("transform",s?"translate(10.6, 14.5)":"translate(4.1, 14.5)").attr("fill","#fff").attr("font-size","7px").text("C"+a),s){let d;t.is_ancestry?n?d="translate(5, -30)rotate(-90)":d="translate(0, -10)":n?d="translate(11, -22)rotate(90)":d="translate(-7, -32)rotate(180)",z(i).select(".f3-toggle-div").insert("div").html(uh()).select("svg").attr("style","position: absolute; z-index: -1;top: 0;left: 0;border-radius: 0;").style("width","66px").style("height","112px").attr("transform",d).attr("viewBox","0 0 72 125").select("line").attr("y1",t.is_ancestry?"62":"92")}}function A_(e){const t=e.style==="default"?c:e.style==="imageCircleRect"?a:e.style==="imageCircle"?h:e.style==="imageRect"?d:e.style==="rect"?f:c;return function(v){if(this.innerHTML=`
    <div class="card ${u(v).join(" ")}" data-id="${v.tid}" style="transform: translate(-50%, -50%); pointer-events: auto;">
      ${e.mini_tree?s(v):""}
      ${e.cardInnerHtmlCreator&&!v.data._new_rel_data?e.cardInnerHtmlCreator(v):t(v)}
    </div>
    `,this.querySelector(".card").addEventListener("click",w=>e.onCardClick(w,v)),e.onCardUpdate&&e.onCardUpdate.call(this,v),e.onCardMouseenter&&z(this).select(".card").on("mouseenter",w=>e.onCardMouseenter(w,v)),e.onCardMouseleave&&z(this).select(".card").on("mouseleave",w=>e.onCardMouseleave(w,v)),v.duplicate&&y(this,v),e.duplicate_branch_toggle&&L_(this,v,e.store.state.is_horizontal,e.store.updateTree),location.origin.includes("localhost")&&(v.__node=this.querySelector(".card"),v.__label=v.data.data["first name"],v.data.to_add)){const w=v.spouse||v.coparent||null;w&&z(this).select(".card").attr("data-to-add",w.data.data["first name"])}};function n(v){return`
    <div class="card-inner card-image-circle" ${p()}>
      ${v.data.data[e.cardImageField]?`<img src="${v.data.data[e.cardImageField]}" ${g()}>`:_(v)}
      <div class="card-label">${o(v)}</div>
      ${v.duplicate?m(v):""}
    </div>
    `}function r(v){return`
    <div class="card-inner card-image-rect" ${p()}>
      ${v.data.data[e.cardImageField]?`<img src="${v.data.data[e.cardImageField]}" ${g()}>`:_(v)}
      <div class="card-label">${o(v)}</div>
      ${v.duplicate?m(v):""}
    </div>
    `}function i(v){return`
    <div class="card-inner card-rect" ${p()}>
      ${o(v)}
      ${v.duplicate?m(v):""}
    </div>
    `}function o(v){return v.data._new_rel_data?l(v):v.data.to_add?`<div>${e.empty_card_label||"ADD"}</div>`:v.data.unknown?`<div>${e.unknown_card_label||"UNKNOWN"}</div>`:`
      ${e.card_display.map(w=>`<div>${w(v.data)}</div>`).join("")}
    `}function l(v){const w=[];return w.push(`data-rel-type="${v.data._new_rel_data.rel_type}"`),["son","daughter"].includes(v.data._new_rel_data.rel_type)&&w.push(`data-other-parent-id="${v.data._new_rel_data.other_parent_id}"`),`<div ${w.join(" ")}>${v.data._new_rel_data.label}</div>`}function s(v){return!e.mini_tree||v.data.to_add||v.data._new_rel_data||v.all_rels_displayed?"":`<div class="mini-tree">${uh()}</div>`}function a(v){return v.data.data[e.cardImageField]?h(v):f(v)}function c(v){return r(v)}function h(v){return n(v)}function d(v){return r(v)}function f(v){return i(v)}function u(v){const w=[];return v.data.data.gender==="M"?w.push("card-male"):v.data.data.gender==="F"?w.push("card-female"):w.push("card-genderless"),w.push(`card-depth-${v.is_ancestry?-v.depth:v.depth}`),v.data.main&&w.push("card-main"),v.data._new_rel_data&&w.push("card-new-rel"),v.data.to_add&&w.push("card-to-add"),v.data.unknown&&w.push("card-unknown"),w}function p(){let v='style="';if(e.card_dim.w||e.card_dim.h)v+=`width: ${e.card_dim.w}px; min-height: ${e.card_dim.h}px;`,e.card_dim.height_auto?v+="height: auto;":v+=`height: ${e.card_dim.h}px;`;else return"";return v+='"',v}function g(){let v='style="position: relative;';if(e.card_dim.img_w||e.card_dim.img_h||e.card_dim.img_x||e.card_dim.img_y)v+=`width: ${e.card_dim.img_w}px; height: ${e.card_dim.img_h}px;`,v+=`left: ${e.card_dim.img_x}px; top: ${e.card_dim.img_y}px;`;else return"";return v+='"',v}function _(v){return v.data._new_rel_data?`<div class="person-icon" ${g()}>${o_()}</div>`:`<div class="person-icon" ${g()}>${e.defaultPersonIcon?e.defaultPersonIcon(v):ah()}</div>`}function m(v){return`<div class="f3-card-duplicate-tag">x${v.duplicate}</div>`}function y(v,w){z(v).on("mouseenter",M=>{z(v.closest(".cards_view")).selectAll(".card_cont").select(".card").classed("f3-card-duplicate-hover",R=>R.data.id===w.data.id)}),z(v).on("mouseleave",M=>{z(v.closest(".cards_view")).selectAll(".card_cont").select(".card").classed("f3-card-duplicate-hover",!1)})}}function mh(e,t){if(e.querySelector("defs#f3CardDef"))return;e.insertAdjacentHTML("afterbegin",`
      <defs id="f3CardDef">
        <linearGradient id="fadeGrad">
          <stop offset="0.9" stop-color="white" stop-opacity="0"/>
          <stop offset=".91" stop-color="white" stop-opacity=".5"/>
          <stop offset="1" stop-color="white" stop-opacity="1"/>
        </linearGradient>
        <mask id="fade" maskContentUnits="objectBoundingBox"><rect width="1" height="1" fill="url(#fadeGrad)"/></mask>
        <clipPath id="card_clip"><path d="${n({w:t.w,h:t.h},5)}"></clipPath>
        <clipPath id="card_text_clip"><rect width="${t.w-10}" height="${t.h}"></rect></clipPath>
        <clipPath id="card_image_clip"><path d="M0,0 Q 0,0 0,0 H${t.img_w} V${t.img_h} H0 Q 0,${t.img_h} 0,${t.img_h} z"></clipPath>
        <clipPath id="card_image_clip_curved"><path d="${n({w:t.img_w,h:t.img_h},5,["rx","ry"])}"></clipPath>
      </defs>
    `);function n(r,i,o){const{w:l,h:s}=r,a=i,c=o||[],h=g=>c.includes(g),d=h("lx")?"M0,0":`M0,${a} Q 0,0 5,0`,f=h("rx")?`H${l}`:`H${l-a} Q ${l},0 ${l},5`,u=h("ry")?`V${s}`:`V${s-a} Q ${l},${s} ${l-a},${s}`,p=h("ly")?"H0":`H${a} Q 0,${s} 0,${s-a}`;return`${d} ${f} ${u} ${p} z`}}function O_(e,t){e.querySelector("defs#f3CardDef")&&e.querySelector("defs#f3CardDef").remove(),mh(e,t)}function F_(e){return e=t(e),mh(e.svg,e.card_dim),function(n){const r=n.data.data.gender==="M"?"card-male":n.data.data.gender==="F"?"card-female":"card-genderless",i=e.card_dim,o=sn("svg:g").attr("class",`card ${r}`).attr("transform",`translate(${[-i.w/2,-i.h/2]})`);o.append("g").attr("class","card-inner").attr("clip-path","url(#card_clip)"),this.innerHTML="",this.appendChild(o.node()),o.on("click",function(l){l.stopPropagation(),e.onCardClick.call(this,l,n)}),n.data._new_rel_data?(yi(lc({d:n,card_dim:i,is_new:n.data.to_add}).template,o.node(),!0),yi(M_({d:n,card_dim:i,label:n.data._new_rel_data.label}).template,this.querySelector(".card-inner"),!0),z(this.querySelector(".card-inner")).append("g").attr("class","card-edit-icon").attr("fill","currentColor").attr("transform",`translate(-1,2)scale(${i.img_h/22})`).html(sh())):(yi(lc({d:n,card_dim:i,is_new:n.data.to_add}).template,o.node(),!0),yi(gh({d:n,card_dim:i,card_display:e.card_display}).template,this.querySelector(".card-inner"),!1),e.img&&ac(sc.cardImage(n,e),this.querySelector(".card")),e.mini_tree&&ac(sc.miniTree(n,e),this.querySelector(".card"),!0)),e.onCardUpdate&&e.onCardUpdate.call(this,n)};function t(n){const r={img:!0,mini_tree:!0,link_break:!1,card_dim:{w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5}};n||(n={});for(const i in r)typeof n[i]>"u"&&(n[i]=r[i]);return n}}function H_(e,t,n){const r=t.find(h=>h.id===e),i={};return o(r.id,"self",0),l(i),n.show_in_law&&s(i,t),a(i),i;function o(h,d,f,u=void 0){if(!h||i[h])return;d&&(i[h]=d);const g=t.find(_=>_.id===h).rels;if(d==="self")g.parents.forEach(_=>o(_,"parent",f-1,h)),(g.spouses||[]).forEach(_=>o(_,"spouse",f)),(g.children||[]).forEach(_=>o(_,"child",f+1));else if(d==="parent")g.parents.forEach(_=>o(_,"grandparent",f-1,h)),(g.children||[]).forEach(_=>{u&&u===_||o(_,"sibling",f+1)});else if(d!=="spouse")if(d==="child")(g.children||[]).forEach(_=>o(_,"grandchild",f+1));else if(d==="sibling")(g.children||[]).forEach(_=>o(_,"nephew",f+1));else if(d==="grandparent")u||console.error(`${d} should have prev_rel_id`),g.parents.forEach(_=>o(_,"great-grandparent",f-1,h)),(g.children||[]).forEach(_=>{u&&u===_||o(_,"uncle",f+1)});else if(d.includes("grandchild"))(g.children||[]).forEach(_=>o(_,_i(d,f+1),f+1));else if(d.includes("great-grandparent"))u||console.error(`${d} should have prev_rel_id`),g.parents.forEach(_=>o(_,_i(d,f-1),f-1,h)),(g.children||[]).forEach(_=>{if(u&&u===_)return;const m=yh(f+1);m===0?o(_,"granduncle",f+1):m>0?o(_,_i("granduncle",f+1),f+1):console.error(`${d} should have great_count > -1`)});else if(d==="nephew")(g.children||[]).forEach(_=>o(_,"grandnephew",f+1));else if(d.includes("grandnephew"))(g.children||[]).forEach(_=>o(_,_i(d,f+1),f+1));else if(d==="uncle")(g.children||[]).forEach(_=>o(_,"1st Cousin",f+1));else if(d==="granduncle")(g.children||[]).forEach(_=>o(_,"1st Cousin 1x removed",f+1));else if(d.includes("great-granduncle")){const _=f+1,m=Math.abs(_);(g.children||[]).forEach(y=>o(y,`1st Cousin ${m}x removed`,_))}else d.slice(4).startsWith("Cousin")?(g.children||[]).forEach(_=>{const m=f+1,y=Math.abs(m),v=+d[0];m===0?o(_,`${hl(v+1)} Cousin`,m):m<0?o(_,`${hl(v+1)} Cousin ${y}x removed`,m):m>0&&o(_,`${hl(v)} Cousin ${y}x removed`,m)}):console.error(`${d} not found`)}function l(h){const d=[];Object.keys(h).forEach(f=>{const u=h[f];if(u.includes("child")||u==="spouse")return;const p=vh(r.id,f,t);if(!p)return console.error(`${t.find(g=>g.id===f).data} not found in main_ancestry`);p.is_half_kin&&d.push(f)}),d.forEach(f=>{h[f]=`Half ${h[f]}`})}function s(h,d){Object.keys(h).forEach(f=>{const u=h[f],p=d.find(g=>g.id===f);if(u==="spouse"){const g=[];p.rels.parents.forEach(_=>(c(_).rels.children||[]).forEach(m=>g.push(m))),g.forEach(_=>{h[_]||(h[_]="sibling-in-law")})}u==="sibling"&&(p.rels.spouses||[]).forEach(g=>{h[g]||(h[g]="sibling-in-law")}),u==="child"&&(p.rels.spouses||[]).forEach(g=>{h[g]||(h[g]="child-in-law")}),u==="uncle"&&(p.rels.spouses||[]).forEach(g=>{h[g]||(h[g]="uncle-in-law")}),u.includes("Cousin")&&(p.rels.spouses||[]).forEach(g=>{h[g]||(h[g]=`${u} in-law`)})})}function a(h){Object.keys(h).forEach(d=>{const f=h[d],p=t.find(g=>g.id===d).data.gender;if(f.includes("parent")){const _=p==="M"?"father":p==="F"?"mother":"parent";h[d]=h[d].replace("parent",_)}else if(f.includes("sibling")){const _=p==="M"?"brother":p==="F"?"sister":"sibling";h[d]=h[d].replace("sibling",_)}else if(f.includes("child")){const _=p==="M"?"son":p==="F"?"daughter":"child";h[d]=h[d].replace("child",_)}else if(f.includes("uncle")){const _=p==="M"?"uncle":p==="F"?"aunt":"aunt/uncle";h[d]=h[d].replace("uncle",_)}else if(f.includes("nephew")){const _=p==="M"?"nephew":p==="F"?"niece":"neice/nephew";h[d]=h[d].replace("nephew",_)}})}function c(h){return t.find(d=>d.id===h)}}function vh(e,t,n){const r=a(e);let i,o,l;if(h(t),d(t),s(t),!i)return null;return{found:i,is_ancestor:o,is_half_kin:l};function s(u){if(i)return;if(u===e){o=!0,i=u,l=!1;return}const g=n.find(y=>y.id===u).rels,_=c(g),m=r.find(y=>y[0]&&_[0]&&y[0]===_[0]||y[1]&&_[1]&&y[1]===_[1]);if(m){i=_.filter((y,v)=>y===m[v]),l=f(_,m);return}g.parents.forEach(y=>s(y))}function a(u){const p=[];return g(u),p;function g(_){const y=n.find(v=>v.id===_).rels;p.push(c(y)),y.parents.forEach(v=>g(v))}}function c(u){return u.parents}function h(u){const p=n.find(_=>_.id===u);r.find(_=>_[0]===p.id||_[1]===p.id)&&(o=!0,i=u,l=!1)}function d(u){(n.find(g=>g.id===e).rels.spouses||[]).includes(u)&&(i=[e,u])}function f(u,p){return u.some((g,_)=>g!==p[_])||p.some((g,_)=>g!==u[_])}}function hl(e){const t=["st","nd","rd"];return t[e-1]?e+t[e-1]:e+"th"}function yh(e){return Math.abs(e)-2}function _i(e,t){const n=yh(t);return e.includes("great-")&&(e=e.split("great-")[1]),n===1?`great-${e}`:n>1?`${n}x-great-${e}`:(console.error(`${e} should have great_count > 1`),e)}function U_(e,t,n,r){var i;let o;const l=r[t].toLowerCase();if(l.includes("in-law")){o=t;const E=n.find(N=>N.id===o);l.includes("sister")||l.includes("brother")?t=e:t=(i=E.rels.spouses)===null||i===void 0?void 0:i.find(N=>r[N]&&!r[N].includes("in-law"))}const s=vh(e,t,n);if(!s)return console.error(`${t} not found in main_ancestry`);const a=s.is_ancestor?s.found:s.found[0],c=n.find(E=>E.id===a),h=jn(c,_),d=h.descendants().map(E=>E.data.id),f=m(e,d),u=m(t,d);g(h);const p=h.descendants().map(E=>{const N={id:E.data.id,data:JSON.parse(JSON.stringify(E.data.data)),kinship:r[E.data.id],rels:{parents:[],spouses:[],children:[]}};return E.children&&E.children.length>0&&(N.rels.children=E.children.map(H=>H.data.id)),N});return p.length>0&&!s.is_ancestor&&!s.is_half_kin&&y(p),o&&v(p),p;function g(E){E.children=(E.children||[]).filter(N=>!!(f.includes(N.data.id)||u.includes(N.data.id))),E.children.forEach(N=>g(N)),E.children.length===0&&delete E.children}function _(E){return[...E.rels.children||[]].map(H=>n.find(A=>A.id===H)).filter(H=>H)}function m(E,N){const H=[E];return A(E),H;function A(F){n.find(S=>S.id===F).rels.parents.forEach(S=>{N.includes(S)&&(H.push(S),A(S))})}}function y(E){const N=E[0];if(!s)return console.error(`${t} not found in main_ancestry`);const H=a===s.found[0]?s.found[1]:s.found[0];N.rels.spouses=[H];const A=n.find(B=>B.id===H),F={id:A.id,data:JSON.parse(JSON.stringify(A.data)),kinship:r[A.id],rels:{spouses:[N.id],children:N.rels.children,parents:[]}};E.push(F),(N.rels.children||[]).forEach(B=>{const X=n.find(L=>L.id===B),S=E.find(L=>L.id===B);S.rels.parents=[...X.rels.parents]})}function v(E){l.includes("sister")||l.includes("brother")?M(E):w(E)}function w(E){const N=E.find(B=>B.id===t),H=o;N.rels.spouses=[H];const A=n.find(B=>B.id===H),F={id:A.id,data:JSON.parse(JSON.stringify(A.data)),kinship:r[A.id],rels:{spouses:[N.id],children:[],parents:[]}};E.push(F)}function M(E){var N;const H=E.find(L=>L.id===t),A=R(o);E.push({id:o,data:JSON.parse(JSON.stringify(A.data)),kinship:r[o],rels:{spouses:[],children:[],parents:[]}});const F=[];A.rels.parents.forEach(L=>(R(L).rels.children||[]).forEach(T=>F.push(T)));const B=(N=R(t).rels.spouses)===null||N===void 0?void 0:N.find(L=>F.includes(L));H.rels.spouses=[B];const X=R(B),S={id:X.id,data:JSON.parse(JSON.stringify(X.data)),kinship:r[X.id],rels:{spouses:[H.id],children:[],parents:[]}};E.push(S),A.rels.parents.forEach(L=>{const T=R(L),$=T.data.gender==="M"?"Father-in-law":T.data.gender==="F"?"Mother-in-law":"Parent-in-law",x={id:T.id,data:JSON.parse(JSON.stringify(T.data)),kinship:$,rels:{spouses:[],children:[B,o],parents:[]}},C=A.rels.parents.find(k=>k!==k);C&&x.rels.parents.push(C),E.unshift(x)})}function R(E){return n.find(N=>N.id===E)}}function _h(e,t,n){const r=e.id;n.forEach(l=>{l.rels.parents.includes(r)&&(l.rels.parents[l.rels.parents.indexOf(r)]=t),l.rels.spouses&&l.rels.spouses.includes(r)&&(l.rels.spouses=l.rels.spouses.filter(s=>s!==r),l.rels.spouses.includes(t)||l.rels.spouses.push(t)),l.rels.children&&l.rels.children.includes(r)&&(l.rels.children=l.rels.children.filter(s=>s!==r),l.rels.children.includes(t)||l.rels.children.push(t))});const i=n.find(l=>l.id===t),o=n.find(l=>l.id===r);if(!o)throw new Error("New rel not found");if(!i)throw new Error("Link rel not found");if((o.rels.children||[]).forEach(l=>{i.rels.children||(i.rels.children=[]),i.rels.children.includes(l)||i.rels.children.push(l)}),(o.rels.spouses||[]).forEach(l=>{i.rels.spouses||(i.rels.spouses=[]),i.rels.spouses.includes(l)||i.rels.spouses.push(l)}),i.rels.parents.length===0)i.rels.parents=[...o.rels.parents];else{const l=i.rels.parents.find(h=>{var d;return((d=n.find(f=>f.id===h))===null||d===void 0?void 0:d.data.gender)==="M"}),s=i.rels.parents.find(h=>{var d;return((d=n.find(f=>f.id===h))===null||d===void 0?void 0:d.data.gender)==="F"}),a=o.rels.parents.find(h=>{var d;return((d=n.find(f=>f.id===h))===null||d===void 0?void 0:d.data.gender)==="M"}),c=o.rels.parents.find(h=>{var d;return((d=n.find(f=>f.id===h))===null||d===void 0?void 0:d.data.gender)==="F"});a&&(l?(console.error("link rel already has father"),i.rels.parents[i.rels.parents.indexOf(l)]=a):i.rels.parents.push(a)),c&&(s?(console.error("link rel already has mother"),i.rels.parents[i.rels.parents.indexOf(s)]=c):i.rels.parents.push(c))}n.splice(n.findIndex(l=>l.id===r),1)}function V_(e,t){const n=e._new_rel_data?t.find(s=>s.id===e._new_rel_data.rel_id):null,r=o(e,t),i=l(e,t);if(e._new_rel_data&&["son","daughter"].includes(e._new_rel_data.rel_type)){if(!n)throw new Error("Rel datum not found");i.push(...l(n,t))}return t.filter(s=>s.id!==e.id&&s.id!==(n==null?void 0:n.id)&&!s._new_rel_data&&!s.to_add&&!s.unknown).filter(s=>!r.includes(s.id)).filter(s=>!i.includes(s.id)).filter(s=>!(s.rels.spouses||[]).includes(e.id));function o(s,a){const c=[];return h(s),c;function h(d){d.rels.parents.forEach(f=>{if(f){c.push(f);const u=a.find(p=>p.id===f);if(!u)throw new Error("Parent not found");h(u)}})}}function l(s,a){const c=[];return h(s),c;function h(d){(d.rels.children?[...d.rels.children]:[]).forEach(u=>{c.push(u);const p=a.find(g=>g.id===u);if(!p)throw new Error("Child not found");h(p)})}}}function j_({datum:e,store:t,fields:n,postSubmitHandler:r,addRelative:i,removeRelative:o,deletePerson:l,onCancel:s,editFirst:a,link_existing_rel_config:c,onFormCreation:h,no_edit:d,onSubmit:f,onDelete:u,canEdit:p,canDelete:g}){let _=g?g(e):!0;(p?p(e):!0)||(d=!0,_=!1);let y;const v={datum_id:e.id,fields:[],onSubmit:N,onCancel:s,onFormCreation:h,no_edit:d,gender_field:w()};if(e._new_rel_data)y=Object.assign(Object.assign({},v),{title:e._new_rel_data.label,new_rel:!0,editable:!0});else{if(!i)throw new Error("addRelative is required");if(!o)throw new Error("removeRelative is required");y=Object.assign(Object.assign({},v),{onDelete:A,addRelative:()=>i.activate(e),addRelativeCancel:()=>i.onCancel(),addRelativeActive:i.is_active,removeRelative:()=>o.activate(e),removeRelativeCancel:()=>o.onCancel(),removeRelativeActive:o.is_active,editable:!1,can_delete:_})}return(e._new_rel_data||e.to_add||e.unknown)&&c&&(y.linkExistingRelative=E(e,t.getData(),c)),d?y.editable=!1:a&&(y.editable=!0),n.forEach(F=>{F.type==="rel_reference"?M(F):F.type==="select"?R(F):y.fields.push({id:F.id,type:F.type,label:F.label,initial_value:e.data[F.id]})}),y;function w(){return{id:"gender",type:"switch",label:"Gender",initial_value:e.data.gender,disabled:!1,options:[{value:"M",label:"Male"},{value:"F",label:"Female"}]}}function M(F){F.getRelLabel||console.error("getRelLabel is not set"),F.rel_type==="spouse"&&(e.rels.spouses||[]).forEach(B=>{const X=t.getDatum(B);if(!X)throw new Error("Spouse not found");const S=`${F.id}__ref__${B}`,L={id:S,type:"rel_reference",label:F.label,rel_id:B,rel_label:F.getRelLabel(X),initial_value:e.data[S],rel_type:F.rel_type};y.fields.push(L)})}function R(F){if(!F.options&&!F.optionCreator)return console.error("optionCreator or options is not set for field",F);const B={id:F.id,type:F.type,label:F.label,initial_value:e.data[F.id],placeholder:F.placeholder,options:F.options||F.optionCreator(e)};y.fields.push(B)}function E(F,B,X){if(!X)throw new Error("link_existing_rel_config is required");return{title:X.title,select_placeholder:X.select_placeholder,options:V_(F,B).map(L=>({value:L.id,label:X.linkRelLabel(L)})).sort((L,T)=>typeof L.label=="string"&&typeof T.label=="string"?L.label.localeCompare(T.label):L.label<T.label?-1:1),onSelect:H}}function N(F){f?f(F,e,B,()=>r({})):(F.preventDefault(),B(),r({}));function B(){const X=new FormData(F.target);V1(e,t.getData(),X)}}function H(F){const B=F.target.value;r({link_rel_id:B})}function A(){u?u(e,()=>l(),()=>r({delete:!0})):(l(),r({delete:!0}))}}function B_(e,t){t.forEach(n=>{const r=n._new_rel_data;r&&r.rel_type==="spouse"&&(n.data.gender=n.data.gender==="M"?"F":"M")})}function W_(e){for(let t=e.length-1;t>=0;t--){const n=e[t];n._new_rel_data&&(e.forEach(r=>{r.rels.parents.includes(n.id)&&r.rels.parents.splice(r.rels.parents.indexOf(n.id),1),r.rels.children&&r.rels.children.includes(n.id)&&r.rels.children.splice(r.rels.children.indexOf(n.id),1),r.rels.spouses&&r.rels.spouses.includes(n.id)&&r.rels.spouses.splice(r.rels.spouses.indexOf(n.id),1)}),e.splice(t,1))}}function Q_(e,t,n,r){let i={parent:!0,spouse:!0,child:!0};r&&(i=Object.assign(i,r(e))),e.rels.spouses||(e.rels.spouses=[]),e.rels.children||(e.rels.children=[]),i.parent&&o(),i.spouse&&(l(),s()),i.child&&a();function o(){const c=e.rels.parents,h=c.find(p=>{var g;return((g=t.find(_=>_.id===p))===null||g===void 0?void 0:g.data.gender)==="M"}),d=c.find(p=>{var g;return((g=t.find(_=>_.id===p))===null||g===void 0?void 0:g.data.gender)==="F"});if(c.length<2&&!h){const p=$t({data:{gender:"M"},rels:{children:[e.id]}});p._new_rel_data={rel_type:"father",label:n.father,rel_id:e.id},e.rels.parents.push(p.id),t.push(p)}if(c.length<2&&!d){const p=$t({data:{gender:"F"},rels:{children:[e.id]}});p._new_rel_data={rel_type:"mother",label:n.mother,rel_id:e.id},e.rels.parents.push(p.id),t.push(p)}const f=t.find(p=>p.id===e.rels.parents[0]),u=t.find(p=>p.id===e.rels.parents[1]);f.rels.spouses||(f.rels.spouses=[]),u.rels.spouses||(u.rels.spouses=[]),f.rels.spouses.includes(u.id)||f.rels.spouses.push(u.id),u.rels.spouses.includes(f.id)||u.rels.spouses.push(f.id),f.rels.children||(f.rels.children=[]),u.rels.children||(u.rels.children=[]),f.rels.children.includes(e.id)||f.rels.children.push(e.id),u.rels.children.includes(e.id)||u.rels.children.push(e.id)}function l(){if(e.rels.spouses||(e.rels.spouses=[]),e.rels.children){let c;e.rels.children.forEach(h=>{const d=t.find(f=>f.id===h);if(d.rels.parents.length===1){const u=t.find(p=>p.id===d.rels.parents[0]).data.gender==="M"?"F":"M";c||(c=$t({data:{gender:u},rels:{spouses:[e.id]}})),c._new_rel_data={rel_type:"spouse",label:n.spouse,rel_id:e.id},c.rels.children.push(d.id),e.rels.spouses.push(c.id),d.rels.parents.push(c.id),t.push(c)}})}}function s(){e.rels.spouses||(e.rels.spouses=[]);const c=e.data.gender==="M"?"F":"M",h=$t({data:{gender:c},rels:{spouses:[e.id]}});h._new_rel_data={rel_type:"spouse",label:n.spouse,rel_id:e.id},e.rels.spouses.push(h.id),t.push(h)}function a(){e.rels.children||(e.rels.children=[]),e.rels.spouses||(e.rels.spouses=[]),e.rels.spouses.forEach(c=>{const h=t.find(u=>u.id===c);h.rels.children||(h.rels.children=[]);const d=$t({data:{gender:"M"},rels:{parents:[e.id,h.id]}});d._new_rel_data={rel_type:"son",label:n.son,other_parent_id:h.id,rel_id:e.id},h.rels.children.push(d.id),e.rels.children.push(d.id),t.push(d);const f=$t({data:{gender:"F"},rels:{parents:[e.id,h.id]}});f._new_rel_data={rel_type:"daughter",label:n.daughter,other_parent_id:h.id,rel_id:e.id},h.rels.children.push(f.id),e.rels.children.push(f.id),t.push(f)})}return t}var q_=(e,t,n)=>new K_(e,t,n);class K_{constructor(t,n,r){return this.store=t,this.onActivate=n,this.cancelCallback=r,this.datum=null,this.onChange=null,this.onCancel=null,this.is_active=!1,this.addRelLabels=this.addRelLabelsDefault(),this}activate(t){this.is_active&&this.onCancel(),this.onActivate(),this.is_active=!0,this.store.state.one_level_rels=!0;const n=this.store;this.datum=t;let r=this.datum.data.gender;Q_(t,this.getStoreData(),this.addRelLabels,this.canAdd),n.updateTree({}),this.onChange=i,this.onCancel=()=>o(this);function i(l,s){l!=null&&l._new_rel_data?s!=null&&s.link_rel_id?_h(l,s.link_rel_id,n.getData()):delete l._new_rel_data:l.id===t.id?l.data.gender!==r&&(r=l.data.gender,B_(l,n.getData())):console.error("Something went wrong")}function o(l){l.is_active&&(l.is_active=!1,l.store.state.one_level_rels=!1,l.cleanUp(),l.cancelCallback(l.datum),l.datum=null,l.onChange=null,l.onCancel=null)}}setAddRelLabels(t){if(typeof t!="object"){console.error("add_rel_labels must be an object");return}for(const n in t){const r=n;this.addRelLabels[r]=t[r]}return this}setCanAdd(t){return this.canAdd=t,this}addRelLabelsDefault(){return{father:"Add Father",mother:"Add Mother",spouse:"Add Spouse",son:"Add Son",daughter:"Add Daughter"}}getStoreData(){return this.store.getData()}cleanUp(t){return t||(t=this.store.getData()),W_(t),t}}var X_=(e,t,n,r)=>new Y_(e,t,n,r);class Y_{constructor(t,n,r,i){return this.store=t,this.onActivate=n,this.cancelCallback=r,this.modal=i,this.datum=null,this.onChange=null,this.onCancel=null,this.is_active=!1,this}activate(t){this.is_active&&this.onCancel(),this.onActivate(),this.is_active=!0,this.store.state.one_level_rels=!0;const n=this.store;n.updateTree({}),this.datum=t,this.onChange=r.bind(this),this.onCancel=i.bind(this);function r(o,l){const s=f(o),a=t.rels;s==="parent"?c.call(this):s==="spouse"?h.call(this):s==="children"&&d.call(this);function c(){const u=o.data.id,p=n.getDatum(u);if(!p)throw new Error("Parent not found");if(!p.rels.children)throw new Error("Parent has no children");p.rels.children=p.rels.children.filter(g=>g!==t.id),a.parents=a.parents.filter(g=>g!==u),l()}function h(){const u=o.data;p()?g.call(this):_.call(this,!0);function p(){return(u.rels.children||[]).some(y=>{const v=n.getDatum(y);if(!v)throw new Error("Child not found");return!!v.rels.parents.includes(u.id)})}function g(){const m=t.data.gender==="M"?"f3-male-bg":t.data.gender==="F"?"f3-female-bg":null,y=u.data.gender==="M"?"f3-male-bg":u.data.gender==="F"?"f3-female-bg":null,v=sn("div").html(`
            <p>You are removing a spouse relationship. Since there are shared children, please choose which parent should keep them in the family tree.</p>
            <div class="f3-modal-options">
              <button data-option="assign-to-current" class="f3-btn ${m}">Keep children with current person</button>
              <button data-option="assign-to-spouse" class="f3-btn ${y}">Keep children with spouse</button>
            </div>
          `);v.selectAll('[data-option="assign-to-current"]').on("click",()=>{_(!0),this.modal.close()}),v.selectAll('[data-option="assign-to-spouse"]').on("click",()=>{_(!1),this.modal.close()}),this.modal.activate(v.node())}function _(m){o.data.rels.spouses=o.data.rels.spouses.filter(w=>w!==t.id),a.spouses=a.spouses.filter(w=>w!==o.data.id);const y=m?t:o.data,v=m?o.data:t;(a.children||[]).forEach(w=>{const M=n.getDatum(w);if(!M)throw new Error("Child not found");M.rels.parents.includes(v.id)&&(M.rels.parents=M.rels.parents.filter(R=>R!==v.id))}),v.rels.children&&(v.rels.children=v.rels.children.filter(w=>!(y.rels.children||[]).includes(w))),l()}}function d(){if(!a.children)throw new Error("Children not found");a.children=a.children.filter(u=>u!==o.data.id),o.data.rels.parents=o.data.rels.parents.filter(u=>u!==t.id),l()}function f(u){if(u.is_ancestry){if(t.rels.parents.includes(u.data.id))return"parent"}else if(u.spouse){if(!t.rels.spouses)throw new Error("Spouses not found");if(t.rels.spouses.includes(u.data.id))return"spouse"}else{if(!t.rels.children)throw new Error("Children not found");if(t.rels.children.includes(u.data.id))return"children"}return null}}function i(){if(this.is_active){if(this.is_active=!1,this.store.state.one_level_rels=!1,!this.datum)throw new Error("Datum not found");this.cancelCallback(this.datum),this.datum=null,this.onChange=null,this.onCancel=null}}}}function G_(e){return new b_(e)}class b_{constructor(t){this.cont=t,this.active=!1,this.onClose=null,this.modal_cont=z(this.cont).append("div").attr("class","f3-modal").node(),z(this.modal_cont).style("display","none"),this.create()}create(){const t=z(this.modal_cont);t.html(`
      <div class="f3-modal-content">
        <span class="f3-modal-close">&times;</span>
        <div class="f3-modal-content-inner"></div>
        <div class="f3-modal-content-bottom"></div>
      </div>
    `),t.select(".f3-modal-close").on("click",()=>{this.close()}),t.on("click",n=>{n.target==t.node()&&this.close()})}activate(t,{boolean:n,onAccept:r,onCancel:i}={}){this.reset();const o=z(this.modal_cont).select(".f3-modal-content-inner").node();if(typeof t=="string"?o.innerHTML=t:o.appendChild(t),n){if(!r)throw new Error("onAccept is required");if(!i)throw new Error("onCancel is required");z(this.modal_cont).select(".f3-modal-content-bottom").html(`
        <button class="f3-modal-accept f3-btn">Accept</button>
        <button class="f3-modal-cancel f3-btn">Cancel</button>
      `),z(this.modal_cont).select(".f3-modal-accept").on("click",()=>{r(),this.reset(),this.close()}),z(this.modal_cont).select(".f3-modal-cancel").on("click",()=>{this.close()}),this.onClose=i}this.open()}reset(){this.onClose=null,z(this.modal_cont).select(".f3-modal-content-inner").html(""),z(this.modal_cont).select(".f3-modal-content-bottom").html("")}open(){this.modal_cont.style.display="block",this.active=!0}close(){this.modal_cont.style.display="none",this.active=!1,this.onClose&&this.onClose()}}var Z_=(e,t)=>new J_(e,t);class J_{constructor(t,n){return this.cont=t,this.store=n,this.fields=[{type:"text",label:"first name",id:"first name"},{type:"text",label:"last name",id:"last name"},{type:"text",label:"birthday",id:"birthday"},{type:"text",label:"avatar",id:"avatar"}],this.is_fixed=!0,this.no_edit=!1,this.onChange=null,this.editFirst=!1,this.postSubmit=null,this.onFormCreation=null,this.createFormEdit=null,this.createFormNew=null,this.formCont=this.getFormContDefault(),this.modal=this.setupModal(),this.addRelativeInstance=this.setupAddRelative(),this.removeRelativeInstance=this.setupRemoveRelative(),this.history=this.createHistory(),this}open(t){t.rels||(t=t.data),this.addRelativeInstance.is_active?n(this):this.removeRelativeInstance.is_active?r(this,this.store.getTreeDatum(t.id)):this.cardEditForm(t);function n(i){t._new_rel_data?i.cardEditForm(t):(i.addRelativeInstance.onCancel(),i.cardEditForm(t),i.store.updateMainId(t.id),i.store.updateTree({}))}function r(i,o){if(!o)throw new Error("Tree datum not found");if(!i.removeRelativeInstance.datum)throw new Error("Remove relative datum not found");if(!i.removeRelativeInstance.onCancel)throw new Error("Remove relative onCancel not found");if(!i.removeRelativeInstance.onChange)throw new Error("Remove relative onChange not found");if(t.id===i.removeRelativeInstance.datum.id)i.removeRelativeInstance.onCancel(),i.cardEditForm(t);else{let s=function(){i.removeRelativeInstance.onCancel(),i.updateHistory(),i.store.updateTree({})};var l=s;i.removeRelativeInstance.onChange(o,s.bind(i))}}}setupAddRelative(){return q_(this.store,()=>t(this),r=>n(this,r));function t(r){r.removeRelativeInstance.is_active&&r.removeRelativeInstance.onCancel()}function n(r,i){r.store.updateMainId(i.id),r.store.updateTree({}),r.openFormWithId(i.id)}}setupRemoveRelative(){return X_(this.store,t.bind(this),n.bind(this),this.modal);function t(){this.addRelativeInstance.is_active&&this.addRelativeInstance.onCancel(),r(this.cont,!0)}function n(i){r(this.cont,!1),this.store.updateMainId(i.id),this.store.updateTree({}),this.openFormWithId(i.id)}function r(i,o){z(i).select("#f3Canvas").classed("f3-remove-relative-active",o)}}createHistory(){const t=$_(this.store,this._getStoreDataCopy.bind(this),i.bind(this)),n=this.cont.querySelector(".f3-nav-cont");if(!n)throw new Error("Nav cont not found");const r=T_(n,t);return t.changed(),r.updateButtons(),Object.assign(Object.assign({},t),{controls:r});function i(){var o;console.log("historyUpdateTree"),this.addRelativeInstance.is_active&&this.addRelativeInstance.onCancel(),this.removeRelativeInstance.is_active&&this.removeRelativeInstance.onCancel(),this.store.updateTree({initial:!1}),this.history.controls.updateButtons(),this.openFormWithId((o=this.store.getMainDatum())===null||o===void 0?void 0:o.id),this.onChange&&this.onChange()}}openWithoutRelCancel(t){this.cardEditForm(t)}getFormContDefault(){let t=z(this.cont).select("div.f3-form-cont").node();return t||(t=z(this.cont).append("div").classed("f3-form-cont",!0).node()),{el:t,populate(n){t.innerHTML="",t.appendChild(n)},open(){z(t).classed("opened",!0)},close(){z(t).classed("opened",!1).html("")}}}setFormCont(t){return this.formCont=t,this}cardEditForm(t){const n={},r=t==null?void 0:t._new_rel_data;r?n.onCancel=()=>this.addRelativeInstance.onCancel():(n.addRelative=this.addRelativeInstance,n.removeRelative=this.removeRelativeInstance,n.deletePerson=()=>{lh(t,this.store.getData()),this.openFormWithId(this.store.getLastAvailableMainDatum().id),this.store.updateTree({})});const i=j_(Object.assign({store:this.store,datum:t,postSubmitHandler:s=>l(this,s),fields:this.fields,onCancel:()=>{},editFirst:this.editFirst,no_edit:this.no_edit,link_existing_rel_config:this.link_existing_rel_config,onFormCreation:this.onFormCreation,onSubmit:this.onSubmit,onDelete:this.onDelete,canEdit:this.canEdit,canDelete:this.canDelete},n)),o=r?(this.createFormNew||x_)(i,this.closeForm.bind(this)):(this.createFormEdit||S_)(i,this.closeForm.bind(this));this.formCont.populate(o),this.openForm();function l(s,a){if(s.addRelativeInstance.is_active){s.addRelativeInstance.onChange(t,a),s.postSubmit&&s.postSubmit(t,s.store.getData());const c=s.addRelativeInstance.datum;if(!c)throw new Error("Active datum not found");s.store.updateMainId(c.id),s.openWithoutRelCancel(c)}else(t.to_add||t.unknown)&&(a!=null&&a.link_rel_id)?(_h(t,a.link_rel_id,s.store.getData()),s.store.updateMainId(a.link_rel_id),s.openFormWithId(a.link_rel_id)):a!=null&&a.delete||(s.postSubmit&&s.postSubmit(t,s.store.getData()),s.openFormWithId(t.id));s.is_fixed||s.closeForm(),s.store.updateTree({}),s.updateHistory()}}openForm(){this.formCont.open()}closeForm(){this.formCont.close(),this.store.updateTree({})}fixed(){return this.is_fixed=!0,this.formCont.el&&z(this.formCont.el).style("position","relative"),this}absolute(){return this.is_fixed=!1,this.formCont.el&&z(this.formCont.el).style("position","absolute"),this}setCardClickOpen(t){return t.setOnCardClick((n,r)=>{this.isAddingRelative()?this.open(r.data):this.isRemovingRelative()?this.open(r.data):(this.open(r.data),t.onCardClickDefault(n,r))}),this}openFormWithId(t){if(t){const n=this.store.getDatum(t);if(!n)throw new Error("Datum not found");this.openWithoutRelCancel(n)}else{const n=this.store.getMainDatum();if(!n)throw new Error("Main datum not found");this.openWithoutRelCancel(n)}}setNoEdit(){return this.no_edit=!0,this}setEdit(){return this.no_edit=!1,this}setFields(t){const n=[];if(!Array.isArray(t))return console.error("fields must be an array"),this;for(const r of t)typeof r=="string"?n.push({type:"text",label:r,id:r}):typeof r=="object"?r.id?n.push(r):console.error("fields must be an array of objects with id property"):console.error("fields must be an array of strings or objects");return this.fields=n,this}setOnChange(t){return this.onChange=t,this}setCanEdit(t){return this.canEdit=t,this}setCanDelete(t){return this.canDelete=t,this}setCanAdd(t){return this.addRelativeInstance.setCanAdd(t),this}addRelative(t){return t||(t=this.store.getMainDatum()),this.addRelativeInstance.activate(t),this}setupModal(){return G_(this.cont)}setEditFirst(t){return this.editFirst=t,this}isAddingRelative(){return this.addRelativeInstance.is_active}isRemovingRelative(){return this.removeRelativeInstance.is_active}setAddRelLabels(t){return this.addRelativeInstance.setAddRelLabels(t),this}setLinkExistingRelConfig(t){return this.link_existing_rel_config=t,this}setOnFormCreation(t){return this.onFormCreation=t,this}setCreateFormEdit(t){return this.createFormEdit=t,this}setCreateFormNew(t){return this.createFormNew=t,this}_getStoreDataCopy(){let t=JSON.parse(JSON.stringify(this.store.getData()));return this.addRelativeInstance.is_active&&(t=this.addRelativeInstance.cleanUp(t)),t=W1(t),t}getStoreDataCopy(){return this.exportData()}exportData(){let t=this._getStoreDataCopy();return t=w1(t,this.store.state.legacy_format),t}getDataJson(){return JSON.stringify(this.exportData(),null,2)}updateHistory(){this.history&&(this.history.changed(),this.history.controls.updateButtons()),this.onChange&&this.onChange()}setPostSubmit(t){return this.postSubmit=t,this}setOnSubmit(t){return this.onSubmit=t,this}setOnDelete(t){return this.onDelete=t,this}destroy(){return this.history.controls.destroy(),this.history=null,this.formCont.el&&z(this.formCont.el).remove(),this.addRelativeInstance.onCancel&&this.addRelativeInstance.onCancel(),this.store.updateTree({}),this}}function ew(e,t,n){const r=[];t.data.forEach(f=>{f.coparent&&f.data.data.gender==="F"&&r.push({nodes:[f,f.coparent],id:`${f.data.id}--${f.coparent.data.id}`}),f.spouses&&f.spouses.forEach(u=>r.push({nodes:[u,f],id:`${u.data.id}--${f.data.id}`}))});const i=z(e).select(".links_view").selectAll("g.link-text").data(r,f=>f.id),o=i.exit(),l=i.enter().append("g").attr("class","link-text"),s=l.merge(i),a=(f,u)=>f.spouse&&f.data.data.gender==="F"?f.x-n.node_separation/2:u.spouse&&u.data.data.gender==="M"?u.x+n.node_separation/2:Math.min(f.x,u.x)+n.node_separation/2;o.each(d),l.each(c),s.each(h);function c(f){const[u,p]=f.nodes,g=z(this);g.attr("transform",`translate(${a(u,p)}, ${u.y-3})`).style("opacity",0),g.append("text").style("font-size","12px").style("fill","#fff").style("text-anchor","middle")}function h(f){const[u,p]=f.nodes,g=z(this),_=n.initial?Gr(t,u,n.transition_time):0;g.select("text").text(n.linkSpouseText(u,p)),g.transition("text").duration(n.transition_time).delay(_).attr("transform",`translate(${a(u,p)}, ${u.y-3})`),g.transition("text-op").duration(100).delay(_+n.transition_time).style("opacity",1)}function d(f){const u=z(this);u.transition("text").duration(100).style("opacity",0).on("end",()=>u.remove())}}function tw(e,t,n={}){return new nw(e,t,n)}class nw{constructor(t,n,r={}){this.cont=t,this.options=[],this.onSelect=n,this.config=r,this.autocomplete_cont=z(this.cont).append("div").attr("class","f3-autocomplete-cont").node(),this.create()}create(){var t;const n=this;z(this.autocomplete_cont).html(`
      <div class="f3-autocomplete">
        <div class="f3-autocomplete-input-cont">
          <input type="text" placeholder="${((t=this.config)===null||t===void 0?void 0:t.placeholder)||"Search"}">
          <span class="f3-autocomplete-toggle">${d_()}</span>
        </div>
        <div class="f3-autocomplete-items" tabindex="0"></div>
      </div>
    `);const r=z(this.autocomplete_cont).select(".f3-autocomplete"),i=r.select("input"),o=r.select(".f3-autocomplete-items");r.on("focusout",()=>{setTimeout(()=>{r.node().contains(document.activeElement)||s()},200)}),i.on("focus",()=>{c(),l()}).on("input",l).on("keydown",h),o.on("wheel",d=>d.stopPropagation()),r.select(".f3-autocomplete-toggle").on("click",d=>{d.stopPropagation();const f=r.classed("active");r.classed("active",!f),f?s():(i.node().focus(),l())});function l(){r.classed("active",!0);const d=i.property("value"),f=n.options.filter(g=>g.label.toLowerCase().includes(d.toLowerCase()));f.forEach(u),f.sort(p),a(f);function u(g){const _=g.label.toLowerCase().indexOf(d.toLowerCase());_!==-1?g.label_html=m():g.label_html=g.label;function m(){return g.label.substring(0,_)+"<strong>"+g.label.substring(_,_+d.length)+"</strong>"+g.label.substring(_+d.length)}}function p(g,_){return g.label<_.label?-1:g.label>_.label?1:0}}function s(){r.classed("active",!1),a([])}function a(d){o.selectAll("div.f3-autocomplete-item").data(d,u=>u==null?void 0:u.value).join("div").attr("class","f3-autocomplete-item").on("click",(u,p)=>{n.onSelect(p.value)}).html(u=>u.optionHtml?u.optionHtml(u):f(u));function f(u){return`<div class="${u.class?u.class:""}">${u.label_html}</div>`}}function c(){n.options=n.getOptions()}function h(d){const f=o.selectAll("div.f3-autocomplete-item").nodes(),u=f.findIndex(g=>z(g).classed("f3-selected"));if(d.key==="ArrowDown"){d.preventDefault();const g=u<f.length-1?u+1:0;p(f,g)}else if(d.key==="ArrowUp"){d.preventDefault();const g=u>0?u-1:f.length-1;p(f,g)}else if(d.key==="Enter"&&u!==-1){d.preventDefault();const g=z(f[u]).datum();g&&n.onSelect(g.value)}function p(g,_){g.forEach(m=>z(m).classed("f3-selected",!1)),g[_]&&(z(g[_]).classed("f3-selected",!0),g[_].scrollIntoView({block:"nearest"}))}}}setOptionsGetter(t){return this.getOptions=t,this}setOptionsGetterPerson(t,n){return this.getOptions=()=>{const o=[];return t().forEach(s=>{s.to_add||s.unknown||s._new_rel_data||o.find(a=>a.value===s.id)||o.push({label:n(s),value:s.id,optionHtml:r(s)})}),o},this;function r(o){const l=!oh(o,t());return s=>`
        <div>
          <span style="float: left; width: 10px; height: 10px; margin-right: 10px;" class="f3-${i(o)}-color">${ah()}</span>
          <span>${s.label_html}</span>
          ${l?`<span style="float: right; width: 10px; height: 10px; margin-left: 5px;" title="This profile is not connected to the main profile">${h_()}</span>`:""}
        </div>
      `}function i(o){return o.data.gender==="M"?"male":o.data.gender==="F"?"female":"genderless"}}destroy(){this.autocomplete_cont.remove()}}function wh(e){const t=[];return Array.isArray(e)?e.forEach(n=>{typeof n=="function"?t.push(n):typeof n=="string"?t.push(r=>r.data[n]):Array.isArray(n)&&t.push(r=>n.map(i=>r.data[i]).join(" "))}):typeof e=="function"?t.push(e):typeof e=="string"&&t.push(n=>n.data[e]),t}function rw(e,t,n,r){const i=n.is_ancestry,o=t.data();let l=[],s=[];if(i){const d=[];let f=n,u=0;for(;f!==r&&u<100;){u++;const g=o.find(_=>_.spouse===!0&&(_.source===f||_.target===f));if(g){const _=o.filter(y=>Array.isArray(y.target)&&y.target.includes(g.source)&&y.target.includes(g.target)),m=h(_,r);if(!m)break;d.push(g),d.push(m),f=m.source}else{const _=o.filter(y=>Array.isArray(y.target)&&y.target.includes(f)),m=h(_,r);if(!m)break;d.push(m),f=m.source}}t.each(function(g){d.includes(g)&&l.push({link:g,node:this})});const p=c(n,d);e.each(function(g){p.includes(g)&&s.push({card:g,node:this})})}else if(n.spouse&&n.spouse.data===r.data){t.each(function(f){f.target===n&&l.push({link:f,node:this})});const d=[r,n];e.each(function(f){d.includes(f)&&s.push({card:f,node:this})})}else if(n.sibling){t.each(function(f){if(!Array.isArray(n.parents))throw new Error("datum.parents is not an array");f.source===n&&l.push({link:f,node:this}),f.source===r&&Array.isArray(f.target)&&f.target.length===2&&l.push({link:f,node:this}),n.parents.includes(f.source)&&!Array.isArray(f.target)&&n.parents.includes(f.target)&&l.push({link:f,node:this})});const d=[r,n,...n.parents||[]];e.each(function(f){d.includes(f)&&s.push({card:f,node:this})})}else{let d=[],f=n,u=0;for(;f!==r&&u<100;){u++;const g=o.find(_=>_.target===f&&Array.isArray(_.source));if(g){const _=o.find(m=>m.spouse===!0&&a([m.source,m.target],g.source));d.push(g),d.push(_),_?f=_.source:f=g.source[0]}else{const _=o.find(m=>m.target===f&&!Array.isArray(m.source));if(!_)break;d.push(_),f=_.source}}t.each(function(g){d.includes(g)&&l.push({link:g,node:this})});const p=c(r,d);e.each(function(g){p.includes(g)&&s.push({card:g,node:this})})}return{cards_node_to_main:s,links_node_to_main:l};function a(d,f){return d.every(u=>f.some(p=>u===p))}function c(d,f){const u=f.filter(_=>_).reduce((_,m)=>(Array.isArray(m.target)?_.push(...m.target):_.push(m.target),Array.isArray(m.source)?_.push(...m.source):_.push(m.source),_),[]),p=[r,n];return g(d),p;function g(_){_.data.rels.children&&_.data.rels.children.forEach(m=>{const y=u.find(v=>v.data.id===m);y&&(p.push(y),g(y))})}}function h(d,f){return d.length===0?null:d.length===1?d[0]:d.find(u=>u.source===f)}}function uc(e,t){return new iw(e,t)}let iw=class{constructor(t,n){return this.cont=t,this.svg=this.cont.querySelector("svg.main_svg"),this.store=n,this.card_display=[r=>`${r.data["first name"]} ${r.data["last name"]}`],this.cardImageField="avatar",this.onCardClick=this.onCardClickDefault,this.style="default",this.mini_tree=!1,this.card_dim={},this}getCard(){return A_({store:this.store,card_display:this.card_display,cardImageField:this.cardImageField,defaultPersonIcon:this.defaultPersonIcon,onCardClick:this.onCardClick,style:this.style,mini_tree:this.mini_tree,onCardUpdate:this.onCardUpdate,card_dim:this.card_dim,empty_card_label:this.store.state.single_parent_empty_card_label||"",unknown_card_label:this.store.state.unknown_card_label||"",cardInnerHtmlCreator:this.cardInnerHtmlCreator,duplicate_branch_toggle:this.store.state.duplicate_branch_toggle,onCardMouseenter:this.onCardMouseenter?this.onCardMouseenter.bind(this):void 0,onCardMouseleave:this.onCardMouseleave?this.onCardMouseleave.bind(this):void 0})}setCardDisplay(t){return this.card_display=wh(t),this}setCardImageField(t){return this.cardImageField=t,this}setDefaultPersonIcon(t){return this.defaultPersonIcon=t,this}setOnCardClick(t){return this.onCardClick=t,this}onCardClickDefault(t,n){this.store.updateMainId(n.data.id),this.store.updateTree({})}setStyle(t){return this.style=t,this}setMiniTree(t){return this.mini_tree=t,this}setOnCardUpdate(t){return this.onCardUpdate=t,this}setCardDim(t){if(typeof t!="object")return console.error("card_dim must be an object"),this;for(let n in t){const r=t[n];if(typeof r!="number"&&typeof r!="boolean")return console.error(`card_dim.${n} must be a number or boolean`),this;n==="width"&&(n="w"),n==="height"&&(n="h"),n==="img_width"&&(n="img_w"),n==="img_height"&&(n="img_h"),n==="img_x"&&(n="img_x"),n==="img_y"&&(n="img_y"),this.card_dim[n]=r}return this}resetCardDim(){return this.card_dim={},this}setCardInnerHtmlCreator(t){return this.cardInnerHtmlCreator=t,this}setOnHoverPathToMain(){return this.onCardMouseenter=this.onEnterPathToMain.bind(this),this.onCardMouseleave=this.onLeavePathToMain.bind(this),this}unsetOnHoverPathToMain(){return this.onCardMouseenter=void 0,this.onCardMouseleave=void 0,this}onEnterPathToMain(t,n){this.to_transition=n.data.id;const r=this.store.getTreeMainDatum(),i=z(this.cont).select("div.cards_view").selectAll(".card_cont"),o=z(this.cont).select("svg.main_svg .links_view").selectAll(".link"),{cards_node_to_main:l,links_node_to_main:s}=rw(i,o,n,r);return l.forEach(a=>{const c=Math.abs(n.depth-a.card.depth)*200;z(a.node.querySelector("div.card-inner")).transition().duration(0).delay(c).on("end",()=>this.to_transition===n.data.id&&z(a.node.querySelector("div.card-inner")).classed("f3-path-to-main",!0))}),s.forEach(a=>{const c=Math.abs(n.depth-a.link.depth)*200;z(a.node).transition().duration(0).delay(c).on("end",()=>this.to_transition===n.data.id&&z(a.node).classed("f3-path-to-main",!0))}),this}onLeavePathToMain(t,n){return this.to_transition=!1,z(this.cont).select("div.cards_view").selectAll("div.card-inner").classed("f3-path-to-main",!1),z(this.cont).select("svg.main_svg .links_view").selectAll(".link").classed("f3-path-to-main",!1),this}};function cc(e,t){return new ow(e,t)}let ow=class{constructor(t,n){return this.cont=t,this.store=n,this.svg=this.cont.querySelector("svg.main_svg"),this.card_dim={w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5},this.card_display=[],this.mini_tree=!0,this.link_break=!1,this.onCardClick=this.onCardClickDefault.bind(this),this}getCard(){return F_({store:this.store,svg:this.svg,card_dim:this.card_dim,card_display:this.card_display,mini_tree:this.mini_tree,link_break:this.link_break,onCardClick:this.onCardClick,onCardUpdate:this.onCardUpdate})}setCardDisplay(t){return this.card_display=wh(t),this}setCardDim(t){if(typeof t!="object")return console.error("card_dim must be an object"),this;for(let n in t){const r=t[n];if(typeof r!="number"&&typeof r!="boolean")return console.error(`card_dim.${n} must be a number or boolean`),this;n==="width"&&(n="w"),n==="height"&&(n="h"),n==="img_width"&&(n="img_w"),n==="img_height"&&(n="img_h"),n==="img_x"&&(n="img_x"),n==="img_y"&&(n="img_y"),this.card_dim[n]=r}return O_(this.svg,this.card_dim),this}setOnCardUpdate(t){return this.onCardUpdate=t,this}setMiniTree(t){return this.mini_tree=t,this}setLinkBreak(t){return this.link_break=t,this}onCardClickDefault(t,n){this.store.updateMainId(n.data.id),this.store.updateTree({})}setOnCardClick(t){return this.onCardClick=t,this}};function lw(e,t){return new sw(e,t)}class sw{constructor(t,n){this.getCard=null,this.transition_time=2e3,this.linkSpouseText=null,this.personSearch=null,this.is_card_html=!1,this.beforeUpdate=null,this.afterUpdate=null,this.cont=aw(t);const{svg:r}=eh(this.cont);this.svg=r,uw(this.cont);const i=n&&n.length>0?n[0].id:"";return this.store=this.createStore(n,i),this.setOnUpdate(),this.editTreeInstance=null,this}createStore(t,n){return C1({data:t,main_id:n,node_separation:250,level_separation:150,single_parent_empty_card:!0,is_horizontal:!1})}setOnUpdate(){this.store.setOnUpdate(t=>{this.beforeUpdate&&this.beforeUpdate(t),t=Object.assign({transition_time:this.store.state.transition_time},t||{}),this.is_card_html&&(t=Object.assign({},t||{},{cardHtml:!0})),H1(this.store.getTree(),this.svg,this.getCard(),t||{}),this.linkSpouseText&&ew(this.svg,this.store.getTree(),Object.assign({},t||{},{linkSpouseText:this.linkSpouseText,node_separation:this.store.state.node_separation})),this.afterUpdate&&this.afterUpdate(t)})}updateTree(t={initial:!1}){return this.store.updateTree(t),this}updateData(t){return this.store.updateData(t),this}setCardYSpacing(t){return typeof t!="number"?(console.error("card_y_spacing must be a number"),this):(this.store.state.level_separation=t,this)}setCardXSpacing(t){return typeof t!="number"?(console.error("card_x_spacing must be a number"),this):(this.store.state.node_separation=t,this)}setOrientationVertical(){return this.store.state.is_horizontal=!1,this}setOrientationHorizontal(){return this.store.state.is_horizontal=!0,this}setShowSiblingsOfMain(t){return this.store.state.show_siblings_of_main=t,this}setModifyTreeHierarchy(t){return this.store.state.modifyTreeHierarchy=t,this}setPrivateCardsConfig(t){return this.store.state.private_cards_config=t,this}setLinkSpouseText(t){return this.linkSpouseText=t,this}setSingleParentEmptyCard(t,{label:n="Unknown"}={}){return this.store.state.single_parent_empty_card=t,this.store.state.single_parent_empty_card_label=n,this.editTreeInstance&&this.editTreeInstance.addRelativeInstance.is_active&&this.editTreeInstance.addRelativeInstance.onCancel(),Ca(this.store.getData()||[]),this}setCard(t){if(t===uc)return this.setCardHtml();if(t===cc)return this.setCardSvg();throw new Error("Card must be an instance of cardHtml or cardSvg")}setCardHtml(){const t=this.cont.querySelector("#htmlSvg");if(!t)throw new Error("htmlSvg not found");this.is_card_html=!0,this.svg.querySelector(".cards_view").innerHTML="",t.style.display="block";const n=uc(this.cont,this.store);return this.getCard=()=>n.getCard(),n}setCardSvg(){const t=this.cont.querySelector("#htmlSvg");if(!t)throw new Error("htmlSvg not found");this.is_card_html=!1,this.svg.querySelector(".cards_view").innerHTML="",t.style.display="none";const n=cc(this.cont,this.store);return this.getCard=()=>n.getCard(),n}setTransitionTime(t){return this.store.state.transition_time=t,this}setSortChildrenFunction(t){return this.store.state.sortChildrenFunction=t,this}setSortSpousesFunction(t){return this.store.state.sortSpousesFunction=t,this}setAncestryDepth(t){return this.store.state.ancestry_depth=t,this}setProgenyDepth(t){return this.store.state.progeny_depth=t,this}getMaxDepth(t){return p1(t,this.store.getData())}calculateKinships(t,n={}){return H_(t,this.store.getData(),n)}getKinshipsDataStash(t,n){return U_(t,n,this.store.getData(),this.calculateKinships(t))}setDuplicateBranchToggle(t){return this.store.state.duplicate_branch_toggle=t,this}editTree(){return this.editTreeInstance=Z_(this.cont,this.store)}updateMain(t){let n;return t.id?n=t.id:n=t.data.id,this.store.updateMainId(n),this.store.updateTree({}),this}updateMainId(t){return this.store.updateMainId(t),this}getMainDatum(){return this.store.getMainDatum()}setBeforeUpdate(t){return this.beforeUpdate=t,this}setAfterUpdate(t){return this.afterUpdate=t,this}setPersonDropdown(t,{cont:n=this.cont.querySelector(".f3-nav-cont"),onSelect:r,placeholder:i="Search"}={}){r||(r=o.bind(this)),this.personSearch=tw(n,r,{placeholder:i}),this.personSearch.setOptionsGetterPerson(this.store.getData,t);function o(l){const s=this.store.getDatum(l);if(!s)throw new Error("Datum not found");this.editTreeInstance&&this.editTreeInstance.open(s),this.updateMainId(l),this.updateTree({initial:!1})}return this}unSetPersonSearch(){return this.personSearch.destroy(),this.personSearch=null,this}}function aw(e){if(typeof e=="string"&&(e=document.querySelector(e)),!e)throw new Error("cont not found");return e}function uw(e){z(e).append("div").attr("class","f3-nav-cont")}Object.assign({},D1,{setupHtmlSvg:L1,setupReactiveTreeData:A1,getUniqueId:O1});class cw extends Qn.Component{constructor(){super(...arguments);Yn(this,"cont",jh.createRef());Yn(this,"isInEditMode",!1);Yn(this,"showChildrenSpouses",!1);Yn(this,"f3Chart",null)}componentDidMount(){const n=new URLSearchParams(window.location.search);this.isInEditMode=n.get("edit")==="true",this.cont.current&&fetch("/Sites/data/family.json").then(r=>r.json()).then(r=>this.create(r)).catch(r=>console.error(r))}create(n){const r="b4e33c68-20a7-47ba-9dcc-1168a07d5b52",i="ce2fcb9a-6058-4326-b56a-aced35168561",o=new Set(n.map(g=>g.id)),l=g=>{if(!g)return{spouses:[],children:[],parents:[]};const _=m=>Array.isArray(m)?m.filter(y=>y&&o.has(y)):[];return{spouses:_(g.spouses),children:_(g.children),parents:_(g.parents)}};function s(g,_){return _?g.map(m=>({...m,father:m.father||"",mother:m.mother||"",spouses:m.spouses||[],children:m.children||[],rels:l(m.rels)})):g.map(m=>{const y=m.rels&&Array.isArray(m.rels.parents)&&m.rels.parents.length>0;return m.id===i||m.id===r?{...m,father:m.father||"",mother:m.mother||"",spouses:m.spouses||[],children:m.children||[],rels:{...m.rels,spouses:m.rels.spouses||[]}}:y?{...m,father:m.father||"",mother:m.mother||"",spouses:_?m.spouses||[]:[],children:m.children||[],rels:{...m.rels,spouses:_?m.rels.spouses||[]:[]}}:{...m,father:m.father||"",mother:m.mother||"",spouses:m.spouses||[],children:m.children||[],rels:{...m.rels,spouses:m.rels.spouses||[]}}})}this.isInEditMode&&(this.showChildrenSpouses=!0);let a=s(n,this.showChildrenSpouses);console.log("[DEBUG] Formatted Data:",a);const c=window.innerWidth<=600;let h=lw("#FamilyChart",a).setTransitionTime(1e3).setCardXSpacing(250).setCardYSpacing(120).setSingleParentEmptyCard(!1).setAncestryDepth(1).setProgenyDepth(1);c&&window.innerHeight>window.innerWidth?h=h.setOrientationHorizontal():c&&window.innerWidth>=window.innerHeight&&typeof h.setOrientationVertical=="function"&&(h=h.setOrientationVertical()),this.f3Chart=h;const d=this.f3Chart;c&&window.addEventListener("resize",()=>{this.f3Chart&&(window.innerHeight>window.innerWidth?typeof this.f3Chart.setOrientationHorizontal=="function"&&(this.f3Chart.setOrientationHorizontal(),this.f3Chart.updateTree()):typeof this.f3Chart.setOrientationVertical=="function"&&(this.f3Chart.setOrientationVertical(),this.f3Chart.updateTree()),setTimeout(()=>{const g=document.getElementById("FamilyChart");g&&g.parentElement&&(g.parentElement.scrollTop=(g.scrollHeight-g.parentElement.clientHeight)/2)},300))});const f=d.setCardHtml().setCardDisplay([["first name","last name"],["birthday"]]).setMiniTree(!0).setOnHoverPathToMain(),u=d.editTree().setFields(["first name","last name","birthday","avatar"]).setEditFirst(!0);this.isInEditMode?u.setCardClickOpen(f):u.setNoEdit();const p=f.onCardClick;f.setOnCardClick((g,_)=>{var y;const m=((y=_==null?void 0:_.data)==null?void 0:y.id)||"";p.call(f,g,_),_.data.rels.children.length>7||m==="0"||m==="0fa5c6bc-5b58-40f5-a07e-d787e26d8b56"?(d.setProgenyDepth(1),m==="0"?this.showChildrenSpouses=!0:this.showChildrenSpouses=!1):(d.setProgenyDepth(3),this.showChildrenSpouses=!0),this.isInEditMode||(a=s(n,this.showChildrenSpouses),d.updateData(a)),d.updateTree()}),d.updateMainId(r),d.updateTree({initial:!0}),this.props.onChartReady&&this.props.onChartReady(this.f3Chart)}render(){return En.jsx("div",{className:"family-tree-container",children:En.jsx("div",{className:"f3",id:"FamilyChart",ref:this.cont,style:{width:"100%",height:"900px",margin:"auto",backgroundColor:"rgb(33,33,33)",color:"#fff"}})})}}function fw({f3Chart:e}){return Qn.useEffect(()=>{function t(){const i=document.querySelector(".f3-history-controls");if(i){if(i.querySelector(".f3-save-button"))return;const l=document.createElement("button");l.className="f3-save-button f3-btn custom-save-btn";const s=document.createElement("i");s.className="fa-solid fa-floppy-disk custom-save-icon",l.appendChild(s),l.title="Save Family Tree",l.onclick=async()=>{if(!e)return;const h=e.editTree().exportData().filter(d=>d.data&&(d.data["first name"]||d.data["last name"]));if(h.length===0){console.error("[ERROR] No valid nodes to save. Ensure all nodes have both first and last names.");return}try{(await fetch("http://localhost:3001/api/save-family",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok?console.log("[DEBUG] Tree data saved successfully"):console.error("[ERROR] Failed to save tree data")}catch(d){console.error("[ERROR] Error saving tree data:",d)}},i.appendChild(l)}}t();const n=document.querySelector(".f3-nav-cont");let r=null;return n&&(r=new MutationObserver(()=>{n.querySelectorAll(".f3-history-controls").forEach((o,l)=>{const s=window.getComputedStyle(o),a=s.opacity==="0"||s.pointerEvents==="none";if(o.parentNode&&o.children.length<=2&&a)try{o.remove(),console.log(`[DEBUG] Actually removed .f3-history-controls #${l}`)}catch(c){console.error(`[DEBUG] Failed to remove .f3-history-controls #${l}:`,c)}})}),r.observe(n,{childList:!0,subtree:!1})),()=>{const i=document.querySelector(".f3-history-controls");if(i){const o=i.querySelector(".f3-save-button");o&&o.remove()}r&&r.disconnect()}},[e]),null}function dw(){const[e,t]=Qn.useState(null);return En.jsxs("div",{children:[En.jsx(cw,{onChartReady:t}),e&&En.jsx(fw,{f3Chart:e})]})}pl.createRoot(document.getElementById("root")).render(En.jsx(dw,{}));
