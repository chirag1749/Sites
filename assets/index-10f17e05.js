var Ch=Object.defineProperty;var Eh=(e,t,n)=>t in e?Ch(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xr=(e,t,n)=>(Eh(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function $h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fc={exports:{}},dl={},dc={exports:{}},j={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=Symbol.for("react.element"),Th=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Lh=Symbol.for("react.memo"),Ah=Symbol.for("react.lazy"),Ca=Symbol.iterator;function Oh(e){return e===null||typeof e!="object"?null:(e=Ca&&e[Ca]||e["@@iterator"],typeof e=="function"?e:null)}var hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pc=Object.assign,gc={};function Bn(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||hc}Bn.prototype.isReactComponent={};Bn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mc(){}mc.prototype=Bn.prototype;function ws(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||hc}var xs=ws.prototype=new mc;xs.constructor=ws;pc(xs,Bn.prototype);xs.isPureReactComponent=!0;var Ea=Array.isArray,vc=Object.prototype.hasOwnProperty,Ss={current:null},yc={key:!0,ref:!0,__self:!0,__source:!0};function _c(e,t,n){var r,i={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)vc.call(t,r)&&!yc.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),c=0;c<s;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Ur,type:e,key:l,ref:o,props:i,_owner:Ss.current}}function Fh(e,t){return{$$typeof:Ur,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ks(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ur}function Hh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $a=/\/+/g;function Dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hh(""+e.key):t.toString(36)}function yi(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ur:case Th:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Dl(o,0):r,Ea(i)?(n="",e!=null&&(n=e.replace($a,"$&/")+"/"),yi(i,t,n,"",function(c){return c})):i!=null&&(ks(i)&&(i=Fh(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($a,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Ea(e))for(var s=0;s<e.length;s++){l=e[s];var a=r+Dl(l,s);o+=yi(l,t,n,a,i)}else if(a=Oh(e),typeof a=="function")for(e=a.call(e),s=0;!(l=e.next()).done;)l=l.value,a=r+Dl(l,s++),o+=yi(l,t,n,a,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yr(e,t,n){if(e==null)return e;var r=[],i=0;return yi(e,r,"","",function(l){return t.call(n,l,i++)}),r}function Uh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xe={current:null},_i={transition:null},Vh={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:_i,ReactCurrentOwner:Ss};function wc(){throw Error("act(...) is not supported in production builds of React.")}j.Children={map:Yr,forEach:function(e,t,n){Yr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yr(e,function(){t++}),t},toArray:function(e){return Yr(e,function(t){return t})||[]},only:function(e){if(!ks(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};j.Component=Bn;j.Fragment=Mh;j.Profiler=Rh;j.PureComponent=ws;j.StrictMode=Nh;j.Suspense=zh;j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;j.act=wc;j.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pc({},e.props),i=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Ss.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)vc.call(t,a)&&!yc.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var c=0;c<a;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Ur,type:e.type,key:i,ref:l,props:r,_owner:o}};j.createContext=function(e){return e={$$typeof:Ih,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ph,_context:e},e.Consumer=e};j.createElement=_c;j.createFactory=function(e){var t=_c.bind(null,e);return t.type=e,t};j.createRef=function(){return{current:null}};j.forwardRef=function(e){return{$$typeof:Dh,render:e}};j.isValidElement=ks;j.lazy=function(e){return{$$typeof:Ah,_payload:{_status:-1,_result:e},_init:Uh}};j.memo=function(e,t){return{$$typeof:Lh,type:e,compare:t===void 0?null:t}};j.startTransition=function(e){var t=_i.transition;_i.transition={};try{e()}finally{_i.transition=t}};j.unstable_act=wc;j.useCallback=function(e,t){return xe.current.useCallback(e,t)};j.useContext=function(e){return xe.current.useContext(e)};j.useDebugValue=function(){};j.useDeferredValue=function(e){return xe.current.useDeferredValue(e)};j.useEffect=function(e,t){return xe.current.useEffect(e,t)};j.useId=function(){return xe.current.useId()};j.useImperativeHandle=function(e,t,n){return xe.current.useImperativeHandle(e,t,n)};j.useInsertionEffect=function(e,t){return xe.current.useInsertionEffect(e,t)};j.useLayoutEffect=function(e,t){return xe.current.useLayoutEffect(e,t)};j.useMemo=function(e,t){return xe.current.useMemo(e,t)};j.useReducer=function(e,t,n){return xe.current.useReducer(e,t,n)};j.useRef=function(e){return xe.current.useRef(e)};j.useState=function(e){return xe.current.useState(e)};j.useSyncExternalStore=function(e,t,n){return xe.current.useSyncExternalStore(e,t,n)};j.useTransition=function(){return xe.current.useTransition()};j.version="18.3.1";dc.exports=j;var hl=dc.exports;const jh=$h(hl);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=hl,Wh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),qh=Object.prototype.hasOwnProperty,Kh=Bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xh={key:!0,ref:!0,__self:!0,__source:!0};function xc(e,t,n){var r,i={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)qh.call(t,r)&&!Xh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Wh,type:e,key:l,ref:o,props:i,_owner:Kh.current}}dl.Fragment=Qh;dl.jsx=xc;dl.jsxs=xc;fc.exports=dl;var Li=fc.exports,po={},Sc={exports:{}},Le={},kc={exports:{}},Cc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,k){var C=x.length;x.push(k);e:for(;0<C;){var D=C-1>>>1,I=x[D];if(0<i(I,k))x[D]=k,x[C]=I,C=D;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var k=x[0],C=x.pop();if(C!==k){x[0]=C;e:for(var D=0,I=x.length,U=I>>>1;D<U;){var V=2*(D+1)-1,W=x[V],G=V+1,se=x[G];if(0>i(W,C))G<I&&0>i(se,W)?(x[D]=se,x[G]=C,D=G):(x[D]=W,x[V]=C,D=V);else if(G<I&&0>i(se,C))x[D]=se,x[G]=C,D=G;else break e}}return k}function i(x,k){var C=x.sortIndex-k.sortIndex;return C!==0?C:x.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var a=[],c=[],h=1,d=null,f=3,u=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(x){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=x)r(c),k.sortIndex=k.expirationTime,t(a,k);else break;k=n(c)}}function w(x){if(g=!1,y(x),!p)if(n(a)!==null)p=!0,T(M);else{var k=n(c);k!==null&&$(w,k.startTime-x)}}function M(x,k){p=!1,g&&(g=!1,m(N),N=-1),u=!0;var C=f;try{for(y(k),d=n(a);d!==null&&(!(d.expirationTime>k)||x&&!F());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var I=D(d.expirationTime<=k);k=e.unstable_now(),typeof I=="function"?d.callback=I:d===n(a)&&r(a),y(k)}else r(a);d=n(a)}if(d!==null)var U=!0;else{var V=n(c);V!==null&&$(w,V.startTime-k),U=!1}return U}finally{d=null,f=C,u=!1}}var R=!1,E=null,N=-1,H=5,A=-1;function F(){return!(e.unstable_now()-A<H)}function B(){if(E!==null){var x=e.unstable_now();A=x;var k=!0;try{k=E(!0,x)}finally{k?X():(R=!1,E=null)}}else R=!1}var X;if(typeof v=="function")X=function(){v(B)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,L=S.port2;S.port1.onmessage=B,X=function(){L.postMessage(null)}}else X=function(){_(B,0)};function T(x){E=x,R||(R=!0,X())}function $(x,k){N=_(function(){x(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){p||u||(p=!0,T(M))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(x){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var C=f;f=k;try{return x()}finally{f=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,k){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var C=f;f=x;try{return k()}finally{f=C}},e.unstable_scheduleCallback=function(x,k,C){var D=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?D+C:D):C=D,x){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=C+I,x={id:h++,callback:k,priorityLevel:x,startTime:C,expirationTime:I,sortIndex:-1},C>D?(x.sortIndex=C,t(c,x),n(a)===null&&x===n(c)&&(g?(m(N),N=-1):g=!0,$(w,C-D))):(x.sortIndex=I,t(a,x),p||u||(p=!0,T(M))),x},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(x){var k=f;return function(){var C=f;f=k;try{return x.apply(this,arguments)}finally{f=C}}}})(Cc);kc.exports=Cc;var Yh=kc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=hl,De=Yh;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ec=new Set,yr={};function un(e,t){In(e,t),In(e+"Capture",t)}function In(e,t){for(yr[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),go=Object.prototype.hasOwnProperty,Zh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ta={},Ma={};function bh(e){return go.call(Ma,e)?!0:go.call(Ta,e)?!1:Zh.test(e)?Ma[e]=!0:(Ta[e]=!0,!1)}function Jh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ep(e,t,n,r){if(t===null||typeof t>"u"||Jh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,n,r,i,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cs=/[\-:]([a-z])/g;function Es(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cs,Es);pe[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cs,Es);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cs,Es);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function $s(e,t,n,r){var i=pe.hasOwnProperty(t)?pe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ep(t,n,i,r)&&(n=null),r||i===null?bh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xt=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gr=Symbol.for("react.element"),hn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),Ts=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),$c=Symbol.for("react.provider"),Tc=Symbol.for("react.context"),Ms=Symbol.for("react.forward_ref"),vo=Symbol.for("react.suspense"),yo=Symbol.for("react.suspense_list"),Ns=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Mc=Symbol.for("react.offscreen"),Na=Symbol.iterator;function Kn(e){return e===null||typeof e!="object"?null:(e=Na&&e[Na]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,zl;function rr(e){if(zl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Ll=!1;function Al(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),l=r.stack.split(`
`),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==l[s]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=s);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rr(e):""}function tp(e){switch(e.tag){case 5:return rr(e.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return e=Al(e.type,!1),e;case 11:return e=Al(e.type.render,!1),e;case 1:return e=Al(e.type,!0),e;default:return""}}function _o(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pn:return"Fragment";case hn:return"Portal";case mo:return"Profiler";case Ts:return"StrictMode";case vo:return"Suspense";case yo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tc:return(e.displayName||"Context")+".Consumer";case $c:return(e._context.displayName||"Context")+".Provider";case Ms:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ns:return t=e.displayName||null,t!==null?t:_o(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return _o(e(t))}catch{}}return null}function np(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _o(t);case 8:return t===Ts?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ht(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rp(e){var t=Nc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zr(e){e._valueTracker||(e._valueTracker=rp(e))}function Rc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wo(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ra(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ht(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pc(e,t){t=t.checked,t!=null&&$s(e,"checked",t,!1)}function xo(e,t){Pc(e,t);var n=Ht(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?So(e,t.type,n):t.hasOwnProperty("defaultValue")&&So(e,t.type,Ht(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function So(e,t,n){(t!=="number"||Ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ir=Array.isArray;function En(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ko(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ia(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(ir(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ht(n)}}function Ic(e,t){var n=Ht(t.value),r=Ht(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Da(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Co(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var br,zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=br.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ip=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(e){ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]})});function Lc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function Ac(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lp=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(e,t){if(t){if(lp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function $o(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mo=null,$n=null,Tn=null;function za(e){if(e=Br(e)){if(typeof Mo!="function")throw Error(P(280));var t=e.stateNode;t&&(t=yl(t),Mo(e.stateNode,e.type,t))}}function Oc(e){$n?Tn?Tn.push(e):Tn=[e]:$n=e}function Fc(){if($n){var e=$n,t=Tn;if(Tn=$n=null,za(e),t)for(e=0;e<t.length;e++)za(t[e])}}function Hc(e,t){return e(t)}function Uc(){}var Ol=!1;function Vc(e,t,n){if(Ol)return e(t,n);Ol=!0;try{return Hc(e,t,n)}finally{Ol=!1,($n!==null||Tn!==null)&&(Uc(),Fc())}}function wr(e,t){var n=e.stateNode;if(n===null)return null;var r=yl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var No=!1;if(mt)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){No=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{No=!1}function op(e,t,n,r,i,l,o,s,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var cr=!1,Oi=null,Fi=!1,Ro=null,sp={onError:function(e){cr=!0,Oi=e}};function ap(e,t,n,r,i,l,o,s,a){cr=!1,Oi=null,op.apply(sp,arguments)}function up(e,t,n,r,i,l,o,s,a){if(ap.apply(this,arguments),cr){if(cr){var c=Oi;cr=!1,Oi=null}else throw Error(P(198));Fi||(Fi=!0,Ro=c)}}function cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function La(e){if(cn(e)!==e)throw Error(P(188))}function cp(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return La(i),e;if(l===r)return La(i),t;l=l.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=l;break}if(s===r){o=!0,r=i,n=l;break}s=s.sibling}if(!o){for(s=l.child;s;){if(s===n){o=!0,n=l,r=i;break}if(s===r){o=!0,r=l,n=i;break}s=s.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Bc(e){return e=cp(e),e!==null?Wc(e):null}function Wc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wc(e);if(t!==null)return t;e=e.sibling}return null}var Qc=De.unstable_scheduleCallback,Aa=De.unstable_cancelCallback,fp=De.unstable_shouldYield,dp=De.unstable_requestPaint,le=De.unstable_now,hp=De.unstable_getCurrentPriorityLevel,Ps=De.unstable_ImmediatePriority,qc=De.unstable_UserBlockingPriority,Hi=De.unstable_NormalPriority,pp=De.unstable_LowPriority,Kc=De.unstable_IdlePriority,pl=null,lt=null;function gp(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(pl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:yp,mp=Math.log,vp=Math.LN2;function yp(e){return e>>>=0,e===0?32:31-(mp(e)/vp|0)|0}var Jr=64,ei=4194304;function lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ui(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=lr(s):(l&=o,l!==0&&(r=lr(l)))}else o=n&~i,o!==0?r=lr(o):l!==0&&(r=lr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ze(t),i=1<<n,r|=e[n],t&=~i;return r}function _p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ze(l),s=1<<o,a=i[o];a===-1?(!(s&n)||s&r)&&(i[o]=_p(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}function Po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xc(){var e=Jr;return Jr<<=1,!(Jr&4194240)&&(Jr=64),e}function Fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=n}function xp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ze(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function Is(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ze(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var q=0;function Yc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gc,Ds,Zc,bc,Jc,Io=!1,ti=[],Pt=null,It=null,Dt=null,xr=new Map,Sr=new Map,Tt=[],Sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oa(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(t.pointerId)}}function Yn(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Br(t),t!==null&&Ds(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kp(e,t,n,r,i){switch(t){case"focusin":return Pt=Yn(Pt,e,t,n,r,i),!0;case"dragenter":return It=Yn(It,e,t,n,r,i),!0;case"mouseover":return Dt=Yn(Dt,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return xr.set(l,Yn(xr.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Sr.set(l,Yn(Sr.get(l)||null,e,t,n,r,i)),!0}return!1}function ef(e){var t=Xt(e.target);if(t!==null){var n=cn(t);if(n!==null){if(t=n.tag,t===13){if(t=jc(n),t!==null){e.blockedOn=t,Jc(e.priority,function(){Zc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Do(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);To=r,n.target.dispatchEvent(r),To=null}else return t=Br(n),t!==null&&Ds(t),e.blockedOn=n,!1;t.shift()}return!0}function Fa(e,t,n){wi(e)&&n.delete(t)}function Cp(){Io=!1,Pt!==null&&wi(Pt)&&(Pt=null),It!==null&&wi(It)&&(It=null),Dt!==null&&wi(Dt)&&(Dt=null),xr.forEach(Fa),Sr.forEach(Fa)}function Gn(e,t){e.blockedOn===t&&(e.blockedOn=null,Io||(Io=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Cp)))}function kr(e){function t(i){return Gn(i,e)}if(0<ti.length){Gn(ti[0],e);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pt!==null&&Gn(Pt,e),It!==null&&Gn(It,e),Dt!==null&&Gn(Dt,e),xr.forEach(t),Sr.forEach(t),n=0;n<Tt.length;n++)r=Tt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&(n=Tt[0],n.blockedOn===null);)ef(n),n.blockedOn===null&&Tt.shift()}var Mn=xt.ReactCurrentBatchConfig,Vi=!0;function Ep(e,t,n,r){var i=q,l=Mn.transition;Mn.transition=null;try{q=1,zs(e,t,n,r)}finally{q=i,Mn.transition=l}}function $p(e,t,n,r){var i=q,l=Mn.transition;Mn.transition=null;try{q=4,zs(e,t,n,r)}finally{q=i,Mn.transition=l}}function zs(e,t,n,r){if(Vi){var i=Do(e,t,n,r);if(i===null)Xl(e,t,r,ji,n),Oa(e,r);else if(kp(i,e,t,n,r))r.stopPropagation();else if(Oa(e,r),t&4&&-1<Sp.indexOf(e)){for(;i!==null;){var l=Br(i);if(l!==null&&Gc(l),l=Do(e,t,n,r),l===null&&Xl(e,t,r,ji,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Xl(e,t,r,null,n)}}var ji=null;function Do(e,t,n,r){if(ji=null,e=Rs(r),e=Xt(e),e!==null)if(t=cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ji=e,null}function tf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case Ps:return 1;case qc:return 4;case Hi:case pp:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var Nt=null,Ls=null,xi=null;function nf(){if(xi)return xi;var e,t=Ls,n=t.length,r,i="value"in Nt?Nt.value:Nt.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return xi=i.slice(e,1<r?1-r:void 0)}function Si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Ha(){return!1}function Ae(e){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(l):l[s]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ni:Ha,this.isPropagationStopped=Ha,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},As=Ae(Wn),jr=ne({},Wn,{view:0,detail:0}),Tp=Ae(jr),Hl,Ul,Zn,gl=ne({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(Hl=e.screenX-Zn.screenX,Ul=e.screenY-Zn.screenY):Ul=Hl=0,Zn=e),Hl)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),Ua=Ae(gl),Mp=ne({},gl,{dataTransfer:0}),Np=Ae(Mp),Rp=ne({},jr,{relatedTarget:0}),Vl=Ae(Rp),Pp=ne({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ip=Ae(Pp),Dp=ne({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zp=Ae(Dp),Lp=ne({},Wn,{data:0}),Va=Ae(Lp),Ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Op={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fp[e])?!!t[e]:!1}function Os(){return Hp}var Up=ne({},jr,{key:function(e){if(e.key){var t=Ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Op[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?Si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vp=Ae(Up),jp=ne({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=Ae(jp),Bp=ne({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Wp=Ae(Bp),Qp=ne({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qp=Ae(Qp),Kp=ne({},gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xp=Ae(Kp),Yp=[9,13,27,32],Fs=mt&&"CompositionEvent"in window,fr=null;mt&&"documentMode"in document&&(fr=document.documentMode);var Gp=mt&&"TextEvent"in window&&!fr,rf=mt&&(!Fs||fr&&8<fr&&11>=fr),Ba=String.fromCharCode(32),Wa=!1;function lf(e,t){switch(e){case"keyup":return Yp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gn=!1;function Zp(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(Wa=!0,Ba);case"textInput":return e=t.data,e===Ba&&Wa?null:e;default:return null}}function bp(e,t){if(gn)return e==="compositionend"||!Fs&&lf(e,t)?(e=nf(),xi=Ls=Nt=null,gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rf&&t.locale!=="ko"?null:t.data;default:return null}}var Jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jp[e.type]:t==="textarea"}function sf(e,t,n,r){Oc(r),t=Bi(t,"onChange"),0<t.length&&(n=new As("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dr=null,Cr=null;function e0(e){yf(e,0)}function ml(e){var t=yn(e);if(Rc(t))return e}function t0(e,t){if(e==="change")return t}var af=!1;if(mt){var jl;if(mt){var Bl="oninput"in document;if(!Bl){var qa=document.createElement("div");qa.setAttribute("oninput","return;"),Bl=typeof qa.oninput=="function"}jl=Bl}else jl=!1;af=jl&&(!document.documentMode||9<document.documentMode)}function Ka(){dr&&(dr.detachEvent("onpropertychange",uf),Cr=dr=null)}function uf(e){if(e.propertyName==="value"&&ml(Cr)){var t=[];sf(t,Cr,e,Rs(e)),Vc(e0,t)}}function n0(e,t,n){e==="focusin"?(Ka(),dr=t,Cr=n,dr.attachEvent("onpropertychange",uf)):e==="focusout"&&Ka()}function r0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(Cr)}function i0(e,t){if(e==="click")return ml(t)}function l0(e,t){if(e==="input"||e==="change")return ml(t)}function o0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Je=typeof Object.is=="function"?Object.is:o0;function Er(e,t){if(Je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!go.call(t,i)||!Je(e[i],t[i]))return!1}return!0}function Xa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ya(e,t){var n=Xa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xa(n)}}function cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=Ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function Hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function s0(e){var t=ff(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cf(n.ownerDocument.documentElement,n)){if(r!==null&&Hs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=Ya(n,l);var o=Ya(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var a0=mt&&"documentMode"in document&&11>=document.documentMode,mn=null,zo=null,hr=null,Lo=!1;function Ga(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lo||mn==null||mn!==Ai(r)||(r=mn,"selectionStart"in r&&Hs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hr&&Er(hr,r)||(hr=r,r=Bi(zo,"onSelect"),0<r.length&&(t=new As("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mn)))}function ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vn={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},Wl={},df={};mt&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function vl(e){if(Wl[e])return Wl[e];if(!vn[e])return e;var t=vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in df)return Wl[e]=t[n];return e}var hf=vl("animationend"),pf=vl("animationiteration"),gf=vl("animationstart"),mf=vl("transitionend"),vf=new Map,Za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){vf.set(e,t),un(t,[e])}for(var Ql=0;Ql<Za.length;Ql++){var ql=Za[Ql],u0=ql.toLowerCase(),c0=ql[0].toUpperCase()+ql.slice(1);Vt(u0,"on"+c0)}Vt(hf,"onAnimationEnd");Vt(pf,"onAnimationIteration");Vt(gf,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(mf,"onTransitionEnd");In("onMouseEnter",["mouseout","mouseover"]);In("onMouseLeave",["mouseout","mouseover"]);In("onPointerEnter",["pointerout","pointerover"]);In("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("cancel close invalid load scroll toggle".split(" ").concat(or));function ba(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,up(r,t,void 0,e),e.currentTarget=null}function yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,c=s.currentTarget;if(s=s.listener,a!==l&&i.isPropagationStopped())break e;ba(i,s,c),l=a}else for(o=0;o<r.length;o++){if(s=r[o],a=s.instance,c=s.currentTarget,s=s.listener,a!==l&&i.isPropagationStopped())break e;ba(i,s,c),l=a}}}if(Fi)throw e=Ro,Fi=!1,Ro=null,e}function Z(e,t){var n=t[Uo];n===void 0&&(n=t[Uo]=new Set);var r=e+"__bubble";n.has(r)||(_f(t,e,2,!1),n.add(r))}function Kl(e,t,n){var r=0;t&&(r|=4),_f(n,e,r,t)}var ii="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[ii]){e[ii]=!0,Ec.forEach(function(n){n!=="selectionchange"&&(f0.has(n)||Kl(n,!1,e),Kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ii]||(t[ii]=!0,Kl("selectionchange",!1,t))}}function _f(e,t,n,r){switch(tf(t)){case 1:var i=Ep;break;case 4:i=$p;break;default:i=zs}n=i.bind(null,t,n,e),i=void 0,!No||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xl(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Xt(s),o===null)return;if(a=o.tag,a===5||a===6){r=l=o;continue e}s=s.parentNode}}r=r.return}Vc(function(){var c=l,h=Rs(n),d=[];e:{var f=vf.get(e);if(f!==void 0){var u=As,p=e;switch(e){case"keypress":if(Si(n)===0)break e;case"keydown":case"keyup":u=Vp;break;case"focusin":p="focus",u=Vl;break;case"focusout":p="blur",u=Vl;break;case"beforeblur":case"afterblur":u=Vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Wp;break;case hf:case pf:case gf:u=Ip;break;case mf:u=qp;break;case"scroll":u=Tp;break;case"wheel":u=Xp;break;case"copy":case"cut":case"paste":u=zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=ja}var g=(t&4)!==0,_=!g&&e==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,y;v!==null;){y=v;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=wr(v,m),w!=null&&g.push(Tr(v,w,y)))),_)break;v=v.return}0<g.length&&(f=new u(f,p,null,n,h),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",f&&n!==To&&(p=n.relatedTarget||n.fromElement)&&(Xt(p)||p[vt]))break e;if((u||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,u?(p=n.relatedTarget||n.toElement,u=c,p=p?Xt(p):null,p!==null&&(_=cn(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(u=null,p=c),u!==p)){if(g=Ua,w="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=ja,w="onPointerLeave",m="onPointerEnter",v="pointer"),_=u==null?f:yn(u),y=p==null?f:yn(p),f=new g(w,v+"leave",u,n,h),f.target=_,f.relatedTarget=y,w=null,Xt(h)===c&&(g=new g(m,v+"enter",p,n,h),g.target=y,g.relatedTarget=_,w=g),_=w,u&&p)t:{for(g=u,m=p,v=0,y=g;y;y=fn(y))v++;for(y=0,w=m;w;w=fn(w))y++;for(;0<v-y;)g=fn(g),v--;for(;0<y-v;)m=fn(m),y--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=fn(g),m=fn(m)}g=null}else g=null;u!==null&&Ja(d,f,u,g,!1),p!==null&&_!==null&&Ja(d,_,p,g,!0)}}e:{if(f=c?yn(c):window,u=f.nodeName&&f.nodeName.toLowerCase(),u==="select"||u==="input"&&f.type==="file")var M=t0;else if(Qa(f))if(af)M=l0;else{M=r0;var R=n0}else(u=f.nodeName)&&u.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=i0);if(M&&(M=M(e,c))){sf(d,M,n,h);break e}R&&R(e,f,c),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&So(f,"number",f.value)}switch(R=c?yn(c):window,e){case"focusin":(Qa(R)||R.contentEditable==="true")&&(mn=R,zo=c,hr=null);break;case"focusout":hr=zo=mn=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,Ga(d,n,h);break;case"selectionchange":if(a0)break;case"keydown":case"keyup":Ga(d,n,h)}var E;if(Fs)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else gn?lf(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(rf&&n.locale!=="ko"&&(gn||N!=="onCompositionStart"?N==="onCompositionEnd"&&gn&&(E=nf()):(Nt=h,Ls="value"in Nt?Nt.value:Nt.textContent,gn=!0)),R=Bi(c,N),0<R.length&&(N=new Va(N,e,null,n,h),d.push({event:N,listeners:R}),E?N.data=E:(E=of(n),E!==null&&(N.data=E)))),(E=Gp?Zp(e,n):bp(e,n))&&(c=Bi(c,"onBeforeInput"),0<c.length&&(h=new Va("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=E))}yf(d,t)})}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bi(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=wr(e,n),l!=null&&r.unshift(Tr(e,l,i)),l=wr(e,t),l!=null&&r.push(Tr(e,l,i))),e=e.return}return r}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ja(e,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var s=n,a=s.alternate,c=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&c!==null&&(s=c,i?(a=wr(n,l),a!=null&&o.unshift(Tr(n,a,s))):i||(a=wr(n,l),a!=null&&o.push(Tr(n,a,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var d0=/\r\n?/g,h0=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(d0,`
`).replace(h0,"")}function li(e,t,n){if(t=eu(t),eu(e)!==t&&n)throw Error(P(425))}function Wi(){}var Ao=null,Oo=null;function Fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ho=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(m0)}:Ho;function m0(e){setTimeout(function(){throw e})}function Yl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),kr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);kr(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qn=Math.random().toString(36).slice(2),it="__reactFiber$"+Qn,Mr="__reactProps$"+Qn,vt="__reactContainer$"+Qn,Uo="__reactEvents$"+Qn,v0="__reactListeners$"+Qn,y0="__reactHandles$"+Qn;function Xt(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vt]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nu(e);e!==null;){if(n=e[it])return n;e=nu(e)}return t}e=n,n=e.parentNode}return null}function Br(e){return e=e[it]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function yl(e){return e[Mr]||null}var Vo=[],_n=-1;function jt(e){return{current:e}}function b(e){0>_n||(e.current=Vo[_n],Vo[_n]=null,_n--)}function Y(e,t){_n++,Vo[_n]=e.current,e.current=t}var Ut={},ye=jt(Ut),Te=jt(!1),tn=Ut;function Dn(e,t){var n=e.type.contextTypes;if(!n)return Ut;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Me(e){return e=e.childContextTypes,e!=null}function Qi(){b(Te),b(ye)}function ru(e,t,n){if(ye.current!==Ut)throw Error(P(168));Y(ye,t),Y(Te,n)}function wf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(P(108,np(e)||"Unknown",i));return ne({},n,r)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ut,tn=ye.current,Y(ye,e),Y(Te,Te.current),!0}function iu(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=wf(e,t,tn),r.__reactInternalMemoizedMergedChildContext=e,b(Te),b(ye),Y(ye,e)):b(Te),Y(Te,n)}var ft=null,_l=!1,Gl=!1;function xf(e){ft===null?ft=[e]:ft.push(e)}function _0(e){_l=!0,xf(e)}function Bt(){if(!Gl&&ft!==null){Gl=!0;var e=0,t=q;try{var n=ft;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ft=null,_l=!1}catch(i){throw ft!==null&&(ft=ft.slice(e+1)),Qc(Ps,Bt),i}finally{q=t,Gl=!1}}return null}var wn=[],xn=0,Ki=null,Xi=0,He=[],Ue=0,nn=null,dt=1,ht="";function Qt(e,t){wn[xn++]=Xi,wn[xn++]=Ki,Ki=e,Xi=t}function Sf(e,t,n){He[Ue++]=dt,He[Ue++]=ht,He[Ue++]=nn,nn=e;var r=dt;e=ht;var i=32-Ze(r)-1;r&=~(1<<i),n+=1;var l=32-Ze(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dt=1<<32-Ze(t)+i|n<<i|r,ht=l+e}else dt=1<<l|n<<i|r,ht=e}function Us(e){e.return!==null&&(Qt(e,1),Sf(e,1,0))}function Vs(e){for(;e===Ki;)Ki=wn[--xn],wn[xn]=null,Xi=wn[--xn],wn[xn]=null;for(;e===nn;)nn=He[--Ue],He[Ue]=null,ht=He[--Ue],He[Ue]=null,dt=He[--Ue],He[Ue]=null}var Ie=null,Pe=null,J=!1,Ye=null;function kf(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function lu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Pe=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Pe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nn!==null?{id:dt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,Pe=null,!0):!1;default:return!1}}function jo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bo(e){if(J){var t=Pe;if(t){var n=t;if(!lu(e,t)){if(jo(e))throw Error(P(418));t=zt(n.nextSibling);var r=Ie;t&&lu(e,t)?kf(r,n):(e.flags=e.flags&-4097|2,J=!1,Ie=e)}}else{if(jo(e))throw Error(P(418));e.flags=e.flags&-4097|2,J=!1,Ie=e}}}function ou(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function oi(e){if(e!==Ie)return!1;if(!J)return ou(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fo(e.type,e.memoizedProps)),t&&(t=Pe)){if(jo(e))throw Cf(),Error(P(418));for(;t;)kf(e,t),t=zt(t.nextSibling)}if(ou(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pe=zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pe=null}}else Pe=Ie?zt(e.stateNode.nextSibling):null;return!0}function Cf(){for(var e=Pe;e;)e=zt(e.nextSibling)}function zn(){Pe=Ie=null,J=!1}function js(e){Ye===null?Ye=[e]:Ye.push(e)}var w0=xt.ReactCurrentBatchConfig;function bn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var s=i.refs;o===null?delete s[l]:s[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function si(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function Ef(e){function t(m,v){if(e){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Ft(m,v),m.index=0,m.sibling=null,m}function l(m,v,y){return m.index=y,e?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,v,y,w){return v===null||v.tag!==6?(v=ro(y,m.mode,w),v.return=m,v):(v=i(v,y),v.return=m,v)}function a(m,v,y,w){var M=y.type;return M===pn?h(m,v,y.props.children,w,y.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===kt&&su(M)===v.type)?(w=i(v,y.props),w.ref=bn(m,v,y),w.return=m,w):(w=Ni(y.type,y.key,y.props,null,m.mode,w),w.ref=bn(m,v,y),w.return=m,w)}function c(m,v,y,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=io(y,m.mode,w),v.return=m,v):(v=i(v,y.children||[]),v.return=m,v)}function h(m,v,y,w,M){return v===null||v.tag!==7?(v=Jt(y,m.mode,w,M),v.return=m,v):(v=i(v,y),v.return=m,v)}function d(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ro(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gr:return y=Ni(v.type,v.key,v.props,null,m.mode,y),y.ref=bn(m,null,v),y.return=m,y;case hn:return v=io(v,m.mode,y),v.return=m,v;case kt:var w=v._init;return d(m,w(v._payload),y)}if(ir(v)||Kn(v))return v=Jt(v,m.mode,y,null),v.return=m,v;si(m,v)}return null}function f(m,v,y,w){var M=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return M!==null?null:s(m,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gr:return y.key===M?a(m,v,y,w):null;case hn:return y.key===M?c(m,v,y,w):null;case kt:return M=y._init,f(m,v,M(y._payload),w)}if(ir(y)||Kn(y))return M!==null?null:h(m,v,y,w,null);si(m,y)}return null}function u(m,v,y,w,M){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,s(v,m,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gr:return m=m.get(w.key===null?y:w.key)||null,a(v,m,w,M);case hn:return m=m.get(w.key===null?y:w.key)||null,c(v,m,w,M);case kt:var R=w._init;return u(m,v,y,R(w._payload),M)}if(ir(w)||Kn(w))return m=m.get(y)||null,h(v,m,w,M,null);si(v,w)}return null}function p(m,v,y,w){for(var M=null,R=null,E=v,N=v=0,H=null;E!==null&&N<y.length;N++){E.index>N?(H=E,E=null):H=E.sibling;var A=f(m,E,y[N],w);if(A===null){E===null&&(E=H);break}e&&E&&A.alternate===null&&t(m,E),v=l(A,v,N),R===null?M=A:R.sibling=A,R=A,E=H}if(N===y.length)return n(m,E),J&&Qt(m,N),M;if(E===null){for(;N<y.length;N++)E=d(m,y[N],w),E!==null&&(v=l(E,v,N),R===null?M=E:R.sibling=E,R=E);return J&&Qt(m,N),M}for(E=r(m,E);N<y.length;N++)H=u(E,m,N,y[N],w),H!==null&&(e&&H.alternate!==null&&E.delete(H.key===null?N:H.key),v=l(H,v,N),R===null?M=H:R.sibling=H,R=H);return e&&E.forEach(function(F){return t(m,F)}),J&&Qt(m,N),M}function g(m,v,y,w){var M=Kn(y);if(typeof M!="function")throw Error(P(150));if(y=M.call(y),y==null)throw Error(P(151));for(var R=M=null,E=v,N=v=0,H=null,A=y.next();E!==null&&!A.done;N++,A=y.next()){E.index>N?(H=E,E=null):H=E.sibling;var F=f(m,E,A.value,w);if(F===null){E===null&&(E=H);break}e&&E&&F.alternate===null&&t(m,E),v=l(F,v,N),R===null?M=F:R.sibling=F,R=F,E=H}if(A.done)return n(m,E),J&&Qt(m,N),M;if(E===null){for(;!A.done;N++,A=y.next())A=d(m,A.value,w),A!==null&&(v=l(A,v,N),R===null?M=A:R.sibling=A,R=A);return J&&Qt(m,N),M}for(E=r(m,E);!A.done;N++,A=y.next())A=u(E,m,N,A.value,w),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?N:A.key),v=l(A,v,N),R===null?M=A:R.sibling=A,R=A);return e&&E.forEach(function(B){return t(m,B)}),J&&Qt(m,N),M}function _(m,v,y,w){if(typeof y=="object"&&y!==null&&y.type===pn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gr:e:{for(var M=y.key,R=v;R!==null;){if(R.key===M){if(M=y.type,M===pn){if(R.tag===7){n(m,R.sibling),v=i(R,y.props.children),v.return=m,m=v;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===kt&&su(M)===R.type){n(m,R.sibling),v=i(R,y.props),v.ref=bn(m,R,y),v.return=m,m=v;break e}n(m,R);break}else t(m,R);R=R.sibling}y.type===pn?(v=Jt(y.props.children,m.mode,w,y.key),v.return=m,m=v):(w=Ni(y.type,y.key,y.props,null,m.mode,w),w.ref=bn(m,v,y),w.return=m,m=w)}return o(m);case hn:e:{for(R=y.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(m,v.sibling),v=i(v,y.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=io(y,m.mode,w),v.return=m,m=v}return o(m);case kt:return R=y._init,_(m,v,R(y._payload),w)}if(ir(y))return p(m,v,y,w);if(Kn(y))return g(m,v,y,w);si(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,y),v.return=m,m=v):(n(m,v),v=ro(y,m.mode,w),v.return=m,m=v),o(m)):n(m,v)}return _}var Ln=Ef(!0),$f=Ef(!1),Yi=jt(null),Gi=null,Sn=null,Bs=null;function Ws(){Bs=Sn=Gi=null}function Qs(e){var t=Yi.current;b(Yi),e._currentValue=t}function Wo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nn(e,t){Gi=e,Bs=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(Bs!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Gi===null)throw Error(P(308));Sn=e,Gi.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Yt=null;function qs(e){Yt===null?Yt=[e]:Yt.push(e)}function Tf(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qs(t)):(n.next=i.next,i.next=n),t.interleaved=n,yt(e,r)}function yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ct=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yt(e,n)}return i=r.interleaved,i===null?(t.next=t,qs(r)):(t.next=i.next,i.next=t),r.interleaved=t,yt(e,n)}function ki(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Is(e,n)}}function au(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zi(e,t,n,r){var i=e.updateQueue;Ct=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,c=a.next;a.next=null,o===null?l=c:o.next=c,o=a;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==o&&(s===null?h.firstBaseUpdate=c:s.next=c,h.lastBaseUpdate=a))}if(l!==null){var d=i.baseState;o=0,h=c=a=null,s=l;do{var f=s.lane,u=s.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:u,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,u=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(u,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(u,d,f):p,f==null)break e;d=ne({},d,f);break e;case 2:Ct=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else u={eventTime:u,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=u,a=d):h=h.next=u,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(a=d),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);ln|=o,e.lanes=o,e.memoizedState=d}}function uu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Wr={},ot=jt(Wr),Nr=jt(Wr),Rr=jt(Wr);function Gt(e){if(e===Wr)throw Error(P(174));return e}function Xs(e,t){switch(Y(Rr,t),Y(Nr,e),Y(ot,Wr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Co(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Co(t,e)}b(ot),Y(ot,t)}function An(){b(ot),b(Nr),b(Rr)}function Nf(e){Gt(Rr.current);var t=Gt(ot.current),n=Co(t,e.type);t!==n&&(Y(Nr,e),Y(ot,n))}function Ys(e){Nr.current===e&&(b(ot),b(Nr))}var ee=jt(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zl=[];function Gs(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var Ci=xt.ReactCurrentDispatcher,bl=xt.ReactCurrentBatchConfig,rn=0,te=null,ae=null,ce=null,Ji=!1,pr=!1,Pr=0,x0=0;function ge(){throw Error(P(321))}function Zs(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Je(e[n],t[n]))return!1;return!0}function bs(e,t,n,r,i,l){if(rn=l,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ci.current=e===null||e.memoizedState===null?E0:$0,e=n(r,i),pr){l=0;do{if(pr=!1,Pr=0,25<=l)throw Error(P(301));l+=1,ce=ae=null,t.updateQueue=null,Ci.current=T0,e=n(r,i)}while(pr)}if(Ci.current=el,t=ae!==null&&ae.next!==null,rn=0,ce=ae=te=null,Ji=!1,t)throw Error(P(300));return e}function Js(){var e=Pr!==0;return Pr=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?te.memoizedState=ce=e:ce=ce.next=e,ce}function We(){if(ae===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var t=ce===null?te.memoizedState:ce.next;if(t!==null)ce=t,ae=e;else{if(e===null)throw Error(P(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ce===null?te.memoizedState=ce=e:ce=ce.next=e}return ce}function Ir(e,t){return typeof t=="function"?t(e):t}function Jl(e){var t=We(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ae,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var s=o=null,a=null,c=l;do{var h=c.lane;if((rn&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(s=a=d,o=r):a=a.next=d,te.lanes|=h,ln|=h}c=c.next}while(c!==null&&c!==l);a===null?o=r:a.next=s,Je(r,t.memoizedState)||(Ee=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,te.lanes|=l,ln|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eo(e){var t=We(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);Je(l,t.memoizedState)||(Ee=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Rf(){}function Pf(e,t){var n=te,r=We(),i=t(),l=!Je(r.memoizedState,i);if(l&&(r.memoizedState=i,Ee=!0),r=r.queue,ea(zf.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||ce!==null&&ce.memoizedState.tag&1){if(n.flags|=2048,Dr(9,Df.bind(null,n,r,i,t),void 0,null),fe===null)throw Error(P(349));rn&30||If(n,t,i)}return i}function If(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Df(e,t,n,r){t.value=n,t.getSnapshot=r,Lf(t)&&Af(e)}function zf(e,t,n){return n(function(){Lf(t)&&Af(e)})}function Lf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Je(e,n)}catch{return!0}}function Af(e){var t=yt(e,1);t!==null&&be(t,e,1,-1)}function cu(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t.queue=e,e=e.dispatch=C0.bind(null,te,e),[t.memoizedState,e]}function Dr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Of(){return We().memoizedState}function Ei(e,t,n,r){var i=rt();te.flags|=e,i.memoizedState=Dr(1|t,n,void 0,r===void 0?null:r)}function wl(e,t,n,r){var i=We();r=r===void 0?null:r;var l=void 0;if(ae!==null){var o=ae.memoizedState;if(l=o.destroy,r!==null&&Zs(r,o.deps)){i.memoizedState=Dr(t,n,l,r);return}}te.flags|=e,i.memoizedState=Dr(1|t,n,l,r)}function fu(e,t){return Ei(8390656,8,e,t)}function ea(e,t){return wl(2048,8,e,t)}function Ff(e,t){return wl(4,2,e,t)}function Hf(e,t){return wl(4,4,e,t)}function Uf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vf(e,t,n){return n=n!=null?n.concat([e]):null,wl(4,4,Uf.bind(null,t,e),n)}function ta(){}function jf(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bf(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wf(e,t,n){return rn&21?(Je(n,t)||(n=Xc(),te.lanes|=n,ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=n)}function S0(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=bl.transition;bl.transition={};try{e(!1),t()}finally{q=n,bl.transition=r}}function Qf(){return We().memoizedState}function k0(e,t,n){var r=Ot(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qf(e))Kf(t,n);else if(n=Tf(e,t,n,r),n!==null){var i=we();be(n,e,r,i),Xf(n,t,r)}}function C0(e,t,n){var r=Ot(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qf(e))Kf(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,Je(s,o)){var a=t.interleaved;a===null?(i.next=i,qs(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Tf(e,t,i,r),n!==null&&(i=we(),be(n,e,r,i),Xf(n,t,r))}}function qf(e){var t=e.alternate;return e===te||t!==null&&t===te}function Kf(e,t){pr=Ji=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Is(e,n)}}var el={readContext:Be,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},E0={readContext:Be,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:fu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ei(4194308,4,Uf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var n=rt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=k0.bind(null,te,e),[r.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:cu,useDebugValue:ta,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=cu(!1),t=e[0];return e=S0.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=te,i=rt();if(J){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),fe===null)throw Error(P(349));rn&30||If(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,fu(zf.bind(null,r,l,e),[e]),r.flags|=2048,Dr(9,Df.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=rt(),t=fe.identifierPrefix;if(J){var n=ht,r=dt;n=(r&~(1<<32-Ze(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=x0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$0={readContext:Be,useCallback:jf,useContext:Be,useEffect:ea,useImperativeHandle:Vf,useInsertionEffect:Ff,useLayoutEffect:Hf,useMemo:Bf,useReducer:Jl,useRef:Of,useState:function(){return Jl(Ir)},useDebugValue:ta,useDeferredValue:function(e){var t=We();return Wf(t,ae.memoizedState,e)},useTransition:function(){var e=Jl(Ir)[0],t=We().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Pf,useId:Qf,unstable_isNewReconciler:!1},T0={readContext:Be,useCallback:jf,useContext:Be,useEffect:ea,useImperativeHandle:Vf,useInsertionEffect:Ff,useLayoutEffect:Hf,useMemo:Bf,useReducer:eo,useRef:Of,useState:function(){return eo(Ir)},useDebugValue:ta,useDeferredValue:function(e){var t=We();return ae===null?t.memoizedState=e:Wf(t,ae.memoizedState,e)},useTransition:function(){var e=eo(Ir)[0],t=We().memoizedState;return[e,t]},useMutableSource:Rf,useSyncExternalStore:Pf,useId:Qf,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xl={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=we(),i=Ot(e),l=gt(r,i);l.payload=t,n!=null&&(l.callback=n),t=Lt(e,l,i),t!==null&&(be(t,e,i,r),ki(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=we(),i=Ot(e),l=gt(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Lt(e,l,i),t!==null&&(be(t,e,i,r),ki(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=we(),r=Ot(e),i=gt(n,r);i.tag=2,t!=null&&(i.callback=t),t=Lt(e,i,r),t!==null&&(be(t,e,r,n),ki(t,e,r))}};function du(e,t,n,r,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Er(n,r)||!Er(i,l):!0}function Yf(e,t,n){var r=!1,i=Ut,l=t.contextType;return typeof l=="object"&&l!==null?l=Be(l):(i=Me(t)?tn:ye.current,r=t.contextTypes,l=(r=r!=null)?Dn(e,i):Ut),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function hu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xl.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ks(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=Be(l):(l=Me(t)?tn:ye.current,i.context=Dn(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Qo(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xl.enqueueReplaceState(i,i.state,null),Zi(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function On(e,t){try{var n="",r=t;do n+=tp(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function to(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ko(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M0=typeof WeakMap=="function"?WeakMap:Map;function Gf(e,t,n){n=gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nl||(nl=!0,rs=r),Ko(e,t)},n}function Zf(e,t,n){n=gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ko(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ko(e,t),typeof r!="function"&&(At===null?At=new Set([this]):At.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=j0.bind(null,e,t,n),t.then(e,e))}function gu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mu(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gt(-1,1),t.tag=2,Lt(n,t,1))),n.lanes|=1),e)}var N0=xt.ReactCurrentOwner,Ee=!1;function _e(e,t,n,r){t.child=e===null?$f(t,null,n,r):Ln(t,e.child,n,r)}function vu(e,t,n,r,i){n=n.render;var l=t.ref;return Nn(t,i),r=bs(e,t,n,r,l,i),n=Js(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(J&&n&&Us(t),t.flags|=1,_e(e,t,r,i),t.child)}function yu(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!ua(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,bf(e,t,l,r,i)):(e=Ni(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Er,n(o,r)&&e.ref===t.ref)return _t(e,t,i)}return t.flags|=1,e=Ft(l,r),e.ref=t.ref,e.return=t,t.child=e}function bf(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(Er(l,r)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,_t(e,t,i)}return Xo(e,t,n,r,i)}function Jf(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Cn,Re),Re|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Cn,Re),Re|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Y(Cn,Re),Re|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Y(Cn,Re),Re|=r;return _e(e,t,i,n),t.child}function ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xo(e,t,n,r,i){var l=Me(n)?tn:ye.current;return l=Dn(t,l),Nn(t,i),n=bs(e,t,n,r,l,i),r=Js(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_t(e,t,i)):(J&&r&&Us(t),t.flags|=1,_e(e,t,n,i),t.child)}function _u(e,t,n,r,i){if(Me(n)){var l=!0;qi(t)}else l=!1;if(Nn(t,i),t.stateNode===null)$i(e,t),Yf(t,n,r),qo(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=Me(n)?tn:ye.current,c=Dn(t,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||a!==c)&&hu(t,o,r,c),Ct=!1;var f=t.memoizedState;o.state=f,Zi(t,r,o,i),a=t.memoizedState,s!==r||f!==a||Te.current||Ct?(typeof h=="function"&&(Qo(t,n,h,r),a=t.memoizedState),(s=Ct||du(t,n,s,r,f,a,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Mf(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ke(t.type,s),o.props=c,d=t.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Be(a):(a=Me(n)?tn:ye.current,a=Dn(t,a));var u=n.getDerivedStateFromProps;(h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||f!==a)&&hu(t,o,r,a),Ct=!1,f=t.memoizedState,o.state=f,Zi(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Te.current||Ct?(typeof u=="function"&&(Qo(t,n,u,r),p=t.memoizedState),(c=Ct||du(t,n,c,r,f,p,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Yo(e,t,n,r,l,i)}function Yo(e,t,n,r,i,l){ed(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&iu(t,n,!1),_t(e,t,l);r=t.stateNode,N0.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ln(t,e.child,null,l),t.child=Ln(t,null,s,l)):_e(e,t,s,l),t.memoizedState=r.state,i&&iu(t,n,!0),t.child}function td(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),Xs(e,t.containerInfo)}function wu(e,t,n,r,i){return zn(),js(i),t.flags|=256,_e(e,t,n,r),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,t,n){var r=t.pendingProps,i=ee.current,l=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Y(ee,i&1),e===null)return Bo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Cl(o,r,0,null),e=Jt(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Zo(n),t.memoizedState=Go,e):na(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return R0(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ft(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?l=Ft(s,l):(l=Jt(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Zo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Go,r}return l=e.child,e=l.sibling,r=Ft(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function na(e,t){return t=Cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ai(e,t,n,r){return r!==null&&js(r),Ln(t,e.child,null,n),e=na(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function R0(e,t,n,r,i,l,o){if(n)return t.flags&256?(t.flags&=-257,r=to(Error(P(422))),ai(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=Cl({mode:"visible",children:r.children},i,0,null),l=Jt(l,i,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Ln(t,e.child,null,o),t.child.memoizedState=Zo(o),t.memoizedState=Go,l);if(!(t.mode&1))return ai(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,l=Error(P(419)),r=to(l,r,void 0),ai(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ee||s){if(r=fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,yt(e,i),be(r,e,i,-1))}return aa(),r=to(Error(P(421))),ai(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=B0.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,Pe=zt(i.nextSibling),Ie=t,J=!0,Ye=null,e!==null&&(He[Ue++]=dt,He[Ue++]=ht,He[Ue++]=nn,dt=e.id,ht=e.overflow,nn=t),t=na(t,r.children),t.flags|=4096,t)}function xu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wo(e.return,t,n)}function no(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function rd(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(_e(e,t,r.children,n),r=ee.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,n,t);else if(e.tag===19)xu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(ee,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&bi(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),no(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bi(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}no(t,!0,n,null,l);break;case"together":no(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $i(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function P0(e,t,n){switch(t.tag){case 3:td(t),zn();break;case 5:Nf(t);break;case 1:Me(t.type)&&qi(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Y(Yi,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(ee,ee.current&1),t.flags|=128,null):n&t.child.childLanes?nd(e,t,n):(Y(ee,ee.current&1),e=_t(e,t,n),e!==null?e.sibling:null);Y(ee,ee.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(ee,ee.current),r)break;return null;case 22:case 23:return t.lanes=0,Jf(e,t,n)}return _t(e,t,n)}var id,bo,ld,od;id=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bo=function(){};ld=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gt(ot.current);var l=null;switch(n){case"input":i=wo(e,i),r=wo(e,r),l=[];break;case"select":i=ne({},i,{value:void 0}),r=ne({},r,{value:void 0}),l=[];break;case"textarea":i=ko(e,i),r=ko(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wi)}Eo(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(yr.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var a=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&a!==s&&(a!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&s[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(l||(l=[]),l.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(l=l||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(l=l||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(yr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&Z("scroll",e),l||s===a||(l=[])):(l=l||[]).push(c,a))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};od=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function I0(e,t,n){var r=t.pendingProps;switch(Vs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(t),null;case 1:return Me(t.type)&&Qi(),me(t),null;case 3:return r=t.stateNode,An(),b(Te),b(ye),Gs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(os(Ye),Ye=null))),bo(e,t),me(t),null;case 5:Ys(t);var i=Gt(Rr.current);if(n=t.type,e!==null&&t.stateNode!=null)ld(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return me(t),null}if(e=Gt(ot.current),oi(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[it]=t,r[Mr]=l,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(i=0;i<or.length;i++)Z(or[i],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":Ra(r,l),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Z("invalid",r);break;case"textarea":Ia(r,l),Z("invalid",r)}Eo(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var s=l[o];o==="children"?typeof s=="string"?r.textContent!==s&&(l.suppressHydrationWarning!==!0&&li(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(l.suppressHydrationWarning!==!0&&li(r.textContent,s,e),i=["children",""+s]):yr.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":Zr(r),Pa(r,l,!0);break;case"textarea":Zr(r),Da(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Wi)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[it]=t,e[Mr]=r,id(e,t,!1,!1),t.stateNode=e;e:{switch(o=$o(n,r),n){case"dialog":Z("cancel",e),Z("close",e),i=r;break;case"iframe":case"object":case"embed":Z("load",e),i=r;break;case"video":case"audio":for(i=0;i<or.length;i++)Z(or[i],e);i=r;break;case"source":Z("error",e),i=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),i=r;break;case"details":Z("toggle",e),i=r;break;case"input":Ra(e,r),i=wo(e,r),Z("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ne({},r,{value:void 0}),Z("invalid",e);break;case"textarea":Ia(e,r),i=ko(e,r),Z("invalid",e);break;default:i=r}Eo(n,i),s=i;for(l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="style"?Ac(e,a):l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&zc(e,a)):l==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&_r(e,a):typeof a=="number"&&_r(e,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(yr.hasOwnProperty(l)?a!=null&&l==="onScroll"&&Z("scroll",e):a!=null&&$s(e,l,a,o))}switch(n){case"input":Zr(e),Pa(e,r,!1);break;case"textarea":Zr(e),Da(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ht(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?En(e,!!r.multiple,l,!1):r.defaultValue!=null&&En(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return me(t),null;case 6:if(e&&t.stateNode!=null)od(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Gt(Rr.current),Gt(ot.current),oi(t)){if(r=t.stateNode,n=t.memoizedProps,r[it]=t,(l=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:li(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&li(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[it]=t,t.stateNode=r}return me(t),null;case 13:if(b(ee),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Pe!==null&&t.mode&1&&!(t.flags&128))Cf(),zn(),t.flags|=98560,l=!1;else if(l=oi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(P(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(P(317));l[it]=t}else zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;me(t),l=!1}else Ye!==null&&(os(Ye),Ye=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?ue===0&&(ue=3):aa())),t.updateQueue!==null&&(t.flags|=4),me(t),null);case 4:return An(),bo(e,t),e===null&&$r(t.stateNode.containerInfo),me(t),null;case 10:return Qs(t.type._context),me(t),null;case 17:return Me(t.type)&&Qi(),me(t),null;case 19:if(b(ee),l=t.memoizedState,l===null)return me(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Jn(l,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bi(e),o!==null){for(t.flags|=128,Jn(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(ee,ee.current&1|2),t.child}e=e.sibling}l.tail!==null&&le()>Fn&&(t.flags|=128,r=!0,Jn(l,!1),t.lanes=4194304)}else{if(!r)if(e=bi(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!J)return me(t),null}else 2*le()-l.renderingStartTime>Fn&&n!==1073741824&&(t.flags|=128,r=!0,Jn(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=le(),t.sibling=null,n=ee.current,Y(ee,r?n&1|2:n&1),t):(me(t),null);case 22:case 23:return sa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Re&1073741824&&(me(t),t.subtreeFlags&6&&(t.flags|=8192)):me(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function D0(e,t){switch(Vs(t),t.tag){case 1:return Me(t.type)&&Qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return An(),b(Te),b(ye),Gs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ys(t),null;case 13:if(b(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return b(ee),null;case 4:return An(),null;case 10:return Qs(t.type._context),null;case 22:case 23:return sa(),null;case 24:return null;default:return null}}var ui=!1,ve=!1,z0=typeof WeakSet=="function"?WeakSet:Set,O=null;function kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function Jo(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Su=!1;function L0(e,t){if(Ao=Vi,e=ff(),Hs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,s=-1,a=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var u;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==l||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(u=d.firstChild)!==null;)f=d,d=u;for(;;){if(d===e)break t;if(f===n&&++c===i&&(s=o),f===l&&++h===r&&(a=o),(u=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=u}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oo={focusedElem:e,selectionRange:n},Vi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ke(t.type,g),_);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){ie(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return p=Su,Su=!1,p}function gr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Jo(t,n,l)}i=i.next}while(i!==r)}}function Sl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function es(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sd(e){var t=e.alternate;t!==null&&(e.alternate=null,sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[Mr],delete t[Uo],delete t[v0],delete t[y0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ad(e){return e.tag===5||e.tag===3||e.tag===4}function ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ts(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wi));else if(r!==4&&(e=e.child,e!==null))for(ts(e,t,n),e=e.sibling;e!==null;)ts(e,t,n),e=e.sibling}function ns(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ns(e,t,n),e=e.sibling;e!==null;)ns(e,t,n),e=e.sibling}var de=null,Xe=!1;function St(e,t,n){for(n=n.child;n!==null;)ud(e,t,n),n=n.sibling}function ud(e,t,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(pl,n)}catch{}switch(n.tag){case 5:ve||kn(n,t);case 6:var r=de,i=Xe;de=null,St(e,t,n),de=r,Xe=i,de!==null&&(Xe?(e=de,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):de.removeChild(n.stateNode));break;case 18:de!==null&&(Xe?(e=de,n=n.stateNode,e.nodeType===8?Yl(e.parentNode,n):e.nodeType===1&&Yl(e,n),kr(e)):Yl(de,n.stateNode));break;case 4:r=de,i=Xe,de=n.stateNode.containerInfo,Xe=!0,St(e,t,n),de=r,Xe=i;break;case 0:case 11:case 14:case 15:if(!ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Jo(n,t,o),i=i.next}while(i!==r)}St(e,t,n);break;case 1:if(!ve&&(kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ie(n,t,s)}St(e,t,n);break;case 21:St(e,t,n);break;case 22:n.mode&1?(ve=(r=ve)||n.memoizedState!==null,St(e,t,n),ve=r):St(e,t,n);break;default:St(e,t,n)}}function Cu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new z0),t.forEach(function(r){var i=W0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:de=s.stateNode,Xe=!1;break e;case 3:de=s.stateNode.containerInfo,Xe=!0;break e;case 4:de=s.stateNode.containerInfo,Xe=!0;break e}s=s.return}if(de===null)throw Error(P(160));ud(l,o,i),de=null,Xe=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(c){ie(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}function cd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qe(t,e),nt(e),r&4){try{gr(3,e,e.return),Sl(3,e)}catch(g){ie(e,e.return,g)}try{gr(5,e,e.return)}catch(g){ie(e,e.return,g)}}break;case 1:qe(t,e),nt(e),r&512&&n!==null&&kn(n,n.return);break;case 5:if(qe(t,e),nt(e),r&512&&n!==null&&kn(n,n.return),e.flags&32){var i=e.stateNode;try{_r(i,"")}catch(g){ie(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&l.type==="radio"&&l.name!=null&&Pc(i,l),$o(s,o);var c=$o(s,l);for(o=0;o<a.length;o+=2){var h=a[o],d=a[o+1];h==="style"?Ac(i,d):h==="dangerouslySetInnerHTML"?zc(i,d):h==="children"?_r(i,d):$s(i,h,d,c)}switch(s){case"input":xo(i,l);break;case"textarea":Ic(i,l);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var u=l.value;u!=null?En(i,!!l.multiple,u,!1):f!==!!l.multiple&&(l.defaultValue!=null?En(i,!!l.multiple,l.defaultValue,!0):En(i,!!l.multiple,l.multiple?[]:"",!1))}i[Mr]=l}catch(g){ie(e,e.return,g)}}break;case 6:if(qe(t,e),nt(e),r&4){if(e.stateNode===null)throw Error(P(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(g){ie(e,e.return,g)}}break;case 3:if(qe(t,e),nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(g){ie(e,e.return,g)}break;case 4:qe(t,e),nt(e);break;case 13:qe(t,e),nt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(la=le())),r&4&&Cu(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ve=(c=ve)||h,qe(t,e),ve=c):qe(t,e),nt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(O=e,h=e.child;h!==null;){for(d=O=h;O!==null;){switch(f=O,u=f.child,f.tag){case 0:case 11:case 14:case 15:gr(4,f,f.return);break;case 1:kn(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){ie(r,n,g)}}break;case 5:kn(f,f.return);break;case 22:if(f.memoizedState!==null){$u(d);continue}}u!==null?(u.return=f,O=u):$u(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(s=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=Lc("display",o))}catch(g){ie(e,e.return,g)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ie(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qe(t,e),nt(e),r&4&&Cu(e);break;case 21:break;default:qe(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ad(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_r(i,""),r.flags&=-33);var l=ku(e);ns(e,l,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=ku(e);ts(e,s,o);break;default:throw Error(P(161))}}catch(a){ie(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A0(e,t,n){O=e,fd(e)}function fd(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var i=O,l=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ui;if(!o){var s=i.alternate,a=s!==null&&s.memoizedState!==null||ve;s=ui;var c=ve;if(ui=o,(ve=a)&&!c)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?Tu(i):a!==null?(a.return=o,O=a):Tu(i);for(;l!==null;)O=l,fd(l),l=l.sibling;O=i,ui=s,ve=c}Eu(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,O=l):Eu(e)}}function Eu(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Sl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ve)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&uu(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uu(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&kr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}ve||t.flags&512&&es(t)}catch(f){ie(t,t.return,f)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function $u(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function Tu(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sl(4,t)}catch(a){ie(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ie(t,i,a)}}var l=t.return;try{es(t)}catch(a){ie(t,l,a)}break;case 5:var o=t.return;try{es(t)}catch(a){ie(t,o,a)}}}catch(a){ie(t,t.return,a)}if(t===e){O=null;break}var s=t.sibling;if(s!==null){s.return=t.return,O=s;break}O=t.return}}var O0=Math.ceil,tl=xt.ReactCurrentDispatcher,ra=xt.ReactCurrentOwner,je=xt.ReactCurrentBatchConfig,Q=0,fe=null,oe=null,he=0,Re=0,Cn=jt(0),ue=0,zr=null,ln=0,kl=0,ia=0,mr=null,Ce=null,la=0,Fn=1/0,ct=null,nl=!1,rs=null,At=null,ci=!1,Rt=null,rl=0,vr=0,is=null,Ti=-1,Mi=0;function we(){return Q&6?le():Ti!==-1?Ti:Ti=le()}function Ot(e){return e.mode&1?Q&2&&he!==0?he&-he:w0.transition!==null?(Mi===0&&(Mi=Xc()),Mi):(e=q,e!==0||(e=window.event,e=e===void 0?16:tf(e.type)),e):1}function be(e,t,n,r){if(50<vr)throw vr=0,is=null,Error(P(185));Vr(e,n,r),(!(Q&2)||e!==fe)&&(e===fe&&(!(Q&2)&&(kl|=n),ue===4&&Mt(e,he)),Ne(e,r),n===1&&Q===0&&!(t.mode&1)&&(Fn=le()+500,_l&&Bt()))}function Ne(e,t){var n=e.callbackNode;wp(e,t);var r=Ui(e,e===fe?he:0);if(r===0)n!==null&&Aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Aa(n),t===1)e.tag===0?_0(Mu.bind(null,e)):xf(Mu.bind(null,e)),g0(function(){!(Q&6)&&Bt()}),n=null;else{switch(Yc(r)){case 1:n=Ps;break;case 4:n=qc;break;case 16:n=Hi;break;case 536870912:n=Kc;break;default:n=Hi}n=_d(n,dd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dd(e,t){if(Ti=-1,Mi=0,Q&6)throw Error(P(327));var n=e.callbackNode;if(Rn()&&e.callbackNode!==n)return null;var r=Ui(e,e===fe?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=il(e,r);else{t=r;var i=Q;Q|=2;var l=pd();(fe!==e||he!==t)&&(ct=null,Fn=le()+500,bt(e,t));do try{U0();break}catch(s){hd(e,s)}while(1);Ws(),tl.current=l,Q=i,oe!==null?t=0:(fe=null,he=0,t=ue)}if(t!==0){if(t===2&&(i=Po(e),i!==0&&(r=i,t=ls(e,i))),t===1)throw n=zr,bt(e,0),Mt(e,r),Ne(e,le()),n;if(t===6)Mt(e,r);else{if(i=e.current.alternate,!(r&30)&&!F0(i)&&(t=il(e,r),t===2&&(l=Po(e),l!==0&&(r=l,t=ls(e,l))),t===1))throw n=zr,bt(e,0),Mt(e,r),Ne(e,le()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:qt(e,Ce,ct);break;case 3:if(Mt(e,r),(r&130023424)===r&&(t=la+500-le(),10<t)){if(Ui(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){we(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ho(qt.bind(null,e,Ce,ct),t);break}qt(e,Ce,ct);break;case 4:if(Mt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ze(r);l=1<<o,o=t[o],o>i&&(i=o),r&=~l}if(r=i,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O0(r/1960))-r,10<r){e.timeoutHandle=Ho(qt.bind(null,e,Ce,ct),r);break}qt(e,Ce,ct);break;case 5:qt(e,Ce,ct);break;default:throw Error(P(329))}}}return Ne(e,le()),e.callbackNode===n?dd.bind(null,e):null}function ls(e,t){var n=mr;return e.current.memoizedState.isDehydrated&&(bt(e,t).flags|=256),e=il(e,t),e!==2&&(t=Ce,Ce=n,t!==null&&os(t)),e}function os(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function F0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Je(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mt(e,t){for(t&=~ia,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ze(t),r=1<<n;e[n]=-1,t&=~r}}function Mu(e){if(Q&6)throw Error(P(327));Rn();var t=Ui(e,0);if(!(t&1))return Ne(e,le()),null;var n=il(e,t);if(e.tag!==0&&n===2){var r=Po(e);r!==0&&(t=r,n=ls(e,r))}if(n===1)throw n=zr,bt(e,0),Mt(e,t),Ne(e,le()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qt(e,Ce,ct),Ne(e,le()),null}function oa(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Fn=le()+500,_l&&Bt())}}function on(e){Rt!==null&&Rt.tag===0&&!(Q&6)&&Rn();var t=Q;Q|=1;var n=je.transition,r=q;try{if(je.transition=null,q=1,e)return e()}finally{q=r,je.transition=n,Q=t,!(Q&6)&&Bt()}}function sa(){Re=Cn.current,b(Cn)}function bt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,p0(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Vs(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qi();break;case 3:An(),b(Te),b(ye),Gs();break;case 5:Ys(r);break;case 4:An();break;case 13:b(ee);break;case 19:b(ee);break;case 10:Qs(r.type._context);break;case 22:case 23:sa()}n=n.return}if(fe=e,oe=e=Ft(e.current,null),he=Re=t,ue=0,zr=null,ia=kl=ln=0,Ce=mr=null,Yt!==null){for(t=0;t<Yt.length;t++)if(n=Yt[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,r.next=o}n.pending=r}Yt=null}return e}function hd(e,t){do{var n=oe;try{if(Ws(),Ci.current=el,Ji){for(var r=te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ji=!1}if(rn=0,ce=ae=te=null,pr=!1,Pr=0,ra.current=null,n===null||n.return===null){ue=1,zr=t,oe=null;break}e:{var l=e,o=n.return,s=n,a=t;if(t=he,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=s,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var u=gu(o);if(u!==null){u.flags&=-257,mu(u,o,s,l,t),u.mode&1&&pu(l,c,t),t=u,a=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(a),t.updateQueue=g}else p.add(a);break e}else{if(!(t&1)){pu(l,c,t),aa();break e}a=Error(P(426))}}else if(J&&s.mode&1){var _=gu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),mu(_,o,s,l,t),js(On(a,s));break e}}l=a=On(a,s),ue!==4&&(ue=2),mr===null?mr=[l]:mr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=Gf(l,a,t);au(l,m);break e;case 1:s=a;var v=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(At===null||!At.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Zf(l,s,t);au(l,w);break e}}l=l.return}while(l!==null)}md(n)}catch(M){t=M,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(1)}function pd(){var e=tl.current;return tl.current=el,e===null?el:e}function aa(){(ue===0||ue===3||ue===2)&&(ue=4),fe===null||!(ln&268435455)&&!(kl&268435455)||Mt(fe,he)}function il(e,t){var n=Q;Q|=2;var r=pd();(fe!==e||he!==t)&&(ct=null,bt(e,t));do try{H0();break}catch(i){hd(e,i)}while(1);if(Ws(),Q=n,tl.current=r,oe!==null)throw Error(P(261));return fe=null,he=0,ue}function H0(){for(;oe!==null;)gd(oe)}function U0(){for(;oe!==null&&!fp();)gd(oe)}function gd(e){var t=yd(e.alternate,e,Re);e.memoizedProps=e.pendingProps,t===null?md(e):oe=t,ra.current=null}function md(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=D0(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ue=6,oe=null;return}}else if(n=I0(n,t,Re),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ue===0&&(ue=5)}function qt(e,t,n){var r=q,i=je.transition;try{je.transition=null,q=1,V0(e,t,n,r)}finally{je.transition=i,q=r}return null}function V0(e,t,n,r){do Rn();while(Rt!==null);if(Q&6)throw Error(P(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(xp(e,l),e===fe&&(oe=fe=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ci||(ci=!0,_d(Hi,function(){return Rn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=je.transition,je.transition=null;var o=q;q=1;var s=Q;Q|=4,ra.current=null,L0(e,n),cd(n,e),s0(Oo),Vi=!!Ao,Oo=Ao=null,e.current=n,A0(n),dp(),Q=s,q=o,je.transition=l}else e.current=n;if(ci&&(ci=!1,Rt=e,rl=i),l=e.pendingLanes,l===0&&(At=null),gp(n.stateNode),Ne(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nl)throw nl=!1,e=rs,rs=null,e;return rl&1&&e.tag!==0&&Rn(),l=e.pendingLanes,l&1?e===is?vr++:(vr=0,is=e):vr=0,Bt(),null}function Rn(){if(Rt!==null){var e=Yc(rl),t=je.transition,n=q;try{if(je.transition=null,q=16>e?16:e,Rt===null)var r=!1;else{if(e=Rt,Rt=null,rl=0,Q&6)throw Error(P(331));var i=Q;for(Q|=4,O=e.current;O!==null;){var l=O,o=l.child;if(O.flags&16){var s=l.deletions;if(s!==null){for(var a=0;a<s.length;a++){var c=s[a];for(O=c;O!==null;){var h=O;switch(h.tag){case 0:case 11:case 15:gr(8,h,l)}var d=h.child;if(d!==null)d.return=h,O=d;else for(;O!==null;){h=O;var f=h.sibling,u=h.return;if(sd(h),h===c){O=null;break}if(f!==null){f.return=u,O=f;break}O=u}}}var p=l.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}O=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,O=o;else e:for(;O!==null;){if(l=O,l.flags&2048)switch(l.tag){case 0:case 11:case 15:gr(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,O=m;break e}O=l.return}}var v=e.current;for(O=v;O!==null;){o=O;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,O=y;else e:for(o=v;O!==null;){if(s=O,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Sl(9,s)}}catch(M){ie(s,s.return,M)}if(s===o){O=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,O=w;break e}O=s.return}}if(Q=i,Bt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(pl,e)}catch{}r=!0}return r}finally{q=n,je.transition=t}}return!1}function Nu(e,t,n){t=On(n,t),t=Gf(e,t,1),e=Lt(e,t,1),t=we(),e!==null&&(Vr(e,1,t),Ne(e,t))}function ie(e,t,n){if(e.tag===3)Nu(e,e,n);else for(;t!==null;){if(t.tag===3){Nu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(At===null||!At.has(r))){e=On(n,e),e=Zf(t,e,1),t=Lt(t,e,1),e=we(),t!==null&&(Vr(t,1,e),Ne(t,e));break}}t=t.return}}function j0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=we(),e.pingedLanes|=e.suspendedLanes&n,fe===e&&(he&n)===n&&(ue===4||ue===3&&(he&130023424)===he&&500>le()-la?bt(e,0):ia|=n),Ne(e,t)}function vd(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var n=we();e=yt(e,t),e!==null&&(Vr(e,t,n),Ne(e,n))}function B0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vd(e,n)}function W0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),vd(e,n)}var yd;yd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ee=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ee=!1,P0(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,J&&t.flags&1048576&&Sf(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$i(e,t),e=t.pendingProps;var i=Dn(t,ye.current);Nn(t,n),i=bs(null,t,r,e,i,n);var l=Js();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Me(r)?(l=!0,qi(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ks(t),i.updater=xl,t.stateNode=i,i._reactInternals=t,qo(t,r,e,n),t=Yo(null,t,r,!0,l,n)):(t.tag=0,J&&l&&Us(t),_e(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($i(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=q0(r),e=Ke(r,e),i){case 0:t=Xo(null,t,r,e,n);break e;case 1:t=_u(null,t,r,e,n);break e;case 11:t=vu(null,t,r,e,n);break e;case 14:t=yu(null,t,r,Ke(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),Xo(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),_u(e,t,r,i,n);case 3:e:{if(td(t),e===null)throw Error(P(387));r=t.pendingProps,l=t.memoizedState,i=l.element,Mf(e,t),Zi(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=On(Error(P(423)),t),t=wu(e,t,r,n,i);break e}else if(r!==i){i=On(Error(P(424)),t),t=wu(e,t,r,n,i);break e}else for(Pe=zt(t.stateNode.containerInfo.firstChild),Ie=t,J=!0,Ye=null,n=$f(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===i){t=_t(e,t,n);break e}_e(e,t,r,n)}t=t.child}return t;case 5:return Nf(t),e===null&&Bo(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,o=i.children,Fo(r,i)?o=null:l!==null&&Fo(r,l)&&(t.flags|=32),ed(e,t),_e(e,t,o,n),t.child;case 6:return e===null&&Bo(t),null;case 13:return nd(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ln(t,null,r,n):_e(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),vu(e,t,r,i,n);case 7:return _e(e,t,t.pendingProps,n),t.child;case 8:return _e(e,t,t.pendingProps.children,n),t.child;case 12:return _e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,o=i.value,Y(Yi,r._currentValue),r._currentValue=o,l!==null)if(Je(l.value,o)){if(l.children===i.children&&!Te.current){t=_t(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){o=l.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(l.tag===1){a=gt(-1,n&-n),a.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Wo(l.return,n,t),s.lanes|=n;break}a=a.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(P(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Wo(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}_e(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Nn(t,n),i=Be(i),r=r(i),t.flags|=1,_e(e,t,r,n),t.child;case 14:return r=t.type,i=Ke(r,t.pendingProps),i=Ke(r.type,i),yu(e,t,r,i,n);case 15:return bf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ke(r,i),$i(e,t),t.tag=1,Me(r)?(e=!0,qi(t)):e=!1,Nn(t,n),Yf(t,r,i),qo(t,r,i,n),Yo(null,t,r,!0,e,n);case 19:return rd(e,t,n);case 22:return Jf(e,t,n)}throw Error(P(156,t.tag))};function _d(e,t){return Qc(e,t)}function Q0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,r){return new Q0(e,t,n,r)}function ua(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q0(e){if(typeof e=="function")return ua(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ms)return 11;if(e===Ns)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ni(e,t,n,r,i,l){var o=2;if(r=e,typeof e=="function")ua(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pn:return Jt(n.children,i,l,t);case Ts:o=8,i|=8;break;case mo:return e=Ve(12,n,t,i|2),e.elementType=mo,e.lanes=l,e;case vo:return e=Ve(13,n,t,i),e.elementType=vo,e.lanes=l,e;case yo:return e=Ve(19,n,t,i),e.elementType=yo,e.lanes=l,e;case Mc:return Cl(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $c:o=10;break e;case Tc:o=9;break e;case Ms:o=11;break e;case Ns:o=14;break e;case kt:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Ve(o,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function Jt(e,t,n,r){return e=Ve(7,e,r,t),e.lanes=n,e}function Cl(e,t,n,r){return e=Ve(22,e,r,t),e.elementType=Mc,e.lanes=n,e.stateNode={isHidden:!1},e}function ro(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function io(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ca(e,t,n,r,i,l,o,s,a){return e=new K0(e,t,n,s,a),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ve(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ks(l),e}function X0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wd(e){if(!e)return Ut;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Me(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(Me(n))return wf(e,n,t)}return t}function xd(e,t,n,r,i,l,o,s,a){return e=ca(n,r,!0,e,i,l,o,s,a),e.context=wd(null),n=e.current,r=we(),i=Ot(n),l=gt(r,i),l.callback=t??null,Lt(n,l,i),e.current.lanes=i,Vr(e,i,r),Ne(e,r),e}function El(e,t,n,r){var i=t.current,l=we(),o=Ot(i);return n=wd(n),t.context===null?t.context=n:t.pendingContext=n,t=gt(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lt(i,t,o),e!==null&&(be(e,i,o,l),ki(e,i,o)),o}function ll(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fa(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function Y0(){return null}var Sd=typeof reportError=="function"?reportError:function(e){console.error(e)};function da(e){this._internalRoot=e}$l.prototype.render=da.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));El(e,t,null,null)};$l.prototype.unmount=da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){El(null,e,null,null)}),t[vt]=null}};function $l(e){this._internalRoot=e}$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=bc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&t!==0&&t<Tt[n].priority;n++);Tt.splice(n,0,e),n===0&&ef(e)}};function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pu(){}function G0(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var c=ll(o);l.call(c)}}var o=xd(t,r,e,0,null,!1,!1,"",Pu);return e._reactRootContainer=o,e[vt]=o.current,$r(e.nodeType===8?e.parentNode:e),on(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=ll(a);s.call(c)}}var a=ca(e,0,!1,null,null,!1,!1,"",Pu);return e._reactRootContainer=a,e[vt]=a.current,$r(e.nodeType===8?e.parentNode:e),on(function(){El(t,a,n,r)}),a}function Ml(e,t,n,r,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var s=i;i=function(){var a=ll(o);s.call(a)}}El(t,o,e,i)}else o=G0(n,t,e,i,r);return ll(o)}Gc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lr(t.pendingLanes);n!==0&&(Is(t,n|1),Ne(t,le()),!(Q&6)&&(Fn=le()+500,Bt()))}break;case 13:on(function(){var r=yt(e,1);if(r!==null){var i=we();be(r,e,1,i)}}),fa(e,1)}};Ds=function(e){if(e.tag===13){var t=yt(e,134217728);if(t!==null){var n=we();be(t,e,134217728,n)}fa(e,134217728)}};Zc=function(e){if(e.tag===13){var t=Ot(e),n=yt(e,t);if(n!==null){var r=we();be(n,e,t,r)}fa(e,t)}};bc=function(){return q};Jc=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};Mo=function(e,t,n){switch(t){case"input":if(xo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yl(r);if(!i)throw Error(P(90));Rc(r),xo(r,i)}}}break;case"textarea":Ic(e,n);break;case"select":t=n.value,t!=null&&En(e,!!n.multiple,t,!1)}};Hc=oa;Uc=on;var Z0={usingClientEntryPoint:!1,Events:[Br,yn,yl,Oc,Fc,oa]},er={findFiberByHostInstance:Xt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b0={bundleType:er.bundleType,version:er.version,rendererPackageName:er.rendererPackageName,rendererConfig:er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bc(e),e===null?null:e.stateNode},findFiberByHostInstance:er.findFiberByHostInstance||Y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{pl=fi.inject(b0),lt=fi}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z0;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ha(t))throw Error(P(200));return X0(e,t,null,n)};Le.createRoot=function(e,t){if(!ha(e))throw Error(P(299));var n=!1,r="",i=Sd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ca(e,1,!1,null,null,n,!1,r,i),e[vt]=t.current,$r(e.nodeType===8?e.parentNode:e),new da(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Bc(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return on(e)};Le.hydrate=function(e,t,n){if(!Tl(t))throw Error(P(200));return Ml(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!ha(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",o=Sd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=xd(t,null,e,1,n??null,i,!1,l,o),e[vt]=t.current,$r(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)};Le.render=function(e,t,n){if(!Tl(t))throw Error(P(200));return Ml(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!Tl(e))throw Error(P(40));return e._reactRootContainer?(on(function(){Ml(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};Le.unstable_batchedUpdates=oa;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ml(e,t,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function kd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kd)}catch(e){console.error(e)}}kd(),Sc.exports=Le;var J0=Sc.exports,Iu=J0;po.createRoot=Iu.createRoot,po.hydrateRoot=Iu.hydrateRoot;function ss(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let l of e)(l=t(l,++i,e))!=null&&(n===void 0?l>=l&&(n=r=l):(n>l&&(n=l),r<l&&(r=l)))}return[n,r]}var eg={value:()=>{}};function pa(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ri(n)}function Ri(e){this._=e}function tg(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ri.prototype=pa.prototype={constructor:Ri,on:function(e,t){var n=this._,r=tg(e+"",n),i,l=-1,o=r.length;if(arguments.length<2){for(;++l<o;)if((i=(e=r[l]).type)&&(i=ng(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<o;)if(i=(e=r[l]).type)n[i]=Du(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Du(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ri(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,l;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],r=0,i=l.length;r<i;++r)l[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,l=r.length;i<l;++i)r[i].value.apply(t,n)}};function ng(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Du(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=eg,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var as="http://www.w3.org/1999/xhtml";const zu={svg:"http://www.w3.org/2000/svg",xhtml:as,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),zu.hasOwnProperty(t)?{space:zu[t],local:e}:e}function rg(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===as&&t.documentElement.namespaceURI===as?t.createElement(e):t.createElementNS(n,e)}}function ig(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ga(e){var t=Nl(e);return(t.local?ig:rg)(t)}function lg(){}function ma(e){return e==null?lg:function(){return this.querySelector(e)}}function og(e){typeof e!="function"&&(e=ma(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],o=l.length,s=r[i]=new Array(o),a,c,h=0;h<o;++h)(a=l[h])&&(c=e.call(a,a.__data__,h,l))&&("__data__"in a&&(c.__data__=a.__data__),s[h]=c);return new ze(r,this._parents)}function sg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ag(){return[]}function Cd(e){return e==null?ag:function(){return this.querySelectorAll(e)}}function ug(e){return function(){return sg(e.apply(this,arguments))}}function cg(e){typeof e=="function"?e=ug(e):e=Cd(e);for(var t=this._groups,n=t.length,r=[],i=[],l=0;l<n;++l)for(var o=t[l],s=o.length,a,c=0;c<s;++c)(a=o[c])&&(r.push(e.call(a,a.__data__,c,o)),i.push(a));return new ze(r,i)}function Ed(e){return function(){return this.matches(e)}}function $d(e){return function(t){return t.matches(e)}}var fg=Array.prototype.find;function dg(e){return function(){return fg.call(this.children,e)}}function hg(){return this.firstElementChild}function pg(e){return this.select(e==null?hg:dg(typeof e=="function"?e:$d(e)))}var gg=Array.prototype.filter;function mg(){return Array.from(this.children)}function vg(e){return function(){return gg.call(this.children,e)}}function yg(e){return this.selectAll(e==null?mg:vg(typeof e=="function"?e:$d(e)))}function _g(e){typeof e!="function"&&(e=Ed(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],o=l.length,s=r[i]=[],a,c=0;c<o;++c)(a=l[c])&&e.call(a,a.__data__,c,l)&&s.push(a);return new ze(r,this._parents)}function Td(e){return new Array(e.length)}function wg(){return new ze(this._enter||this._groups.map(Td),this._parents)}function ol(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ol.prototype={constructor:ol,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xg(e){return function(){return e}}function Sg(e,t,n,r,i,l){for(var o=0,s,a=t.length,c=l.length;o<c;++o)(s=t[o])?(s.__data__=l[o],r[o]=s):n[o]=new ol(e,l[o]);for(;o<a;++o)(s=t[o])&&(i[o]=s)}function kg(e,t,n,r,i,l,o){var s,a,c=new Map,h=t.length,d=l.length,f=new Array(h),u;for(s=0;s<h;++s)(a=t[s])&&(f[s]=u=o.call(a,a.__data__,s,t)+"",c.has(u)?i[s]=a:c.set(u,a));for(s=0;s<d;++s)u=o.call(e,l[s],s,l)+"",(a=c.get(u))?(r[s]=a,a.__data__=l[s],c.delete(u)):n[s]=new ol(e,l[s]);for(s=0;s<h;++s)(a=t[s])&&c.get(f[s])===a&&(i[s]=a)}function Cg(e){return e.__data__}function Eg(e,t){if(!arguments.length)return Array.from(this,Cg);var n=t?kg:Sg,r=this._parents,i=this._groups;typeof e!="function"&&(e=xg(e));for(var l=i.length,o=new Array(l),s=new Array(l),a=new Array(l),c=0;c<l;++c){var h=r[c],d=i[c],f=d.length,u=$g(e.call(h,h&&h.__data__,c,r)),p=u.length,g=s[c]=new Array(p),_=o[c]=new Array(p),m=a[c]=new Array(f);n(h,d,g,_,m,u,t);for(var v=0,y=0,w,M;v<p;++v)if(w=g[v]){for(v>=y&&(y=v+1);!(M=_[y])&&++y<p;);w._next=M||null}}return o=new ze(o,r),o._enter=s,o._exit=a,o}function $g(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Tg(){return new ze(this._exit||this._groups.map(Td),this._parents)}function Mg(e,t,n){var r=this.enter(),i=this,l=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?l.remove():n(l),r&&i?r.merge(i).order():i}function Ng(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,l=r.length,o=Math.min(i,l),s=new Array(i),a=0;a<o;++a)for(var c=n[a],h=r[a],d=c.length,f=s[a]=new Array(d),u,p=0;p<d;++p)(u=c[p]||h[p])&&(f[p]=u);for(;a<i;++a)s[a]=n[a];return new ze(s,this._parents)}function Rg(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,l=r[i],o;--i>=0;)(o=r[i])&&(l&&o.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(o,l),l=o);return this}function Pg(e){e||(e=Ig);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),l=0;l<r;++l){for(var o=n[l],s=o.length,a=i[l]=new Array(s),c,h=0;h<s;++h)(c=o[h])&&(a[h]=c);a.sort(t)}return new ze(i,this._parents).order()}function Ig(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Dg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function zg(){return Array.from(this)}function Lg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,l=r.length;i<l;++i){var o=r[i];if(o)return o}return null}function Ag(){let e=0;for(const t of this)++e;return e}function Og(){return!this.node()}function Fg(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],l=0,o=i.length,s;l<o;++l)(s=i[l])&&e.call(s,s.__data__,l,i);return this}function Hg(e){return function(){this.removeAttribute(e)}}function Ug(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vg(e,t){return function(){this.setAttribute(e,t)}}function jg(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Bg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Wg(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Qg(e,t){var n=Nl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ug:Hg:typeof t=="function"?n.local?Wg:Bg:n.local?jg:Vg)(n,t))}function Md(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qg(e){return function(){this.style.removeProperty(e)}}function Kg(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xg(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Yg(e,t,n){return arguments.length>1?this.each((t==null?qg:typeof t=="function"?Xg:Kg)(e,t,n??"")):Hn(this.node(),e)}function Hn(e,t){return e.style.getPropertyValue(t)||Md(e).getComputedStyle(e,null).getPropertyValue(t)}function Gg(e){return function(){delete this[e]}}function Zg(e,t){return function(){this[e]=t}}function bg(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Jg(e,t){return arguments.length>1?this.each((t==null?Gg:typeof t=="function"?bg:Zg)(e,t)):this.node()[e]}function Nd(e){return e.trim().split(/^|\s+/)}function va(e){return e.classList||new Rd(e)}function Rd(e){this._node=e,this._names=Nd(e.getAttribute("class")||"")}Rd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Pd(e,t){for(var n=va(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Id(e,t){for(var n=va(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function em(e){return function(){Pd(this,e)}}function tm(e){return function(){Id(this,e)}}function nm(e,t){return function(){(t.apply(this,arguments)?Pd:Id)(this,e)}}function rm(e,t){var n=Nd(e+"");if(arguments.length<2){for(var r=va(this.node()),i=-1,l=n.length;++i<l;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?nm:t?em:tm)(n,t))}function im(){this.textContent=""}function lm(e){return function(){this.textContent=e}}function om(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function sm(e){return arguments.length?this.each(e==null?im:(typeof e=="function"?om:lm)(e)):this.node().textContent}function am(){this.innerHTML=""}function um(e){return function(){this.innerHTML=e}}function cm(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function fm(e){return arguments.length?this.each(e==null?am:(typeof e=="function"?cm:um)(e)):this.node().innerHTML}function dm(){this.nextSibling&&this.parentNode.appendChild(this)}function hm(){return this.each(dm)}function pm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gm(){return this.each(pm)}function mm(e){var t=typeof e=="function"?e:ga(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vm(){return null}function ym(e,t){var n=typeof e=="function"?e:ga(e),r=t==null?vm:typeof t=="function"?t:ma(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function _m(){var e=this.parentNode;e&&e.removeChild(this)}function wm(){return this.each(_m)}function xm(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Sm(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function km(e){return this.select(e?Sm:xm)}function Cm(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Em(e){return function(t){e.call(this,t,this.__data__)}}function $m(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Tm(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,l;n<i;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++r]=l;++r?t.length=r:delete this.__on}}}function Mm(e,t,n){return function(){var r=this.__on,i,l=Em(t);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=l,i.options=n),i.value=t;return}}this.addEventListener(e.type,l,n),i={type:e.type,name:e.name,value:t,listener:l,options:n},r?r.push(i):this.__on=[i]}}function Nm(e,t,n){var r=$m(e+""),i,l=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,c=s.length,h;a<c;++a)for(i=0,h=s[a];i<l;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(s=t?Mm:Tm,i=0;i<l;++i)this.each(s(r[i],t,n));return this}function Dd(e,t,n){var r=Md(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Rm(e,t){return function(){return Dd(this,e,t)}}function Pm(e,t){return function(){return Dd(this,e,t.apply(this,arguments))}}function Im(e,t){return this.each((typeof t=="function"?Pm:Rm)(e,t))}function*Dm(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,l=r.length,o;i<l;++i)(o=r[i])&&(yield o)}var zd=[null];function ze(e,t){this._groups=e,this._parents=t}function Qr(){return new ze([[document.documentElement]],zd)}function zm(){return this}ze.prototype=Qr.prototype={constructor:ze,select:og,selectAll:cg,selectChild:pg,selectChildren:yg,filter:_g,data:Eg,enter:wg,exit:Tg,join:Mg,merge:Ng,selection:zm,order:Rg,sort:Pg,call:Dg,nodes:zg,node:Lg,size:Ag,empty:Og,each:Fg,attr:Qg,style:Yg,property:Jg,classed:rm,text:sm,html:fm,raise:hm,lower:gm,append:mm,insert:ym,remove:wm,clone:km,datum:Cm,on:Nm,dispatch:Im,[Symbol.iterator]:Dm};function z(e){return typeof e=="string"?new ze([[document.querySelector(e)]],[document.documentElement]):new ze([[e]],zd)}function sn(e){return z(ga(e).call(document.documentElement))}function Lm(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wt(e,t){if(e=Lm(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const us={capture:!0,passive:!1};function cs(e){e.preventDefault(),e.stopImmediatePropagation()}function Am(e){var t=e.document.documentElement,n=z(e).on("dragstart.drag",cs,us);"onselectstart"in t?n.on("selectstart.drag",cs,us):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Om(e,t){var n=e.document.documentElement,r=z(e).on("dragstart.drag",null);t&&(r.on("click.drag",cs,us),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ya(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ld(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qr(){}var Lr=.7,sl=1/Lr,Pn="\\s*([+-]?\\d+)\\s*",Ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fm=/^#([0-9a-f]{3,8})$/,Hm=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),Um=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),Vm=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${Ar}\\)$`),jm=new RegExp(`^rgba\\(${st},${st},${st},${Ar}\\)$`),Bm=new RegExp(`^hsl\\(${Ar},${st},${st}\\)$`),Wm=new RegExp(`^hsla\\(${Ar},${st},${st},${Ar}\\)$`),Lu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ya(qr,Or,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Au,formatHex:Au,formatHex8:Qm,formatHsl:qm,formatRgb:Ou,toString:Ou});function Au(){return this.rgb().formatHex()}function Qm(){return this.rgb().formatHex8()}function qm(){return Ad(this).formatHsl()}function Ou(){return this.rgb().formatRgb()}function Or(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fm.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Fu(t):n===3?new $e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?di(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?di(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hm.exec(e))?new $e(t[1],t[2],t[3],1):(t=Um.exec(e))?new $e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vm.exec(e))?di(t[1],t[2],t[3],t[4]):(t=jm.exec(e))?di(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Bm.exec(e))?Vu(t[1],t[2]/100,t[3]/100,1):(t=Wm.exec(e))?Vu(t[1],t[2]/100,t[3]/100,t[4]):Lu.hasOwnProperty(e)?Fu(Lu[e]):e==="transparent"?new $e(NaN,NaN,NaN,0):null}function Fu(e){return new $e(e>>16&255,e>>8&255,e&255,1)}function di(e,t,n,r){return r<=0&&(e=t=n=NaN),new $e(e,t,n,r)}function Km(e){return e instanceof qr||(e=Or(e)),e?(e=e.rgb(),new $e(e.r,e.g,e.b,e.opacity)):new $e}function fs(e,t,n,r){return arguments.length===1?Km(e):new $e(e,t,n,r??1)}function $e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ya($e,fs,Ld(qr,{brighter(e){return e=e==null?sl:Math.pow(sl,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lr:Math.pow(Lr,e),new $e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $e(en(this.r),en(this.g),en(this.b),al(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hu,formatHex:Hu,formatHex8:Xm,formatRgb:Uu,toString:Uu}));function Hu(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}`}function Xm(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}${Zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Uu(){const e=al(this.opacity);return`${e===1?"rgb(":"rgba("}${en(this.r)}, ${en(this.g)}, ${en(this.b)}${e===1?")":`, ${e})`}`}function al(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function en(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zt(e){return e=en(e),(e<16?"0":"")+e.toString(16)}function Vu(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ge(e,t,n,r)}function Ad(e){if(e instanceof Ge)return new Ge(e.h,e.s,e.l,e.opacity);if(e instanceof qr||(e=Or(e)),!e)return new Ge;if(e instanceof Ge)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),o=NaN,s=l-i,a=(l+i)/2;return s?(t===l?o=(n-r)/s+(n<r)*6:n===l?o=(r-t)/s+2:o=(t-n)/s+4,s/=a<.5?l+i:2-l-i,o*=60):s=a>0&&a<1?0:o,new Ge(o,s,a,e.opacity)}function Ym(e,t,n,r){return arguments.length===1?Ad(e):new Ge(e,t,n,r??1)}function Ge(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ya(Ge,Ym,Ld(qr,{brighter(e){return e=e==null?sl:Math.pow(sl,e),new Ge(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lr:Math.pow(Lr,e),new Ge(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $e(lo(e>=240?e-240:e+120,i,r),lo(e,i,r),lo(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ge(ju(this.h),hi(this.s),hi(this.l),al(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=al(this.opacity);return`${e===1?"hsl(":"hsla("}${ju(this.h)}, ${hi(this.s)*100}%, ${hi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ju(e){return e=(e||0)%360,e<0?e+360:e}function hi(e){return Math.max(0,Math.min(1,e||0))}function lo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Od=e=>()=>e;function Gm(e,t){return function(n){return e+n*t}}function Zm(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bm(e){return(e=+e)==1?Fd:function(t,n){return n-t?Zm(t,n,e):Od(isNaN(t)?n:t)}}function Fd(e,t){var n=t-e;return n?Gm(e,n):Od(isNaN(e)?t:e)}const Bu=function e(t){var n=bm(t);function r(i,l){var o=n((i=fs(i)).r,(l=fs(l)).r),s=n(i.g,l.g),a=n(i.b,l.b),c=Fd(i.opacity,l.opacity);return function(h){return i.r=o(h),i.g=s(h),i.b=a(h),i.opacity=c(h),i+""}}return r.gamma=e,r}(1);function Et(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ds=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oo=new RegExp(ds.source,"g");function Jm(e){return function(){return e}}function ev(e){return function(t){return e(t)+""}}function tv(e,t){var n=ds.lastIndex=oo.lastIndex=0,r,i,l,o=-1,s=[],a=[];for(e=e+"",t=t+"";(r=ds.exec(e))&&(i=oo.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),s[o]?s[o]+=l:s[++o]=l),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,a.push({i:o,x:Et(r,i)})),n=oo.lastIndex;return n<t.length&&(l=t.slice(n),s[o]?s[o]+=l:s[++o]=l),s.length<2?a[0]?ev(a[0].x):Jm(t):(t=a.length,function(c){for(var h=0,d;h<t;++h)s[(d=a[h]).i]=d.x(c);return s.join("")})}var Wu=180/Math.PI,hs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hd(e,t,n,r,i,l){var o,s,a;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),e*r<t*n&&(e=-e,t=-t,a=-a,o=-o),{translateX:i,translateY:l,rotate:Math.atan2(t,e)*Wu,skewX:Math.atan(a)*Wu,scaleX:o,scaleY:s}}var pi;function nv(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hs:Hd(t.a,t.b,t.c,t.d,t.e,t.f)}function rv(e){return e==null||(pi||(pi=document.createElementNS("http://www.w3.org/2000/svg","g")),pi.setAttribute("transform",e),!(e=pi.transform.baseVal.consolidate()))?hs:(e=e.matrix,Hd(e.a,e.b,e.c,e.d,e.e,e.f))}function Ud(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function l(c,h,d,f,u,p){if(c!==d||h!==f){var g=u.push("translate(",null,t,null,n);p.push({i:g-4,x:Et(c,d)},{i:g-2,x:Et(h,f)})}else(d||f)&&u.push("translate("+d+t+f+n)}function o(c,h,d,f){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Et(c,h)})):h&&d.push(i(d)+"rotate("+h+r)}function s(c,h,d,f){c!==h?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Et(c,h)}):h&&d.push(i(d)+"skewX("+h+r)}function a(c,h,d,f,u,p){if(c!==d||h!==f){var g=u.push(i(u)+"scale(",null,",",null,")");p.push({i:g-4,x:Et(c,d)},{i:g-2,x:Et(h,f)})}else(d!==1||f!==1)&&u.push(i(u)+"scale("+d+","+f+")")}return function(c,h){var d=[],f=[];return c=e(c),h=e(h),l(c.translateX,c.translateY,h.translateX,h.translateY,d,f),o(c.rotate,h.rotate,d,f),s(c.skewX,h.skewX,d,f),a(c.scaleX,c.scaleY,h.scaleX,h.scaleY,d,f),c=h=null,function(u){for(var p=-1,g=f.length,_;++p<g;)d[(_=f[p]).i]=_.x(u);return d.join("")}}}var iv=Ud(nv,"px, ","px)","deg)"),lv=Ud(rv,", ",")",")"),ov=1e-12;function Qu(e){return((e=Math.exp(e))+1/e)/2}function sv(e){return((e=Math.exp(e))-1/e)/2}function av(e){return((e=Math.exp(2*e))-1)/(e+1)}const uv=function e(t,n,r){function i(l,o){var s=l[0],a=l[1],c=l[2],h=o[0],d=o[1],f=o[2],u=h-s,p=d-a,g=u*u+p*p,_,m;if(g<ov)m=Math.log(f/c)/t,_=function(E){return[s+E*u,a+E*p,c*Math.exp(t*E*m)]};else{var v=Math.sqrt(g),y=(f*f-c*c+r*g)/(2*c*n*v),w=(f*f-c*c-r*g)/(2*f*n*v),M=Math.log(Math.sqrt(y*y+1)-y),R=Math.log(Math.sqrt(w*w+1)-w);m=(R-M)/t,_=function(E){var N=E*m,H=Qu(M),A=c/(n*v)*(H*av(t*N+M)-sv(M));return[s+A*u,a+A*p,c*H/Qu(t*N+M)]}}return _.duration=m*1e3*t/Math.SQRT2,_}return i.rho=function(l){var o=Math.max(.001,+l),s=o*o,a=s*s;return e(o,s,a)},i}(Math.SQRT2,2,4);var Un=0,sr=0,tr=0,Vd=1e3,ul,ar,cl=0,an=0,Rl=0,Fr=typeof performance=="object"&&performance.now?performance:Date,jd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _a(){return an||(jd(cv),an=Fr.now()+Rl)}function cv(){an=0}function fl(){this._call=this._time=this._next=null}fl.prototype=Bd.prototype={constructor:fl,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_a():+n)+(t==null?0:+t),!this._next&&ar!==this&&(ar?ar._next=this:ul=this,ar=this),this._call=e,this._time=n,ps()},stop:function(){this._call&&(this._call=null,this._time=1/0,ps())}};function Bd(e,t,n){var r=new fl;return r.restart(e,t,n),r}function fv(){_a(),++Un;for(var e=ul,t;e;)(t=an-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Un}function qu(){an=(cl=Fr.now())+Rl,Un=sr=0;try{fv()}finally{Un=0,hv(),an=0}}function dv(){var e=Fr.now(),t=e-cl;t>Vd&&(Rl-=t,cl=e)}function hv(){for(var e,t=ul,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ul=n);ar=e,ps(r)}function ps(e){if(!Un){sr&&(sr=clearTimeout(sr));var t=e-an;t>24?(e<1/0&&(sr=setTimeout(qu,e-Fr.now()-Rl)),tr&&(tr=clearInterval(tr))):(tr||(cl=Fr.now(),tr=setInterval(dv,Vd)),Un=1,jd(qu))}}function Ku(e,t,n){var r=new fl;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var pv=pa("start","end","cancel","interrupt"),gv=[],Wd=0,Xu=1,gs=2,Pi=3,Yu=4,ms=5,Ii=6;function Pl(e,t,n,r,i,l){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;mv(e,n,{name:t,index:r,group:i,on:pv,tween:gv,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Wd})}function wa(e,t){var n=et(e,t);if(n.state>Wd)throw new Error("too late; already scheduled");return n}function at(e,t){var n=et(e,t);if(n.state>Pi)throw new Error("too late; already running");return n}function et(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function mv(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Bd(l,0,n.time);function l(c){n.state=Xu,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,d,f,u;if(n.state!==Xu)return a();for(h in r)if(u=r[h],u.name===n.name){if(u.state===Pi)return Ku(o);u.state===Yu?(u.state=Ii,u.timer.stop(),u.on.call("interrupt",e,e.__data__,u.index,u.group),delete r[h]):+h<t&&(u.state=Ii,u.timer.stop(),u.on.call("cancel",e,e.__data__,u.index,u.group),delete r[h])}if(Ku(function(){n.state===Pi&&(n.state=Yu,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=gs,n.on.call("start",e,e.__data__,n.index,n.group),n.state===gs){for(n.state=Pi,i=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(u=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=u);i.length=d+1}}function s(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=ms,1),d=-1,f=i.length;++d<f;)i[d].call(e,h);n.state===ms&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Ii,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Di(e,t){var n=e.__transition,r,i,l=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){l=!1;continue}i=r.state>gs&&r.state<ms,r.state=Ii,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}l&&delete e.__transition}}function vv(e){return this.each(function(){Di(this,e)})}function yv(e,t){var n,r;return function(){var i=at(this,e),l=i.tween;if(l!==n){r=n=l;for(var o=0,s=r.length;o<s;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function _v(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var l=at(this,e),o=l.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},a=0,c=i.length;a<c;++a)if(i[a].name===t){i[a]=s;break}a===c&&i.push(s)}l.tween=i}}function wv(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=et(this.node(),n).tween,i=0,l=r.length,o;i<l;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?yv:_v)(n,e,t))}function xa(e,t,n){var r=e._id;return e.each(function(){var i=at(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return et(i,r).value[t]}}function Qd(e,t){var n;return(typeof t=="number"?Et:t instanceof Or?Bu:(n=Or(t))?(t=n,Bu):tv)(e,t)}function xv(e){return function(){this.removeAttribute(e)}}function Sv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kv(e,t,n){var r,i=n+"",l;return function(){var o=this.getAttribute(e);return o===i?null:o===r?l:l=t(r=o,n)}}function Cv(e,t,n){var r,i=n+"",l;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?l:l=t(r=o,n)}}function Ev(e,t,n){var r,i,l;return function(){var o,s=n(this),a;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),a=s+"",o===a?null:o===r&&a===i?l:(i=a,l=t(r=o,s)))}}function $v(e,t,n){var r,i,l;return function(){var o,s=n(this),a;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),a=s+"",o===a?null:o===r&&a===i?l:(i=a,l=t(r=o,s)))}}function Tv(e,t){var n=Nl(e),r=n==="transform"?lv:Qd;return this.attrTween(e,typeof t=="function"?(n.local?$v:Ev)(n,r,xa(this,"attr."+e,t)):t==null?(n.local?Sv:xv)(n):(n.local?Cv:kv)(n,r,t))}function Mv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Nv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Rv(e,t){var n,r;function i(){var l=t.apply(this,arguments);return l!==r&&(n=(r=l)&&Nv(e,l)),n}return i._value=t,i}function Pv(e,t){var n,r;function i(){var l=t.apply(this,arguments);return l!==r&&(n=(r=l)&&Mv(e,l)),n}return i._value=t,i}function Iv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Nl(e);return this.tween(n,(r.local?Rv:Pv)(r,t))}function Dv(e,t){return function(){wa(this,e).delay=+t.apply(this,arguments)}}function zv(e,t){return t=+t,function(){wa(this,e).delay=t}}function Lv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Dv:zv)(t,e)):et(this.node(),t).delay}function Av(e,t){return function(){at(this,e).duration=+t.apply(this,arguments)}}function Ov(e,t){return t=+t,function(){at(this,e).duration=t}}function Fv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Av:Ov)(t,e)):et(this.node(),t).duration}function Hv(e,t){if(typeof t!="function")throw new Error;return function(){at(this,e).ease=t}}function Uv(e){var t=this._id;return arguments.length?this.each(Hv(t,e)):et(this.node(),t).ease}function Vv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,e).ease=n}}function jv(e){if(typeof e!="function")throw new Error;return this.each(Vv(this._id,e))}function Bv(e){typeof e!="function"&&(e=Ed(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l=t[i],o=l.length,s=r[i]=[],a,c=0;c<o;++c)(a=l[c])&&e.call(a,a.__data__,c,l)&&s.push(a);return new wt(r,this._parents,this._name,this._id)}function Wv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,l=Math.min(r,i),o=new Array(r),s=0;s<l;++s)for(var a=t[s],c=n[s],h=a.length,d=o[s]=new Array(h),f,u=0;u<h;++u)(f=a[u]||c[u])&&(d[u]=f);for(;s<r;++s)o[s]=t[s];return new wt(o,this._parents,this._name,this._id)}function Qv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qv(e,t,n){var r,i,l=Qv(t)?wa:at;return function(){var o=l(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}function Kv(e,t){var n=this._id;return arguments.length<2?et(this.node(),n).on.on(e):this.each(qv(n,e,t))}function Xv(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Yv(){return this.on("end.remove",Xv(this._id))}function Gv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ma(e));for(var r=this._groups,i=r.length,l=new Array(i),o=0;o<i;++o)for(var s=r[o],a=s.length,c=l[o]=new Array(a),h,d,f=0;f<a;++f)(h=s[f])&&(d=e.call(h,h.__data__,f,s))&&("__data__"in h&&(d.__data__=h.__data__),c[f]=d,Pl(c[f],t,n,f,c,et(h,n)));return new wt(l,this._parents,t,n)}function Zv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cd(e));for(var r=this._groups,i=r.length,l=[],o=[],s=0;s<i;++s)for(var a=r[s],c=a.length,h,d=0;d<c;++d)if(h=a[d]){for(var f=e.call(h,h.__data__,d,a),u,p=et(h,n),g=0,_=f.length;g<_;++g)(u=f[g])&&Pl(u,t,n,g,f,p);l.push(f),o.push(h)}return new wt(l,o,t,n)}var bv=Qr.prototype.constructor;function Jv(){return new bv(this._groups,this._parents)}function ey(e,t){var n,r,i;return function(){var l=Hn(this,e),o=(this.style.removeProperty(e),Hn(this,e));return l===o?null:l===n&&o===r?i:i=t(n=l,r=o)}}function qd(e){return function(){this.style.removeProperty(e)}}function ty(e,t,n){var r,i=n+"",l;return function(){var o=Hn(this,e);return o===i?null:o===r?l:l=t(r=o,n)}}function ny(e,t,n){var r,i,l;return function(){var o=Hn(this,e),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(e),Hn(this,e))),o===a?null:o===r&&a===i?l:(i=a,l=t(r=o,s))}}function ry(e,t){var n,r,i,l="style."+t,o="end."+l,s;return function(){var a=at(this,e),c=a.on,h=a.value[l]==null?s||(s=qd(t)):void 0;(c!==n||i!==h)&&(r=(n=c).copy()).on(o,i=h),a.on=r}}function iy(e,t,n){var r=(e+="")=="transform"?iv:Qd;return t==null?this.styleTween(e,ey(e,r)).on("end.style."+e,qd(e)):typeof t=="function"?this.styleTween(e,ny(e,r,xa(this,"style."+e,t))).each(ry(this._id,e)):this.styleTween(e,ty(e,r,t),n).on("end.style."+e,null)}function ly(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function oy(e,t,n){var r,i;function l(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&ly(e,o,n)),r}return l._value=t,l}function sy(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,oy(e,t,n??""))}function ay(e){return function(){this.textContent=e}}function uy(e){return function(){var t=e(this);this.textContent=t??""}}function cy(e){return this.tween("text",typeof e=="function"?uy(xa(this,"text",e)):ay(e==null?"":e+""))}function fy(e){return function(t){this.textContent=e.call(this,t)}}function dy(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&fy(i)),t}return r._value=e,r}function hy(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,dy(e))}function py(){for(var e=this._name,t=this._id,n=Kd(),r=this._groups,i=r.length,l=0;l<i;++l)for(var o=r[l],s=o.length,a,c=0;c<s;++c)if(a=o[c]){var h=et(a,t);Pl(a,e,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new wt(r,this._parents,e,n)}function gy(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(l,o){var s={value:o},a={value:function(){--i===0&&l()}};n.each(function(){var c=at(this,r),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(a)),c.on=t}),i===0&&l()})}var my=0;function wt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Kd(){return++my}var ut=Qr.prototype;wt.prototype={constructor:wt,select:Gv,selectAll:Zv,selectChild:ut.selectChild,selectChildren:ut.selectChildren,filter:Bv,merge:Wv,selection:Jv,transition:py,call:ut.call,nodes:ut.nodes,node:ut.node,size:ut.size,empty:ut.empty,each:ut.each,on:Kv,attr:Tv,attrTween:Iv,style:iy,styleTween:sy,text:cy,textTween:hy,remove:Yv,tween:wv,delay:Lv,duration:Fv,ease:Uv,easeVarying:jv,end:gy,[Symbol.iterator]:ut[Symbol.iterator]};function vy(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yy={time:null,delay:0,duration:250,ease:vy};function _y(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function wy(e){var t,n;e instanceof wt?(t=e._id,e=e._name):(t=Kd(),(n=yy).time=_a(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,l=0;l<i;++l)for(var o=r[l],s=o.length,a,c=0;c<s;++c)(a=o[c])&&Pl(a,e,t,c,o,n||_y(a,t));return new wt(r,this._parents,e,t)}Qr.prototype.interrupt=vv;Qr.prototype.transition=wy;const vs=Math.PI,ys=2*vs,Kt=1e-6,xy=ys-Kt;function Xd(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Sy(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Xd;const n=10**t;return function(r){this._+=r[0];for(let i=1,l=r.length;i<l;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ky{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Xd:Sy(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,l,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+l},${this._y1=+o}`}arcTo(t,n,r,i,l){if(t=+t,n=+n,r=+r,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,s=this._y1,a=r-t,c=i-n,h=o-t,d=s-n,f=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>Kt)if(!(Math.abs(d*a-c*h)>Kt)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let u=r-o,p=i-s,g=a*a+c*c,_=u*u+p*p,m=Math.sqrt(g),v=Math.sqrt(f),y=l*Math.tan((vs-Math.acos((g+f-_)/(2*m*v)))/2),w=y/v,M=y/m;Math.abs(w-1)>Kt&&this._append`L${t+w*h},${n+w*d}`,this._append`A${l},${l},0,0,${+(d*u>h*p)},${this._x1=t+M*a},${this._y1=n+M*c}`}}arc(t,n,r,i,l,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),a=r*Math.sin(i),c=t+s,h=n+a,d=1^o,f=o?i-l:l-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Kt||Math.abs(this._y1-h)>Kt)&&this._append`L${c},${h}`,r&&(f<0&&(f=f%ys+ys),f>xy?this._append`A${r},${r},0,1,${d},${t-s},${n-a}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:f>Kt&&this._append`A${r},${r},0,${+(f>=vs)},${d},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Cy(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Ey(){return this.eachAfter(Cy)}function $y(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Ty(e,t){for(var n=this,r=[n],i,l,o=-1;n=r.pop();)if(e.call(t,n,++o,this),i=n.children)for(l=i.length-1;l>=0;--l)r.push(i[l]);return this}function My(e,t){for(var n=this,r=[n],i=[],l,o,s,a=-1;n=r.pop();)if(i.push(n),l=n.children)for(o=0,s=l.length;o<s;++o)r.push(l[o]);for(;n=i.pop();)e.call(t,n,++a,this);return this}function Ny(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Ry(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Py(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Iy(e){for(var t=this,n=Dy(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Dy(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function zy(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Ly(){return Array.from(this)}function Ay(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Oy(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Fy(){var e=this,t,n=[e],r,i,l;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,l=r.length;i<l;++i)n.push(r[i]);while(n.length)}function Vn(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Vy)):t===void 0&&(t=Uy);for(var n=new Hr(e),r,i=[n],l,o,s,a;r=i.pop();)if((o=t(r.data))&&(a=(o=Array.from(o)).length))for(r.children=o,s=a-1;s>=0;--s)i.push(l=o[s]=new Hr(o[s])),l.parent=r,l.depth=r.depth+1;return n.eachBefore(By)}function Hy(){return Vn(this).eachBefore(jy)}function Uy(e){return e.children}function Vy(e){return Array.isArray(e)?e[1]:null}function jy(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function By(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Hr(e){this.data=e,this.depth=this.height=0,this.parent=null}Hr.prototype=Vn.prototype={constructor:Hr,count:Ey,each:$y,eachAfter:My,eachBefore:Ty,find:Ny,sum:Ry,sort:Py,path:Iy,ancestors:zy,descendants:Ly,leaves:Ay,links:Oy,copy:Hy,[Symbol.iterator]:Fy};function Wy(e,t){return e.parent===t.parent?1:2}function so(e){var t=e.children;return t?t[0]:e.t}function ao(e){var t=e.children;return t?t[t.length-1]:e.t}function Qy(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function qy(e){for(var t=0,n=0,r=e.children,i=r.length,l;--i>=0;)l=r[i],l.z+=t,l.m+=t,t+=l.s+(n+=l.c)}function Ky(e,t,n){return e.a.parent===t.parent?e.a:n}function zi(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}zi.prototype=Object.create(Hr.prototype);function Xy(e){for(var t=new zi(e,0),n,r=[t],i,l,o,s;n=r.pop();)if(l=n._.children)for(n.children=new Array(s=l.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new zi(l[o],o)),i.parent=n;return(t.parent=new zi(null,0)).children=[t],t}function Yy(){var e=Wy,t=1,n=1,r=null;function i(c){var h=Xy(c);if(h.eachAfter(l),h.parent.m=-h.z,h.eachBefore(o),r)c.eachBefore(a);else{var d=c,f=c,u=c;c.eachBefore(function(v){v.x<d.x&&(d=v),v.x>f.x&&(f=v),v.depth>u.depth&&(u=v)});var p=d===f?1:e(d,f)/2,g=p-d.x,_=t/(f.x+p+g),m=n/(u.depth||1);c.eachBefore(function(v){v.x=(v.x+g)*_,v.y=v.depth*m})}return c}function l(c){var h=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(h){qy(c);var u=(h[0].z+h[h.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-u):c.z=u}else f&&(c.z=f.z+e(c._,f._));c.parent.A=s(c,f,c.parent.A||d[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,h,d){if(h){for(var f=c,u=c,p=h,g=f.parent.children[0],_=f.m,m=u.m,v=p.m,y=g.m,w;p=ao(p),f=so(f),p&&f;)g=so(g),u=ao(u),u.a=c,w=p.z+v-f.z-_+e(p._,f._),w>0&&(Qy(Ky(p,c,d),c,w),_+=w,m+=w),v+=p.m,_+=f.m,y+=g.m,m+=u.m;p&&!ao(u)&&(u.t=p,u.m+=v-m),f&&!so(g)&&(g.t=f,g.m+=_-y,d=c)}return d}function a(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function dn(e){return function(){return e}}function Gy(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ky(t)}function Zy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Yd(e){this._context=e}Yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function by(e){return new Yd(e)}function Jy(e){return e[0]}function e1(e){return e[1]}function Gu(e,t){var n=dn(!0),r=null,i=by,l=null,o=Gy(s);e=typeof e=="function"?e:e===void 0?Jy:dn(e),t=typeof t=="function"?t:t===void 0?e1:dn(t);function s(a){var c,h=(a=Zy(a)).length,d,f=!1,u;for(r==null&&(l=i(u=o())),c=0;c<=h;++c)!(c<h&&n(d=a[c],c,a))===f&&((f=!f)?l.lineStart():l.lineEnd()),f&&l.point(+e(d,c,a),+t(d,c,a));if(u)return l=null,u+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:dn(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:dn(+a),s):t},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:dn(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(l=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=l=null:l=i(r=a),s):r},s}function Zu(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Gd(e){this._context=e}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t1(e){return new Gd(e)}function bu(e){return e<0?-1:1}function Ju(e,t,n){var r=e._x1-e._x0,i=t-e._x1,l=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(l*i+o*r)/(r+i);return(bu(l)+bu(o))*Math.min(Math.abs(l),Math.abs(o),.5*Math.abs(s))||0}function ec(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function uo(e,t,n){var r=e._x0,i=e._y0,l=e._x1,o=e._y1,s=(l-r)/3;e._context.bezierCurveTo(r+s,i+s*t,l-s,o-s*n,l,o)}function _s(e){this._context=e}_s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uo(this,this._t0,ec(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,uo(this,ec(this,n=Ju(this,e,t)),n);break;default:uo(this,this._t0,n=Ju(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Zd(e){this._context=new bd(e)}(Zd.prototype=Object.create(_s.prototype)).point=function(e,t){_s.prototype.point.call(this,t,e)};function bd(e){this._context=e}bd.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,l){this._context.bezierCurveTo(t,e,r,n,l,i)}};function n1(e){return new Zd(e)}const gi=e=>()=>e;function r1(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pt(e,t,n){this.k=e,this.x=t,this.y=n}pt.prototype={constructor:pt,scale:function(e){return e===1?this:new pt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new pt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sa=new pt(1,0,0);pt.prototype;function co(e){e.stopImmediatePropagation()}function nr(e){e.preventDefault(),e.stopImmediatePropagation()}function i1(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function l1(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function tc(){return this.__zoom||Sa}function o1(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function s1(){return navigator.maxTouchPoints||"ontouchstart"in this}function a1(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],l=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>l?(l+o)/2:Math.min(0,l)||Math.max(0,o))}function u1(){var e=i1,t=l1,n=a1,r=o1,i=s1,l=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,a=uv,c=pa("start","zoom","end"),h,d,f,u=500,p=150,g=0,_=10;function m(S){S.property("__zoom",tc).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",A).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(S,L,T,$){var x=S.selection?S.selection():S;x.property("__zoom",tc),S!==x?M(S,L,T,$):x.interrupt().each(function(){R(this,arguments).event($).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},m.scaleBy=function(S,L,T,$){m.scaleTo(S,function(){var x=this.__zoom.k,k=typeof L=="function"?L.apply(this,arguments):L;return x*k},T,$)},m.scaleTo=function(S,L,T,$){m.transform(S,function(){var x=t.apply(this,arguments),k=this.__zoom,C=T==null?w(x):typeof T=="function"?T.apply(this,arguments):T,D=k.invert(C),I=typeof L=="function"?L.apply(this,arguments):L;return n(y(v(k,I),C,D),x,o)},T,$)},m.translateBy=function(S,L,T,$){m.transform(S,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),o)},null,$)},m.translateTo=function(S,L,T,$,x){m.transform(S,function(){var k=t.apply(this,arguments),C=this.__zoom,D=$==null?w(k):typeof $=="function"?$.apply(this,arguments):$;return n(Sa.translate(D[0],D[1]).scale(C.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof T=="function"?-T.apply(this,arguments):-T),k,o)},$,x)};function v(S,L){return L=Math.max(l[0],Math.min(l[1],L)),L===S.k?S:new pt(L,S.x,S.y)}function y(S,L,T){var $=L[0]-T[0]*S.k,x=L[1]-T[1]*S.k;return $===S.x&&x===S.y?S:new pt(S.k,$,x)}function w(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function M(S,L,T,$){S.on("start.zoom",function(){R(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event($).end()}).tween("zoom",function(){var x=this,k=arguments,C=R(x,k).event($),D=t.apply(x,k),I=T==null?w(D):typeof T=="function"?T.apply(x,k):T,U=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),V=x.__zoom,W=typeof L=="function"?L.apply(x,k):L,G=a(V.invert(I).concat(U/V.k),W.invert(I).concat(U/W.k));return function(se){if(se===1)se=W;else{var Qe=G(se),qn=U/Qe[2];se=new pt(qn,I[0]-Qe[0]*qn,I[1]-Qe[1]*qn)}C.zoom(null,se)}})}function R(S,L,T){return!T&&S.__zooming||new E(S,L)}function E(S,L){this.that=S,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(S,L),this.taps=0}E.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,L){return this.mouse&&S!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var L=z(this.that).datum();c.call(S,this.that,new r1(S,{sourceEvent:this.sourceEvent,target:m,type:S,transform:this.that.__zoom,dispatch:c}),L)}};function N(S,...L){if(!e.apply(this,arguments))return;var T=R(this,L).event(S),$=this.__zoom,x=Math.max(l[0],Math.min(l[1],$.k*Math.pow(2,r.apply(this,arguments)))),k=Wt(S);if(T.wheel)(T.mouse[0][0]!==k[0]||T.mouse[0][1]!==k[1])&&(T.mouse[1]=$.invert(T.mouse[0]=k)),clearTimeout(T.wheel);else{if($.k===x)return;T.mouse=[k,$.invert(k)],Di(this),T.start()}nr(S),T.wheel=setTimeout(C,p),T.zoom("mouse",n(y(v($,x),T.mouse[0],T.mouse[1]),T.extent,o));function C(){T.wheel=null,T.end()}}function H(S,...L){if(f||!e.apply(this,arguments))return;var T=S.currentTarget,$=R(this,L,!0).event(S),x=z(S.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",U,!0),k=Wt(S,T),C=S.clientX,D=S.clientY;Am(S.view),co(S),$.mouse=[k,this.__zoom.invert(k)],Di(this),$.start();function I(V){if(nr(V),!$.moved){var W=V.clientX-C,G=V.clientY-D;$.moved=W*W+G*G>g}$.event(V).zoom("mouse",n(y($.that.__zoom,$.mouse[0]=Wt(V,T),$.mouse[1]),$.extent,o))}function U(V){x.on("mousemove.zoom mouseup.zoom",null),Om(V.view,$.moved),nr(V),$.event(V).end()}}function A(S,...L){if(e.apply(this,arguments)){var T=this.__zoom,$=Wt(S.changedTouches?S.changedTouches[0]:S,this),x=T.invert($),k=T.k*(S.shiftKey?.5:2),C=n(y(v(T,k),$,x),t.apply(this,L),o);nr(S),s>0?z(this).transition().duration(s).call(M,C,$,S):z(this).call(m.transform,C,$,S)}}function F(S,...L){if(e.apply(this,arguments)){var T=S.touches,$=T.length,x=R(this,L,S.changedTouches.length===$).event(S),k,C,D,I;for(co(S),C=0;C<$;++C)D=T[C],I=Wt(D,this),I=[I,this.__zoom.invert(I),D.identifier],x.touch0?!x.touch1&&x.touch0[2]!==I[2]&&(x.touch1=I,x.taps=0):(x.touch0=I,k=!0,x.taps=1+!!h);h&&(h=clearTimeout(h)),k&&(x.taps<2&&(d=I[0],h=setTimeout(function(){h=null},u)),Di(this),x.start())}}function B(S,...L){if(this.__zooming){var T=R(this,L).event(S),$=S.changedTouches,x=$.length,k,C,D,I;for(nr(S),k=0;k<x;++k)C=$[k],D=Wt(C,this),T.touch0&&T.touch0[2]===C.identifier?T.touch0[0]=D:T.touch1&&T.touch1[2]===C.identifier&&(T.touch1[0]=D);if(C=T.that.__zoom,T.touch1){var U=T.touch0[0],V=T.touch0[1],W=T.touch1[0],G=T.touch1[1],se=(se=W[0]-U[0])*se+(se=W[1]-U[1])*se,Qe=(Qe=G[0]-V[0])*Qe+(Qe=G[1]-V[1])*Qe;C=v(C,Math.sqrt(se/Qe)),D=[(U[0]+W[0])/2,(U[1]+W[1])/2],I=[(V[0]+G[0])/2,(V[1]+G[1])/2]}else if(T.touch0)D=T.touch0[0],I=T.touch0[1];else return;T.zoom("touch",n(y(C,D,I),T.extent,o))}}function X(S,...L){if(this.__zooming){var T=R(this,L).event(S),$=S.changedTouches,x=$.length,k,C;for(co(S),f&&clearTimeout(f),f=setTimeout(function(){f=null},u),k=0;k<x;++k)C=$[k],T.touch0&&T.touch0[2]===C.identifier?delete T.touch0:T.touch1&&T.touch1[2]===C.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(C=Wt(C,this),Math.hypot(d[0]-C[0],d[1]-C[1])<_)){var D=z(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return m.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:gi(+S),m):r},m.filter=function(S){return arguments.length?(e=typeof S=="function"?S:gi(!!S),m):e},m.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:gi(!!S),m):i},m.extent=function(S){return arguments.length?(t=typeof S=="function"?S:gi([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),m):t},m.scaleExtent=function(S){return arguments.length?(l[0]=+S[0],l[1]=+S[1],m):[l[0],l[1]]},m.translateExtent=function(S){return arguments.length?(o[0][0]=+S[0][0],o[1][0]=+S[1][0],o[0][1]=+S[0][1],o[1][1]=+S[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(S){return arguments.length?(n=S,m):n},m.duration=function(S){return arguments.length?(s=+S,m):s},m.interpolate=function(S){return arguments.length?(a=S,m):a},m.on=function(){var S=c.on.apply(c,arguments);return S===c?m:S},m.clickDistance=function(S){return arguments.length?(g=(S=+S)*S,m):Math.sqrt(g)},m.tapDistance=function(S){return arguments.length?(_=+S,m):_},m}function c1(e,t,n){if(!t.rels.children)return;const r=t.rels.spouses||[];return e.sort((i,l)=>{const o=nc(i,t,n),s=nc(l,t,n),a=o?r.indexOf(o.id):-1,c=s?r.indexOf(s.id):-1;return t.data.gender==="M"?a-c:c-a})}function f1(e){return e.sort((t,n)=>{const r=t._new_rel_data,i=n._new_rel_data;return r&&!i?1:!r&&i?-1:0})}function nc(e,t,n){return n.find(r=>r.id!==t.id&&e.rels.parents.includes(r.id))}function jn(e,t,n){if(e.exiting=n,t)if(e.depth===0&&!e.spouse)e._x=e.x,e._y=e.y;else if(e.spouse)e._x=e.spouse.x,e._y=e.spouse.y;else if(e.is_ancestry){if(!e.parent)throw new Error("no parent");e._x=e.parent.x,e._y=e.parent.y}else e._x=e.psx,e._y=e.psy;else if(n){const r=e.x>0?1:-1,i=e.y>0?1:-1;e._x=e.x+400*r,e._y=e.y+400*i}}function d1({tree:e,data_stash:t,node_separation:n,sortChildrenFunction:r}){const i=e.find(f=>f.data.main);if(!i)throw new Error("no main");const l=i.data.rels.parents[0],o=i.data.rels.parents[1],s=c(i);if(s.length>0&&!i.parents)throw new Error("no parents");const a=h(i);d(i);function c(f){return t.filter(u=>u.id===f.data.id?!1:!!(l&&u.rels.parents.includes(l)||o&&u.rels.parents.includes(o)))}function h(f){const u=[];for(let p=0;p<s.length;p++){const g={data:s[p],sibling:!0,x:0,y:f.y,depth:f.depth-1,parents:[]},_=f.parents.find(v=>v.data.id===g.data.rels.parents[0]),m=f.parents.find(v=>v.data.id===g.data.rels.parents[1]);_&&g.parents.push(_),m&&g.parents.push(m),e.push(g),u.push(g)}return u}function d(f){var u,p;const g=[f,...a];r&&g.sort((w,M)=>r(w.data,M.data)),g.sort((w,M)=>{const R=f.parents.find(A=>A.data.id===w.data.rels.parents[0]),E=f.parents.find(A=>A.data.id===w.data.rels.parents[1]),N=f.parents.find(A=>A.data.id===M.data.rels.parents[0]),H=f.parents.find(A=>A.data.id===M.data.rels.parents[1]);return!E&&H?-1:E&&!H||!R&&N?1:R&&!N?-1:0});const _=f.x,m=(f.spouses||[]).map(w=>w.x),v=ss([_,...m]),y=g.findIndex(w=>w.data.id===f.data.id);for(let w=0;w<g.length;w++){if(w===y)continue;const M=g[w];w<y?M.x=((u=v[0])!==null&&u!==void 0?u:0)-n*(y-w):M.x=((p=v[1])!==null&&p!==void 0?p:0)+n*(w-y)}}}function h1({tree:e,data_stash:t,private_cards_config:n}){const r={},i=n.condition;if(!i)return console.error("private_cards_config.condition is not set");e.forEach(o=>{if(o.data._new_rel_data)return;const s=l(o.data.id);s&&(o.is_private=s)});function l(o){const s=[];let a=!1;return c(o),r[o]=a,a;function c(h){if(a)return;if(r.hasOwnProperty(h))return a=r[h],a;const d=t.find(u=>u.id===h);if(!d)throw new Error("no d");if(d._new_rel_data)return;if(i(d))return a=!0,!0;const f=d.rels;[...f.parents,...f.spouses||[]].forEach(u=>{u&&(s.includes(u)||(s.push(u),c(u)))})}}}function p1(e,t){const n=t.find(s=>s.id===e);if(!n)throw new Error("no datum");const r=Vn(n,s=>o(s)),i=Vn(n,s=>l(s));return{ancestry:r.height,progeny:i.height};function l(s){return[...s.rels.children||[]].map(a=>t.find(c=>c.id===a)).filter(a=>a&&!a._new_rel_data&&!a.to_add)}function o(s){return s.rels.parents.filter(a=>a).map(a=>t.find(c=>c.id===a)).filter(a=>a&&!a._new_rel_data&&!a.to_add)}}function $t({data:e,rels:t}){return{id:g1(),data:e||{},rels:Object.assign({parents:[],children:[],spouses:[]},t||{})}}function g1(){var e=new Date().getTime(),t=performance&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=Math.random()*16;return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(n==="x"?r:r&3|8).toString(16)})}function m1(e,t){const n=e.data.rels;return[...n.parents,...n.spouses||[],...n.children||[]].filter(i=>i).every(i=>t.some(l=>l.data.id===i))}function Kr(e,t,n){const r=n*.4,i=Math.max(...e.data.map(o=>o.is_ancestry?o.depth:0));let l=t.depth*r;return(t.depth!==0||t.spouse)&&!t.is_ancestry&&(l+=i*r,t.spouse&&(l+=r),l+=t.depth*r),l}function v1(e){e.forEach(t=>{var r;if(!t.spouse)return;const n=t.spouse;if(t.duplicate&&n.data._tgdp_sp){const i=n.data.main?"main":n.parent.data.id;(r=n.data._tgdp_sp[i])!=null&&r.hasOwnProperty(t.data.id)&&(t._toggle=n.data._tgdp_sp[i][t.data.id])}})}function y1(e,t,n=!0){const r=[];i(e),f(r);function i(u){if(!u.children)return;const p=u.data,g=(u.data.rels.spouses||[]).map(m=>t.find(v=>v.id===m)),_=d(u);g.forEach(m=>{if(r.some(y=>y.some(w=>h([p,m],[w.p1,w.p2]))))return;const v=c(u,p,m);if(v.length>0){const y=[{d:u,p1:p,p2:m},...v];r.push(y),l(y),o(y)}else{let y=e===u?"main":u.parent.data.id;s(u,y,m),(_[m.id]||[]).forEach(w=>{i(w)})}})}function l(u){if(u.forEach(({d:p,p1:g,p2:_},m)=>{p.data._tgdp_sp||(p.data._tgdp_sp={});let v=e===p?"main":p.parent.data.id;a(p,v,_),p.data._tgdp_sp[v]||(p.data._tgdp_sp[v]={});let y=1;p.data._tgdp_sp[v].hasOwnProperty(_.id)?y=p.data._tgdp_sp[v][_.id]:p.data._tgdp_sp[v][_.id]=y,u[m].val=y}),n){if(u.every(p=>p.val<0)){const p=u.sort((y,w)=>w.val-y.val)[0],{d:g,p1:_,p2:m}=p,v=e===g?"main":g.parent.data.id;g.data._tgdp_sp[v][m.id]=1}if(u.filter(p=>p.val>0).length>1){const p=u.sort((g,_)=>_.val-g.val)[0];u.forEach(g=>{if(g===p)return;const{d:_,p1:m,p2:v}=g,y=e===_?"main":_.parent.data.id;_.data._tgdp_sp[y][v.id]=-1})}}}function o(u){u.forEach(({d:p,p1:g,p2:_})=>{const m=e===p?"main":p.parent.data.id;if(p.data._tgdp_sp[m][_.id]<0){const v=d(p);v[_.id]&&(p.children=p.children.filter(y=>!v[_.id].includes(y)),p.children.length===0&&delete p.children)}})}function s(u,p,g){u.data._tgdp_sp&&u.data._tgdp_sp[p]&&u.data._tgdp_sp[p].hasOwnProperty(g.id)&&(u.data.__tgdp_sp||(u.data.__tgdp_sp={}),u.data.__tgdp_sp[p]||(u.data.__tgdp_sp[p]={}),u.data.__tgdp_sp[p][g.id]=u.data._tgdp_sp[p][g.id],delete u.data._tgdp_sp[p][g.id])}function a(u,p,g){u.data.__tgdp_sp&&u.data.__tgdp_sp[p]&&u.data.__tgdp_sp[p].hasOwnProperty(g.id)&&(u.data._tgdp_sp[p][g.id]=u.data.__tgdp_sp[p][g.id],delete u.data.__tgdp_sp[p][g.id])}function c(u,p,g){const _=[];return m(e),_;function m(v){if(v!==u&&v.children){const y=v.data,w=(v.data.rels.spouses||[]).map(R=>t.find(E=>E.id===R)),M=d(v);w.forEach(R=>{h([p,g],[y,R])?_.push({d:v,p1:y,p2:R}):(M[R.id]||[]).forEach(E=>{m(E)})})}}}function h(u,p){return u.every(g=>p.some(_=>g.id===_.id))}function d(u){const p={},g=u;return(u.children||[]).forEach(_=>{const m=_.data.rels,v=m.parents[0]===g.data.id?m.parents[1]:m.parents[0];p[v]||(p[v]=[]),p[v].push(_)}),p}function f(u){let p=0;u.forEach(g=>{p=p+1,g.forEach(_=>{_.d._toggle_id_sp||(_.d._toggle_id_sp={}),_.d._toggle_id_sp[_.p2.id]=p})})}}function _1(e,t=!0){const n=[];r(e),a(n);function r(c){if(c.children){if(n.some(d=>d.includes(c)))return;const h=o(c.children);if(h.length>0){const d=[c,...h];n.push(d),i(d),l(d)}else c.children.forEach(d=>{r(d)})}}function i(c){if(c.forEach(h=>{h.data._tgdp||(h.data._tgdp={});const d=e===h?"main":h.parent.data.id;h.data._tgdp[d]||(h.data._tgdp[d]=-1),h._toggle=h.data._tgdp[d]}),t){if(c.every(h=>h._toggle<0)){const d=c.sort((u,p)=>p._toggle-u._toggle)[0],f=e===d?"main":d.parent.data.id;d.data._tgdp[f]=1}if(c.filter(h=>h._toggle>0).length>1){const h=c.sort((d,f)=>f._toggle-d._toggle)[0];c.forEach(d=>{if(d===h)return;const f=d,u=e===f?"main":f.parent.data.id;f.data._tgdp[u]=-1})}}}function l(c){c.forEach(h=>{const d=e===h?"main":h.parent.data.id;h.data._tgdp[d]<0&&delete h.children})}function o(c){const h=[];return d(e),h;function d(f){f.children&&(s(c,f.children)?h.push(f):f.children.forEach(u=>{d(u)}))}}function s(c,h){return c!==h&&c.every(d=>h.some(f=>d.data.id===f.data.id))}function a(c){let h=0;c.forEach(d=>{h=h+1,d.forEach(f=>{f._toggle_id=h})})}}function rc(e){return e.forEach(n=>{n.rels.parents||(n.rels.parents=[]),n.rels.spouses||(n.rels.spouses=[]),n.rels.children||(n.rels.children=[]),t(n)}),e;function t(n){n.rels.parents||(n.rels.parents=[]),n.rels.father&&n.rels.parents.push(n.rels.father),n.rels.mother&&n.rels.parents.push(n.rels.mother),delete n.rels.father,delete n.rels.mother}}function w1(e,t=!1){return e.forEach(n=>{var r;if(t){let i,l;(r=n.rels.parents)===null||r===void 0||r.forEach(o=>{const s=e.find(a=>a.id===o);if(!s)throw new Error("Parent not found");s.data.gender==="M"&&(i?l=s.id:i=s.id),s.data.gender==="F"&&(l?i=s.id:l=s.id)}),i&&(n.rels.father=i),l&&(n.rels.mother=l),delete n.rels.parents}n.rels.parents&&n.rels.parents.length===0&&delete n.rels.parents,n.rels.spouses&&n.rels.spouses.length===0&&delete n.rels.spouses,n.rels.children&&n.rels.children.length===0&&delete n.rels.children}),e}function x1(e,{main_id:t=null,node_separation:n=250,level_separation:r=150,single_parent_empty_card:i=!0,is_horizontal:l=!1,one_level_rels:o=!1,sortChildrenFunction:s=void 0,sortSpousesFunction:a=void 0,ancestry_depth:c=void 0,progeny_depth:h=void 0,show_siblings_of_main:d=!1,modifyTreeHierarchy:f=void 0,private_cards_config:u=void 0,duplicate_branch_toggle:p=!1,on_toggle_one_close_others:g=!0}){if(!e||!e.length)throw new Error("No data");l&&([n,r]=[r,n]);const _=i?S(e):e;(!t||!_.find($=>$.id===t))&&(t=_[0].id);const m=_.find($=>$.id===t);if(!m)throw new Error("Main not found");const v=R(m,"children",!1),y=R(m,"parents",!0);_.forEach($=>$.main=$===m),E(y,v);const w=N(y,v);B(w),A(w,n),d&&!o&&d1({tree:w,data_stash:_,node_separation:n,sortChildrenFunction:s}),F(w),H(w),w.forEach($=>$.all_rels_displayed=m1($,w)),u&&h1({tree:w,data_stash:_,private_cards_config:u}),S1(w),p&&v1(w);const M=X(w,n,r);return{data:w,data_stash:_,dim:M,main_id:m.id,is_horizontal:l};function R($,x,k){const C=x==="children"?qn:xh,D=Yy().nodeSize([n,r]).separation(V),I=Vn($,C);L(I,k),p&&T(I,_,k),f&&f(I,k),D(I);const U=I.descendants();return U.forEach(K=>{K.x===void 0&&(K.x=0),K.y===void 0&&(K.y=0)}),U;function V(K,re){let ke=1;return k||(W(K,re)||(ke+=.25),o||Qe(K,re)&&(ke+=Sh(K,re)),W(K,re)&&!G(K,re)&&(ke+=.125)),ke}function W(K,re){return K.parent==re.parent}function G(K,re){const ke=[...K.data.rels.parents].sort(),Fe=[...re.data.rels.parents].sort();return ke.length===Fe.length&&ke.every((Il,kh)=>Il===Fe[kh])}function se(K){return K.data.rels.spouses&&K.data.rels.spouses.length>0}function Qe(K,re){return se(K)||se(re)}function qn(K){const re=[...K.rels.children||[]].map(ke=>_.find(Fe=>Fe.id===ke)).filter(ke=>ke!==void 0);return s&&re.sort(s),f1(re),a&&a(K,_),c1(re,K,_),re}function xh(K){let re=[...K.rels.parents];const ke=_.find(Fe=>Fe.id===re[0]);return ke&&ke.data.gender==="F"&&re.reverse(),re.filter(Fe=>Fe).map(Fe=>_.find(Il=>Il.id===Fe)).filter(Fe=>Fe!==void 0)}function Sh(K,re){return((K.data.rels.spouses||[]).length+(re.data.rels.spouses||[]).length)*.5}}function E($,x){const k=($[0].x-x[0].x)/2;$.forEach(C=>C.x-=k),x.forEach(C=>C.x+=k)}function N($,x){return $.forEach(k=>{k.is_ancestry=!0}),$.forEach(k=>k.depth===1?k.parent=x[0]:null),[...x,...$.slice(1)]}function H($){$.forEach(x=>{if(x.y*=x.is_ancestry?-1:1,l){const k=x.x;x.x=x.y,x.y=k}})}function A($,x){for(let k=$.length;k--;){const C=$[k];if(!C.is_ancestry){let D=C.data.rels.spouses||[];if(C._ignore_spouses&&(D=D.filter(I=>!C._ignore_spouses.includes(I))),D.length>0){if(o&&C.depth>0)continue;const I=C.data.data.gender==="M"?-1:1;C.x+=D.length/2*x*I,D.forEach((U,V)=>{const W={data:_.find(G=>G.id===U),added:!0,depth:C.depth,spouse:C,x:C.x-x*(V+1)*I,y:C.y,tid:`${C.data.id}-spouse-${V}`};W.sx=V>0?W.x:W.x+x/2*I,W.sy=V>0?W.y:W.y+x/2*I,C.spouses||(C.spouses=[]),C.spouses.push(W),$.push(W)})}}if(C.parents&&C.parents.length===2){const D=C.parents[0],I=C.parents[1],U=D.x-(D.x-I.x)/2,V=(W,G)=>U+x/2*(W.x<G.x?1:-1);I.x=V(D,I),D.x=V(I,D)}}}function F($){$.forEach(x=>{if(x.is_ancestry||x.depth===0||x.added||x.sibling)return;const k=x.parent,C=((k==null?void 0:k.spouses)||[]).find(I=>x.data.rels.parents.includes(I.data.id));if(k&&C){!k.added&&!C.added&&console.error("no added spouse",k,C);const I=k.added?k:C;D(x,I)}else if(k||C){const I=k||C;if(!I)throw new Error("no progeny parent");I.sx=I.x,I.sy=I.y,D(x,I)}function D(I,U){I.psx=l?U.y:U.sx,I.psy=l?U.sx:U.y}})}function B($){$.forEach(x=>{if(delete x.children,$.forEach(k=>{k.parent===x&&(k.is_ancestry?(x.parents||(x.parents=[]),x.parents.push(k)):(x.children||(x.children=[]),x.children.push(k)))}),x.parents&&x.parents.length===2){const k=x.parents[0],C=x.parents[1];k.coparent=C,C.coparent=k}})}function X($,x,k){l&&([x,k]=[k,x]);const C=ss($,I=>I.x),D=ss($,I=>I.y);if(C[0]===void 0||C[1]===void 0||D[0]===void 0||D[1]===void 0)throw new Error("No extent");return{width:C[1]-C[0]+x,height:D[1]-D[0]+k,x_off:-C[0]+x/2,y_off:-D[0]+k/2}}function S($){const x=[];for(let D=0;D<$.length;D++){const I=$[D];if(I.rels.children&&I.rels.children.length>0){I.rels.spouses||(I.rels.spouses=[]);let U;I.rels.children.forEach(V=>{const W=$.find(G=>G.id===V);if(W.rels.parents.length!==2){if(U||(U=k(I)),U.rels.children||(U.rels.children=[]),U.rels.children.push(W.id),W.rels.parents.length!==1)throw new Error("child has more than 1 parent");W.rels.parents.push(U.id)}})}}return x.forEach(D=>$.push(D)),$;function k(D){return(D.rels.spouses||[]).map(U=>$.find(V=>V.id===U)).filter(U=>U!==void 0).find(U=>U.to_add)||C(D)}function C(D){const I=$t({data:{gender:D.data.gender==="M"?"F":"M"},rels:{spouses:[D.id]}});return I.to_add=!0,x.push(I),D.rels.spouses||(D.rels.spouses=[]),D.rels.spouses.push(I.id),I}}function L($,x){let k=x?c:h;if(o&&(k=1),!k&&k!==0)return $;return C($,0),$;function C(D,I){I===k?D.children&&delete D.children:D.children&&D.children.forEach(U=>{C(U,I+1)})}}function T($,x,k){k?_1($,g):y1($,x,g)}}function S1(e){const t=[];e.forEach(n=>{if(t.includes(n.data.id)){const r=e.filter(i=>i.data.id===n.data.id);r.forEach((i,l)=>{i.tid=`${n.data.id}--x${l+1}`,i.duplicate=r.length,t.push(n.data.id)})}else n.tid=n.data.id,t.push(n.data.id)})}function k1(e){let t;const n=Object.assign({transition_time:1e3},e);return n.main_id_history=[],n.data&&(f(n.data),rc(n.data)),{state:n,updateTree:u=>{!n.data||n.data.length===0||(n.tree=i(),!n.main_id&&n.tree&&c(n.tree.main_id),t&&t(u))},updateData:u=>{f(u),rc(u),n.data=u,h()},updateMainId:c,getMainId:()=>n.main_id,getData:()=>n.data,getTree:()=>n.tree,setOnUpdate:u=>t=u,getMainDatum:l,getDatum:o,getTreeMainDatum:s,getTreeDatum:a,getLastAvailableMainDatum:d,methods:{}};function i(){const u={main_id:n.main_id};return n.node_separation!==void 0&&(u.node_separation=n.node_separation),n.level_separation!==void 0&&(u.level_separation=n.level_separation),n.single_parent_empty_card!==void 0&&(u.single_parent_empty_card=n.single_parent_empty_card),n.is_horizontal!==void 0&&(u.is_horizontal=n.is_horizontal),n.one_level_rels!==void 0&&(u.one_level_rels=n.one_level_rels),n.modifyTreeHierarchy!==void 0&&(u.modifyTreeHierarchy=n.modifyTreeHierarchy),n.sortChildrenFunction!==void 0&&(u.sortChildrenFunction=n.sortChildrenFunction),n.sortSpousesFunction!==void 0&&(u.sortSpousesFunction=n.sortSpousesFunction),n.ancestry_depth!==void 0&&(u.ancestry_depth=n.ancestry_depth),n.progeny_depth!==void 0&&(u.progeny_depth=n.progeny_depth),n.show_siblings_of_main!==void 0&&(u.show_siblings_of_main=n.show_siblings_of_main),n.private_cards_config!==void 0&&(u.private_cards_config=n.private_cards_config),n.duplicate_branch_toggle!==void 0&&(u.duplicate_branch_toggle=n.duplicate_branch_toggle),x1(n.data,u)}function l(){const u=n.data.find(p=>p.id===n.main_id);if(!u)throw new Error("Main datum not found");return u}function o(u){const p=n.data.find(g=>g.id===u);if(p)return p}function s(){if(!n.tree)throw new Error("No tree");const u=n.tree.data.find(p=>p.data.id===n.main_id);if(!u)throw new Error("No tree main datum");return u}function a(u){if(!n.tree)throw new Error("No tree");const p=n.tree.data.find(g=>g.data.id===u);if(p)return p}function c(u){u!==n.main_id&&(n.main_id_history=n.main_id_history.filter(p=>p!==u).slice(-10),n.main_id_history.push(u),n.main_id=u)}function h(){n.main_id?!n.data.find(p=>p.id===n.main_id)&&n.data.length>0&&c(n.data[0].id):n.data.length>0&&c(n.data[0].id)}function d(){let u=n.main_id_history.slice(0).reverse().find(g=>o(g));if(!u&&n.data.length>0&&(u=n.data[0].id),!u)throw new Error("No main id");u!==n.main_id&&c(u);const p=o(u);if(!p)throw new Error("Main datum not found");return p}function f(u){if(n.legacy_format===void 0){for(let p of u)if(p.rels.father||p.rels.mother){n.legacy_format=!0;return}n.legacy_format=!1}}}function Jd({t:e,svg:t,transition_time:n=2e3}){const r=$1(t),i=r.__zoomObj;z(r).transition().duration(n||0).delay(n?100:0).call(i.transform,Sa.scale(e.k).translate(e.x,e.y))}function ic({svg:e,svg_dim:t,tree_dim:n,transition_time:r}){const i=C1(t,n);Jd({t:i,svg:e,transition_time:r})}function C1(e,t){let n=Math.min(e.width/t.width,e.height/t.height);n>1&&(n=1);const r=t.x_off+(e.width-t.width*n)/n/2,i=t.y_off+(e.height-t.height*n)/n/2;return{k:n,x:r,y:i}}function E1({datum:e,svg:t,svg_dim:n,scale:r,transition_time:i}){const l=r||1,o=n.width/2-e.x*l,s=n.height/2-e.y,a={k:l,x:o/l,y:s/l};Jd({t:a,svg:t,transition_time:i})}function $1(e){const t=e.__zoomObj?e:e.parentNode;if(!t.__zoomObj)throw new Error("Zoom object not found");return t}function T1(e,t={}){if(e.__zoom){console.log("zoom already setup");return}const n=e.querySelector(".view"),r=u1().on("zoom",t.onZoom||i);z(e).call(r),e.__zoomObj=r,t.zoom_polite&&r.filter(l);function i(o){z(n).attr("transform",o.transform)}function l(o){return o.type==="wheel"&&!o.ctrlKey?!1:!(o.touches&&o.touches.length<2)}}function M1(e,t=!1){const n=[];return(e.spouses||e.coparent)&&l(e),r(e),i(e),n;function r(u){if(!u.parents)return;const p=u.parents[0],g=u.parents[1]||p,_={x:o(p,g,"x"),y:o(p,g,"y")};n.push({d:a(u,_),_d:()=>{const m={x:u.x,y:u.y},v={x:u.x,y:u.y};return a(m,v)},curve:!0,id:d(u,p,g),depth:u.depth+1,is_ancestry:!0,source:u,target:[p,g]})}function i(u){!u.children||u.children.length===0||u.children.forEach((p,g)=>{const _=f(p,u)||u,m=_.sx;if(typeof m!="number")throw new Error("sx is not a number");const v=t?{x:u.x,y:m}:{x:m,y:u.y};n.push({d:a(p,v),_d:()=>a(v,{x:s(v,"x"),y:s(v,"y")}),curve:!0,id:d(p,u,_),depth:u.depth+1,is_ancestry:!1,source:[u,_],target:p})})}function l(u){u.spouses?u.spouses.forEach(g=>n.push(p(u,g))):u.coparent&&n.push(p(u,u.coparent));function p(g,_){return{d:[[g.x,g.y],[_.x,_.y]],_d:()=>[g.is_ancestry?[s(g,"x")-1e-4,s(g,"y")]:[g.x,g.y],g.is_ancestry?[s(_,"x"),s(_,"y")]:[g.x-1e-4,g.y]],curve:!1,id:d(g,_),depth:g.depth,spouse:!0,is_ancestry:_.is_ancestry,source:g,target:_}}}function o(u,p,g,_=!1){return _?s(u,g)-(s(u,g)-s(p,g))/2:u[g]-(u[g]-p[g])/2}function s(u,p){const g=u.hasOwnProperty(`_${p}`)?u[`_${p}`]:u[p];if(typeof g!="number")throw new Error(`${p} is not a number`);return g}function a(u,p){return t?h(u,p):c(u,p)}function c(u,p){const g=u.y+(p.y-u.y)/2;return[[u.x,u.y],[u.x,g],[u.x,g],[p.x,g],[p.x,g],[p.x,p.y]]}function h(u,p){const g=u.x+(p.x-u.x)/2;return[[u.x,u.y],[g,u.y],[g,u.y],[g,p.y],[g,p.y],[p.x,p.y]]}function d(...u){return u.map(p=>p.tid).sort().join(", ")}function f(u,p){return(p.spouses||[]).find(_=>u.data.rels.parents.includes(_.data.id))}}function N1(e,t,n={}){const r=t.data.reduce((f,u)=>(M1(u,t.is_horizontal).forEach(p=>f[p.id]=p),f),{}),i=Object.values(r),l=z(e).select(".links_view").selectAll("path.link").data(i,f=>f.id);if(n.transition_time===void 0)throw new Error("transition_time is undefined");const o=l.exit(),s=l.enter().append("path").attr("class","link"),a=s.merge(l);o.each(d),s.each(c),a.each(h);function c(f){z(this).attr("fill","none").attr("stroke","#fff").attr("stroke-width",1).style("opacity",0).attr("d",fo(f,!0))}function h(f){const u=z(this),p=n.initial?Kr(t,f,n.transition_time):0;u.transition("path").duration(n.transition_time).delay(p).attr("d",fo(f)).style("opacity",1)}function d(f){const u=z(this);u.transition("op").duration(800).style("opacity",0),u.transition("path").duration(n.transition_time).attr("d",fo(f,!0)).on("end",()=>u.remove())}}function fo(e,t=!1){const n=Gu().curve(n1),r=Gu().curve(t1),i=t?e._d():e.d;return e.curve?r(i):n(i)}function R1(e,t,n,r={}){const i=z(e).select(".cards_view").selectAll("g.card_cont").data(t.data,f=>f.data.id),l=i.exit(),o=i.enter().append("g").attr("class","card_cont"),s=o.merge(i);l.each(f=>jn(f,!1,!0)),o.each(f=>jn(f,!0,!1)),l.each(d),i.each(c),o.each(a),s.each(h);function a(f){z(this).attr("transform",`translate(${f._x}, ${f._y})`).style("opacity",0),n.call(this,f)}function c(f){}function h(f){n.call(this,f);const u=r.initial?Kr(t,f,r.transition_time):0;z(this).transition().duration(r.transition_time).delay(u).attr("transform",`translate(${f.x}, ${f.y})`).style("opacity",1)}function d(f){const u=f,p=u?[u._x,u._y]:[0,0],g=z(this);g.transition().duration(r.transition_time).style("opacity",0).attr("transform",`translate(${p[0]}, ${p[1]})`).on("end",()=>g.remove())}}function P1(e,t,n,r={}){const i=u(e),l=z(i).select(".cards_view").selectAll("div.card_cont").data(t.data,p=>p.tid),o=l.exit(),s=l.enter().append("div").attr("class","card_cont").style("pointer-events","none"),a=s.merge(l);o.each(p=>jn(p,!1,!0)),s.each(p=>jn(p,!0,!1)),o.each(f),l.each(h),s.each(c),a.each(d);function c(p){z(this).style("position","absolute").style("top","0").style("left","0").style("transform",`translate(${p._x}px, ${p._y}px)`).style("opacity",0),n.call(this,p)}function h(p){}function d(p){n.call(this,p);const g=r.initial?Kr(t,p,r.transition_time):0;z(this).transition().duration(r.transition_time).delay(g).style("transform",`translate(${p.x}px, ${p.y}px)`).style("opacity",1)}function f(p){const g=p,_=g?[g._x,g._y]:[0,0],m=z(this);m.transition().duration(r.transition_time).style("opacity",0).style("transform",`translate(${_[0]}px, ${_[1]}px)`).on("end",()=>m.remove())}function u(p){if(r.cardHtmlDiv)return r.cardHtmlDiv;const g=p.closest("#f3Canvas");if(!g)throw new Error("canvas not found");const _=g.querySelector("#htmlSvg");if(!_)throw new Error("htmlSvg not found");return _}}function I1(e,t={}){const n=e.getBoundingClientRect(),r=`
    <svg class="main_svg">
      <rect width="${n.width}" height="${n.height}" fill="transparent" />
      <g class="view">
        <g class="links_view"></g>
        <g class="cards_view"></g>
      </g>
      <g style="transform: translate(100%, 100%)">
        <g class="fit_screen_icon cursor-pointer" style="transform: translate(-50px, -50px); display: none">
          <rect width="27" height="27" stroke-dasharray="${27/2}" stroke-dashoffset="${27/4}" 
            style="stroke:#fff;stroke-width:4px;fill:transparent;"/>
          <circle r="5" cx="${27/2}" cy="${27/2}" style="fill:#fff" />          
        </g>
      </g>
    </svg>
  `,i=s(e),l=sn("div").node();l.innerHTML=r;const o=l.querySelector("svg");return i.appendChild(o),e.appendChild(i),T1(i,t),o;function s(a){let c=a.querySelector("#f3Canvas");return c||(c=sn("div").attr("id","f3Canvas").attr("style","position: relative; overflow: hidden; width: 100%; height: 100%;").node()),c}}function eh(e){return I1(e,{onZoom:nh(()=>e.querySelector("svg .view"),()=>e.querySelector("#htmlSvg .cards_view"))}),th(e),{svg:e.querySelector("svg.main_svg"),svgView:e.querySelector("svg .view"),htmlSvg:e.querySelector("#htmlSvg"),htmlView:e.querySelector("#htmlSvg .cards_view")}}function th(e){const n=z(e).select("#f3Canvas").append("div").attr("id","htmlSvg").attr("style","position: absolute; width: 100%; height: 100%; z-index: 2; top: 0; left: 0");return n.append("div").attr("class","cards_view").style("transform-origin","0 0"),n.node()}function nh(e,t){return function(r){const i=r.transform;z(e()).style("transform",`translate(${i.x}px, ${i.y}px) scale(${i.k}) `),z(t()).style("transform",`translate(${i.x}px, ${i.y}px) scale(${i.k}) `)}}var D1=Object.freeze({__proto__:null,createHtmlSvg:th,default:eh,onZoomSetup:nh});function z1(e){let t=[];return function(l){const o=r(l,t);return t=[...l,...o],n(rh(e),t),t};function n(i,l){const o=z(i).selectAll("div.card_cont_2fake").data(l,u=>u.data.id),s=o.exit(),a=o.enter().append("div").attr("class","card_cont_2fake").style("display","none").attr("data-id",()=>Math.random()),c=a.merge(o);s.each(f),a.each(h),c.each(d);function h(u){u.unique_id=z(this).attr("data-id")}function d(u){u.unique_id=z(this).attr("data-id")}function f(u){u&&(u.unique_id=z(this).attr("data-id"),z(this).remove())}}function r(i,l){return l.length>0?l.filter(o=>!i.find(s=>s.data.id===o.data.id)):[]}}function rh(e){return z(e()).select("div.cards_view_fake").node()}function L1(e){z(e()).append("div").attr("class","cards_view_fake").style("display","none")}const A1=z1;function O1(e){return e.unique_id}function F1(e,t,n,r={}){const i=r.cardHtmlDiv?r.cardHtmlDiv:e.closest("#f3Canvas").querySelector("#htmlSvg"),l=z(rh(()=>i)).selectAll("div.card_cont_fake").data(t.data,u=>u.data.id),o=l.exit(),s=l.enter().append("div").attr("class","card_cont_fake").style("display","none"),a=s.merge(l);o.each(u=>jn(u,!1,!0)),s.each(u=>jn(u,!0,!1)),o.each(f),l.each(h),s.each(c),a.each(d);function c(u){z(n(u)).style("position","absolute").style("top","0").style("left","0").style("opacity",0).style("transform",`translate(${u._x}px, ${u._y}px)`)}function h(u){}function d(u){const p=z(n(u)),g=r.initial?Kr(t,u,r.transition_time):0;p.transition().duration(r.transition_time).delay(g).style("transform",`translate(${u.x}px, ${u.y}px)`).style("opacity",1)}function f(u){const p=u,g=p?[p._x,p._y]:[0,0],_=z(n(u)),m=z(this);_.transition().duration(r.transition_time).style("opacity",0).style("transform",`translate(${g[0]}px, ${g[1]}px)`).on("end",()=>m.remove())}}function H1(e,t,n,r={}){r.initial=r.hasOwnProperty("initial")?r.initial:!z(t.parentNode).select(".card_cont").node(),r.transition_time=r.hasOwnProperty("transition_time")?r.transition_time:1e3,r.cardComponent?F1(t,e,n,r):r.cardHtml?P1(t,e,n,r):R1(t,e,n,r),N1(t,e,r);const i=r.tree_position||"fit";return r.initial?ic({svg:t,svg_dim:t.getBoundingClientRect(),tree_dim:e.dim,transition_time:0}):i==="fit"?ic({svg:t,svg_dim:t.getBoundingClientRect(),tree_dim:e.dim,transition_time:r.transition_time}):i==="main_to_middle"&&E1({datum:e.data[0],svg:t,svg_dim:t.getBoundingClientRect(),scale:r.scale,transition_time:r.transition_time}),!0}function ih(e,{d:t}){return e.updateMainId(t.data.id),e.updateTree({}),!0}function U1(e,t){const n=e.rels,r=[...n.parents,...n.spouses||[],...n.children||[]].filter(i=>!!i);for(const i of r){const l=t.find(o=>o.id===i);if(!lh(l,t,[e.id]))return!1}return!0}function lh(e,t,n=[]){const r=t[0];if(e.id===r.id)return!0;const i=[...n];let l=!1;return o(e),l;function o(s){if(l)return;const a=s.rels;[...a.parents,...a.spouses||[],...a.children||[]].filter(h=>!!h).forEach(h=>{if(i.includes(h))return;i.push(h);const d=t.find(f=>f.id===h);d.id===r.id?l=!0:o(d)})}}function V1(e,t,n){n.forEach((r,i)=>e.data[i]=r),j1(e,t),e.to_add&&delete e.to_add,e.unknown&&delete e.unknown}function j1(e,t){Object.keys(e.data).forEach(n=>{if(n.includes("__ref__")){const r=n.split("__ref__")[1],i=t.find(o=>o.id===r);if(!i)return;const l=n.split("__ref__")[0]+"__ref__"+e.id;i.data[l]=e.data[n]}})}function lc(e,t){Object.keys(e.data).forEach(n=>{if(n.includes("__ref__")){const r=n.split("__ref__")[1],i=t.find(o=>o.id===r);if(!i)return;const l=n.split("__ref__")[0]+"__ref__"+e.id;delete i.data[l]}})}function B1(e,t){return oh(e,t,!1),!1}function oh(e,t,n=!0){if(U1(e,t))return r(),n&&ka(t),{success:!0};return i(),{success:!0};function r(){t.forEach(l=>{for(let o in l.rels){if(!l.rels.hasOwnProperty(o))continue;const s=o;Array.isArray(l.rels[s])&&l.rels[s].includes(e.id)&&l.rels[s].splice(l.rels[s].findIndex(a=>a===e.id),1)}}),lc(e,t),t.splice(t.findIndex(l=>l.id===e.id),1),t.length===0&&t.push($t({data:{gender:"M"}}))}function i(){lc(e,t),e.data={gender:e.data.gender},e.unknown=!0}}function W1(e){return ka(e),e.forEach(t=>{delete t.main,delete t._tgdp,delete t._tgdp_sp,delete t.__tgdp_sp}),e.forEach(t=>{Object.keys(t).forEach(n=>{n[0]==="_"&&console.error("key starts with _",n)})}),e}function ka(e){for(let t=e.length-1;t>=0;t--)e[t].to_add&&B1(e[t],e)}function Q1(){return`
    <g data-icon="user-plus">
      ${tt()}
      <path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
    </g>
  `}function q1(){return`
    <g data-icon="user-plus-close">
      ${tt()}
      <path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z" />
      <line x1="3" y1="3" x2="24" y2="24" stroke="currentColor" stroke-width="2" />
    </g>
  `}function sh(){return`
    <g data-icon="plus">
      ${tt()}
      <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" />
    </g>
  `}function K1(){return`
    <g data-icon="pencil">
      ${tt()}
      <path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" />
    </g>
  `}function X1(){return`
    <g data-icon="pencil-off">
      ${tt()}
      <path d="M18.66,2C18.4,2 18.16,2.09 17.97,2.28L16.13,4.13L19.88,7.88L21.72,6.03C22.11,5.64 22.11,5 21.72,4.63L19.38,2.28C19.18,2.09 18.91,2 18.66,2M3.28,4L2,5.28L8.5,11.75L4,16.25V20H7.75L12.25,15.5L18.72,22L20,20.72L13.5,14.25L9.75,10.5L3.28,4M15.06,5.19L11.03,9.22L14.78,12.97L18.81,8.94L15.06,5.19Z" />
    </g>
  `}function Y1(){return`
    <g data-icon="history-back">
      ${tt()}
      <path d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
    </g>
  `}function G1(){return`
    <g data-icon="history-forward">
      ${tt()}
      <path d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
    </g>
  `}function Z1(){return`
    <g data-icon="person">
      <path d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 
        64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 
        0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />
    </g>
  `}function b1(){return`
    <g transform="translate(31,25)" data-icon="mini-tree">
      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
      <g>
        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
        <line y2="-17.5" stroke="#fff" />
        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />
        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />
        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />
      </g>
    </g>
  `}function J1(){return`
    <g data-icon="toggle-on">
      ${tt()}
      <circle class="f3-small-circle" r="4" cx="18" cy="12" />
      <path d="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M17,15A3,3 0 0,1 14,12A3,3 0 0,1 17,9A3,3 0 0,1 20,12A3,3 0 0,1 17,15Z" />
    </g>
  `}function e_(){return`
    <g data-icon="toggle-off">
      ${tt()}
      <circle class="f3-small-circle" r="4" cx="6" cy="12" />
      <path d="M17,7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7M7,15A3,3 0 0,1 4,12A3,3 0 0,1 7,9A3,3 0 0,1 10,12A3,3 0 0,1 7,15Z" />
    </g>
  `}function t_(){return`
    <g data-icon="chevron-down">
      ${tt()}
      <path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
    </g>
  `}function n_(){return`
    <g data-icon="link-off">
      ${tt()}
      <path d="M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.43 19.12,14.63 17.79,15L19.25,16.44C20.88,15.61 22,13.95 
      22,12A5,5 0 0,0 17,7M16,11H13.81L15.81,13H16V11M2,4.27L5.11,7.38C3.29,8.12 2,9.91 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 
      3.9,13.71 3.9,12C3.9,10.41 5.11,9.1 6.66,8.93L8.73,11H8V13H10.73L13,15.27V17H14.73L18.74,21L20,19.74L3.27,3L2,4.27Z" />
    </g>
  `}function r_(){return Oe(Q1())}function i_(){return Oe(q1())}function l_(){return Oe(sh())}function o_(){return Oe(K1())}function s_(){return Oe(X1())}function a_(){return Oe(Y1())}function u_(){return Oe(G1())}function ah(){return Oe(Z1(),"0 0 512 512")}function uh(){return Oe(b1(),"0 0 72 25")}function c_(){return Oe(J1())}function f_(){return Oe(e_())}function d_(){return Oe(t_())}function h_(){return Oe(n_())}function Oe(e,t="0 0 24 24"){const n=e.match(/data-icon="([^"]+)"/),r=n?`data-icon="${n[1]}"`:"";return`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="${t}" style="fill: currentColor" ${r}>
      ${e}
    </svg>
  `}function tt(){return`
    <circle r="12" cx="12" cy="12" style="fill: rgba(0,0,0,0)" />
  `}function p_(e){return` 
    <form id="familyForm" class="f3-form">
      ${hh()}
      <h3 class="f3-form-title">${e.title}</h3>
      ${ch(e)}

      ${fh(e)}
      
      <div class="f3-form-buttons">
        <button type="button" class="f3-cancel-btn">Cancel</button>
        <button type="submit">Submit</button>
      </div>

      ${e.linkExistingRelative?dh(e):""}
    </form>
  `}function g_(e){return` 
    <form id="familyForm" class="f3-form ${e.editable?"":"non-editable"}">
      ${hh()}
      <div style="text-align: right; display: 'block'">
        ${e.no_edit?"":y_(e)}
        ${e.no_edit?w_():__(e)}
      </div>

      ${ch(e)}

      ${fh(e)}
      
      <div class="f3-form-buttons">
        <button type="button" class="f3-cancel-btn">Cancel</button>
        <button type="submit">Submit</button>
      </div>

      ${e.linkExistingRelative?dh(e):""}

      <hr>
      ${m_(e)}

      ${v_(e)}
    </form>
  `}function m_(e){return`
    <div>
      <button type="button" class="f3-delete-btn" ${e.can_delete?"":"disabled"}>
        Delete
      </button>
    </div>
  `}function v_(e){return`
    <div>
      <button type="button" class="f3-remove-relative-btn${e.removeRelativeActive?" active":""}">
        ${e.removeRelativeActive?"Cancel Remove Relation":"Remove Relation"}
      </button>
    </div>
  `}function y_(e){return`
    <span class="f3-add-relative-btn">
      ${e.addRelativeActive?i_():r_()}
    </span>
  `}function __(e){return`
    <span class="f3-edit-btn">
      ${e.editable?s_():o_()}
    </span>
  `}function ch(e){return e.editable?`
    <div class="f3-radio-group">
      ${e.gender_field.options.map(t=>`
        <label>
          <input type="radio" name="${e.gender_field.id}" 
            value="${t.value}" 
            ${t.value===e.gender_field.initial_value?"checked":""}
            ${e.gender_field.disabled?"disabled":""}
          >
          ${t.label}
        </label>
      `).join("")}
    </div>
  `:""}function fh(e){if(!e.editable)return n();let t="";return e.fields.forEach(r=>{if(r.type==="text")t+=`
      <div class="f3-form-field">
        <label>${r.label}</label>
        <input type="${r.type}" 
          name="${r.id}" 
          value="${r.initial_value||""}"
          placeholder="${r.label}">
      </div>`;else if(r.type==="textarea")t+=`
      <div class="f3-form-field">
        <label>${r.label}</label>
        <textarea name="${r.id}" 
          placeholder="${r.label}">${r.initial_value||""}</textarea>
      </div>`;else if(r.type==="select"){const i=r;t+=`
      <div class="f3-form-field">
        <label>${i.label}</label>
        <select name="${i.id}" value="${i.initial_value||""}">
          <option value="">${i.placeholder||`Select ${i.label}`}</option>
          ${i.options.map(l=>`<option ${l.value===i.initial_value?"selected":""} value="${l.value}">${l.label}</option>`).join("")}
        </select>
      </div>`}else r.type==="rel_reference"&&(t+=`
      <div class="f3-form-field">
        <label>${r.label} - <i>${r.rel_label}</i></label>
        <input type="text" 
          name="${r.id}" 
          value="${r.initial_value||""}"
          placeholder="${r.label}">
      </div>`)}),t;function n(){let r="";return e.fields.forEach(i=>{var l;if(i.type==="rel_reference"){if(!i.initial_value)return;r+=`
        <div class="f3-info-field">
          <span class="f3-info-field-label">${i.label} - <i>${i.rel_label}</i></span>
          <span class="f3-info-field-value">${i.initial_value||""}</span>
        </div>`}else if(i.type==="select"){const o=i;if(!i.initial_value)return;r+=`
        <div class="f3-info-field">
          <span class="f3-info-field-label">${o.label}</span>
          <span class="f3-info-field-value">${((l=o.options.find(s=>s.value===o.initial_value))===null||l===void 0?void 0:l.label)||""}</span>
        </div>`}else r+=`
        <div class="f3-info-field">
          <span class="f3-info-field-label">${i.label}</span>
          <span class="f3-info-field-value">${i.initial_value||""}</span>
        </div>`}),r}}function dh(e){const t=e.linkExistingRelative.hasOwnProperty("title")?e.linkExistingRelative.title:"Profile already exists?",n=e.linkExistingRelative.hasOwnProperty("select_placeholder")?e.linkExistingRelative.select_placeholder:"Select profile",r=e.linkExistingRelative.options;return`
    <div>
      <hr>
      <div class="f3-link-existing-relative">
        <label>${t}</label>
        <select>
          <option value="">${n}</option>
          ${r.map(i=>`<option value="${i.value}">${i.label}</option>`).join("")}
        </select>
      </div>
    </div>
  `}function hh(){return`
    <span class="f3-close-btn">
      
    </span>
  `}function w_(){return'<div style="height: 24px;"></div>'}function x_(e,t){return ph(e,t)}function S_(e,t){return ph(e,t)}function ph(e,t){const n=l(e),r=document.createElement("div");return i(),r;function i(){const o=n?p_(e):g_(e);r.innerHTML=o,k_(r,e,t,i),n?C_(r,e):E_(r,e,i),e.onFormCreation&&e.onFormCreation({cont:r,form_creator:e})}function l(o){return"new_rel"in o}}function k_(e,t,n,r){const i=e.querySelector("form");i.addEventListener("submit",t.onSubmit),i.querySelector(".f3-cancel-btn").addEventListener("click",s),i.querySelector(".f3-close-btn").addEventListener("click",n);function s(){t.editable=!1,t.onCancel&&t.onCancel(),r()}}function C_(e,t){const r=e.querySelector("form").querySelector(".f3-link-existing-relative select");r&&r.addEventListener("change",t.linkExistingRelative.onSelect)}function E_(e,t,n){const r=e.querySelector("form"),i=r.querySelector(".f3-edit-btn");i&&i.addEventListener("click",c);const l=r.querySelector(".f3-delete-btn");l&&t.onDelete&&l.addEventListener("click",t.onDelete);const o=r.querySelector(".f3-add-relative-btn");o&&t.addRelative&&o.addEventListener("click",()=>{t.addRelativeActive?t.addRelativeCancel():t.addRelative(),t.addRelativeActive=!t.addRelativeActive,n()});const s=r.querySelector(".f3-remove-relative-btn");s&&t.removeRelative&&s.addEventListener("click",()=>{t.removeRelativeActive?t.removeRelativeCancel():t.removeRelative(),t.removeRelativeActive=!t.removeRelativeActive,n()});const a=r.querySelector(".f3-link-existing-relative select");a&&a.addEventListener("change",t.linkExistingRelative.onSelect);function c(){t.editable=!t.editable,n()}}function $_(e,t,n){let r=[],i=-1;return{changed:l,back:o,forward:s,canForward:a,canBack:c};function l(){i<r.length-1&&(r=r.slice(0,i+1));const d=t();d.main_id=e.getMainId(),r.push(d),i++}function o(){c()&&(i--,h(r[i]))}function s(){a()&&(i++,h(r[i]))}function a(){return i<r.length-1}function c(){return i>0}function h(d){const f=e.getMainId();d=JSON.parse(JSON.stringify(d)),d.find(u=>u.id===f)||e.updateMainId(d.main_id),e.updateData(d),n()}}function T_(e,t){const n=z(e).append("div").attr("class","f3-history-controls");e.insertBefore(n.node(),e.firstChild);const r=n.append("button").attr("class","f3-back-button").on("click",()=>{t.back(),l()}),i=n.append("button").attr("class","f3-forward-button").on("click",()=>{t.forward(),l()});return r.html(a_()),i.html(u_()),{back_btn:r.node(),forward_btn:i.node(),updateButtons:l,destroy:o};function l(){r.classed("disabled",!t.canBack()),i.classed("disabled",!t.canForward()),!t.canBack()&&!t.canForward()?n.style("opacity",0).style("pointer-events","none"):n.style("opacity",1).style("pointer-events","auto")}function o(){z(e).select(".f3-history-controls").remove()}}function gh({d:e,card_dim:t,card_display:n}){return{template:`
    <g class="card-body">
      <rect width="${t.w}" height="${t.h}" class="card-body-rect" />
      ${N_({d:e,card_dim:t,card_display:n}).template}
    </g>
  `}}function M_({d:e,card_dim:t,label:n}){return{template:`
    <g class="card-body">
      <rect class="card-body-rect" width="${t.w}" height="${t.h}" />
      <text transform="translate(${t.img_w+5}, ${t.h/2})">
        <tspan font-size="18" dy="8" pointer-events="none">${n}</tspan>
      </text>
    </g>
  `}}function N_({d:e,card_dim:t,card_display:n}){return{template:`
    <g>
      <g class="card-text" clip-path="url(#card_text_clip)">
        <g transform="translate(${t.text_x}, ${t.text_y})">
          <text>
            ${Array.isArray(n)?n.map(r=>`<tspan x="0" dy="14">${r(e.data)}</tspan>`).join(`
`):n(e.data)}
          </text>
        </g>
      </g>
      <rect width="${t.w-10}" height="${t.h}" style="mask: url(#fade)" class="text-overflow-mask" /> 
    </g>
  `}}function oc({d:e,card_dim:t,is_new:n}){return{template:`
    <rect width="${t.w}" height="${t.h}" rx="4" ry="4" class="card-outline ${e.data.main&&!n?"card-main-outline":""} ${n?"card-new-outline":""}" />
  `}}function R_({d:e,card_dim:t}){return{template:`
    <g class="card_family_tree" style="cursor: pointer">
      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
      <g transform="translate(${t.w*.8},6)scale(.9)">
        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>
        <line y2="-17.5" stroke="#fff" />
        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />
        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />
        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />
      </g>
    </g>
  `}}function P_({d:e,image:t,card_dim:n,maleIcon:r,femaleIcon:i}){return{template:`
    <g style="transform: translate(${n.img_x}px,${n.img_y}px);" class="card_image" clip-path="url(#card_image_clip)">
      ${t?`<image href="${t}" height="${n.img_h}" width="${n.img_w}" preserveAspectRatio="xMidYMin slice" />`:(e.data.data.gender,e.data.data.gender,l())}      
    </g>
  `};function l(){return`
      <g class="genderless-icon">
        <rect height="${n.img_h}" width="${n.img_w}" fill="rgb(59, 85, 96)" />
        <g transform="scale(${n.img_w*.001616})">
         <path transform="translate(50,40)" fill="lightgrey" d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 
            64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 
            0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />
        </g>
      </g>
    `}}function mi(e,t,n){const r=document.createElementNS("http://www.w3.org/2000/svg","g");r.innerHTML=e,n?t.insertBefore(r,t.firstChild):t.appendChild(r)}const sc={miniTree:I_,cardBody:D_,cardImage:z_};function I_(e,t){if(e.data.to_add)return;const n=t.card_dim;if(e.all_rels_displayed)return;const r=sn("svg:g").html(R_({d:e,card_dim:n}).template);return r.on("click",function(i){i.stopPropagation(),t.onMiniTreeClick?t.onMiniTreeClick.call(this,i,e):ih(t.store,{d:e})}),r.node()}function D_(e,t){const n=t.card_dim,r=sn("svg:g").html(gh({d:e,card_dim:n,card_display:t.card_display}).template);return r.on("click",function(i){i.stopPropagation(),t.onCardClick?t.onCardClick.call(this,i,e):ih(t.store,{d:e})}),r.node()}function z_(e,t){if(e.data.to_add)return;const n=t.card_dim;return sn("svg:g").html(P_({d:e,image:e.data.data.avatar||null,card_dim:n,maleIcon:void 0,femaleIcon:void 0}).template).node()}function ac(e,t,n=!1){e&&(n?t.insertBefore(e,t.firstChild):t.appendChild(e))}function L_(e,t,n,r){if(!t.hasOwnProperty("_toggle"))return;const i=e.querySelector(".card"),l=i.querySelector(".card-inner"),o=e.querySelector(".card").offsetWidth;e.querySelector(".card").offsetHeight;let s,a;const c={};if(t.spouse){const d=t.spouse,f=d.data.main?"main":d.parent.data.id;if(s=d.data._tgdp_sp[f][t.data.id]<0,c.top=60,c.left=t.sx-t.x-30+o/2,n&&(c.top=t.sy-t.x+4,c.left=o/2+4,Math.abs(t.sx-t.y)<10&&(c.left=o-4)),a=d._toggle_id_sp?d._toggle_id_sp[t.data.id]:-1,a===-1)return}else{const d=t.data.main?"main":t.parent.data.id;s=t.data._tgdp[d]<0,c.top=-65,c.left=-30+o/2,n&&(c.top=5,c.left=-55),a=t._toggle_id}if(l.style.zIndex=1,z(i).append("div").attr("class","f3-toggle-div").attr("style","cursor: pointer; width: 60px; height: 60px;position: absolute; z-index: -1;").style("top",c.top+"px").style("left",c.left+"px").on("click",d=>{if(d.stopPropagation(),t.spouse){const f=t.spouse,u=f.data.main?"main":f.parent.data.id;f.data._tgdp_sp[u].hasOwnProperty(t.data.id)||console.error("no toggle",t,f);let p=f.data._tgdp_sp[u][t.data.id];p<0?p=new Date().getTime():p=-new Date().getTime(),f.data._tgdp_sp[u][t.data.id]=p}else{const f=t.data.main?"main":t.parent.data.id;let u=t.data._tgdp[f];u<0?u=new Date().getTime():u=-new Date().getTime(),t.data._tgdp[f]=u}r()}).append("div").html(s?f_():c_()).select("svg").classed("f3-toggle-icon",!0).style("color",s?"#585656":"#61bf52").style("padding","0"),z(i).select(".f3-toggle-icon .f3-small-circle").style("fill","#fff"),z(i).select(".f3-toggle-icon").append("text").attr("transform",s?"translate(10.6, 14.5)":"translate(4.1, 14.5)").attr("fill","#fff").attr("font-size","7px").text("C"+a),s){let d;t.is_ancestry?n?d="translate(5, -30)rotate(-90)":d="translate(0, -10)":n?d="translate(11, -22)rotate(90)":d="translate(-7, -32)rotate(180)",z(i).select(".f3-toggle-div").insert("div").html(uh()).select("svg").attr("style","position: absolute; z-index: -1;top: 0;left: 0;border-radius: 0;").style("width","66px").style("height","112px").attr("transform",d).attr("viewBox","0 0 72 125").select("line").attr("y1",t.is_ancestry?"62":"92")}}function A_(e){const t=e.style==="default"?c:e.style==="imageCircleRect"?a:e.style==="imageCircle"?h:e.style==="imageRect"?d:e.style==="rect"?f:c;return function(y){if(this.innerHTML=`
    <div class="card ${u(y).join(" ")}" data-id="${y.tid}" style="transform: translate(-50%, -50%); pointer-events: auto;">
      ${e.mini_tree?s(y):""}
      ${e.cardInnerHtmlCreator&&!y.data._new_rel_data?e.cardInnerHtmlCreator(y):t(y)}
    </div>
    `,this.querySelector(".card").addEventListener("click",w=>e.onCardClick(w,y)),e.onCardUpdate&&e.onCardUpdate.call(this,y),e.onCardMouseenter&&z(this).select(".card").on("mouseenter",w=>e.onCardMouseenter(w,y)),e.onCardMouseleave&&z(this).select(".card").on("mouseleave",w=>e.onCardMouseleave(w,y)),y.duplicate&&v(this,y),e.duplicate_branch_toggle&&L_(this,y,e.store.state.is_horizontal,e.store.updateTree),location.origin.includes("localhost")&&(y.__node=this.querySelector(".card"),y.__label=y.data.data["first name"],y.data.to_add)){const w=y.spouse||y.coparent||null;w&&z(this).select(".card").attr("data-to-add",w.data.data["first name"])}};function n(y){return`
    <div class="card-inner card-image-circle" ${p()}>
      ${y.data.data[e.cardImageField]?`<img src="${y.data.data[e.cardImageField]}" ${g()}>`:_(y)}
      <div class="card-label">${l(y)}</div>
      ${y.duplicate?m(y):""}
    </div>
    `}function r(y){return`
    <div class="card-inner card-image-rect" ${p()}>
      ${y.data.data[e.cardImageField]?`<img src="${y.data.data[e.cardImageField]}" ${g()}>`:_(y)}
      <div class="card-label">${l(y)}</div>
      ${y.duplicate?m(y):""}
    </div>
    `}function i(y){return`
    <div class="card-inner card-rect" ${p()}>
      ${l(y)}
      ${y.duplicate?m(y):""}
    </div>
    `}function l(y){return y.data._new_rel_data?o(y):y.data.to_add?`<div>${e.empty_card_label||"ADD"}</div>`:y.data.unknown?`<div>${e.unknown_card_label||"UNKNOWN"}</div>`:`
      ${e.card_display.map(w=>`<div>${w(y.data)}</div>`).join("")}
    `}function o(y){const w=[];return w.push(`data-rel-type="${y.data._new_rel_data.rel_type}"`),["son","daughter"].includes(y.data._new_rel_data.rel_type)&&w.push(`data-other-parent-id="${y.data._new_rel_data.other_parent_id}"`),`<div ${w.join(" ")}>${y.data._new_rel_data.label}</div>`}function s(y){return!e.mini_tree||y.data.to_add||y.data._new_rel_data||y.all_rels_displayed?"":`<div class="mini-tree">${uh()}</div>`}function a(y){return y.data.data[e.cardImageField]?h(y):f(y)}function c(y){return r(y)}function h(y){return n(y)}function d(y){return r(y)}function f(y){return i(y)}function u(y){const w=[];return y.data.data.gender==="M"?w.push("card-male"):y.data.data.gender==="F"?w.push("card-female"):w.push("card-genderless"),w.push(`card-depth-${y.is_ancestry?-y.depth:y.depth}`),y.data.main&&w.push("card-main"),y.data._new_rel_data&&w.push("card-new-rel"),y.data.to_add&&w.push("card-to-add"),y.data.unknown&&w.push("card-unknown"),w}function p(){let y='style="';if(e.card_dim.w||e.card_dim.h)y+=`width: ${e.card_dim.w}px; min-height: ${e.card_dim.h}px;`,e.card_dim.height_auto?y+="height: auto;":y+=`height: ${e.card_dim.h}px;`;else return"";return y+='"',y}function g(){let y='style="position: relative;';if(e.card_dim.img_w||e.card_dim.img_h||e.card_dim.img_x||e.card_dim.img_y)y+=`width: ${e.card_dim.img_w}px; height: ${e.card_dim.img_h}px;`,y+=`left: ${e.card_dim.img_x}px; top: ${e.card_dim.img_y}px;`;else return"";return y+='"',y}function _(y){return y.data._new_rel_data?`<div class="person-icon" ${g()}>${l_()}</div>`:`<div class="person-icon" ${g()}>${e.defaultPersonIcon?e.defaultPersonIcon(y):ah()}</div>`}function m(y){return`<div class="f3-card-duplicate-tag">x${y.duplicate}</div>`}function v(y,w){z(y).on("mouseenter",M=>{z(y.closest(".cards_view")).selectAll(".card_cont").select(".card").classed("f3-card-duplicate-hover",R=>R.data.id===w.data.id)}),z(y).on("mouseleave",M=>{z(y.closest(".cards_view")).selectAll(".card_cont").select(".card").classed("f3-card-duplicate-hover",!1)})}}function mh(e,t){if(e.querySelector("defs#f3CardDef"))return;e.insertAdjacentHTML("afterbegin",`
      <defs id="f3CardDef">
        <linearGradient id="fadeGrad">
          <stop offset="0.9" stop-color="white" stop-opacity="0"/>
          <stop offset=".91" stop-color="white" stop-opacity=".5"/>
          <stop offset="1" stop-color="white" stop-opacity="1"/>
        </linearGradient>
        <mask id="fade" maskContentUnits="objectBoundingBox"><rect width="1" height="1" fill="url(#fadeGrad)"/></mask>
        <clipPath id="card_clip"><path d="${n({w:t.w,h:t.h},5)}"></clipPath>
        <clipPath id="card_text_clip"><rect width="${t.w-10}" height="${t.h}"></rect></clipPath>
        <clipPath id="card_image_clip"><path d="M0,0 Q 0,0 0,0 H${t.img_w} V${t.img_h} H0 Q 0,${t.img_h} 0,${t.img_h} z"></clipPath>
        <clipPath id="card_image_clip_curved"><path d="${n({w:t.img_w,h:t.img_h},5,["rx","ry"])}"></clipPath>
      </defs>
    `);function n(r,i,l){const{w:o,h:s}=r,a=i,c=l||[],h=g=>c.includes(g),d=h("lx")?"M0,0":`M0,${a} Q 0,0 5,0`,f=h("rx")?`H${o}`:`H${o-a} Q ${o},0 ${o},5`,u=h("ry")?`V${s}`:`V${s-a} Q ${o},${s} ${o-a},${s}`,p=h("ly")?"H0":`H${a} Q 0,${s} 0,${s-a}`;return`${d} ${f} ${u} ${p} z`}}function O_(e,t){e.querySelector("defs#f3CardDef")&&e.querySelector("defs#f3CardDef").remove(),mh(e,t)}function F_(e){return e=t(e),mh(e.svg,e.card_dim),function(n){const r=n.data.data.gender==="M"?"card-male":n.data.data.gender==="F"?"card-female":"card-genderless",i=e.card_dim,l=sn("svg:g").attr("class",`card ${r}`).attr("transform",`translate(${[-i.w/2,-i.h/2]})`);l.append("g").attr("class","card-inner").attr("clip-path","url(#card_clip)"),this.innerHTML="",this.appendChild(l.node()),l.on("click",function(o){o.stopPropagation(),e.onCardClick.call(this,o,n)}),n.data._new_rel_data?(mi(oc({d:n,card_dim:i,is_new:n.data.to_add}).template,l.node(),!0),mi(M_({d:n,card_dim:i,label:n.data._new_rel_data.label}).template,this.querySelector(".card-inner"),!0),z(this.querySelector(".card-inner")).append("g").attr("class","card-edit-icon").attr("fill","currentColor").attr("transform",`translate(-1,2)scale(${i.img_h/22})`).html(sh())):(mi(oc({d:n,card_dim:i,is_new:n.data.to_add}).template,l.node(),!0),mi(gh({d:n,card_dim:i,card_display:e.card_display}).template,this.querySelector(".card-inner"),!1),e.img&&ac(sc.cardImage(n,e),this.querySelector(".card")),e.mini_tree&&ac(sc.miniTree(n,e),this.querySelector(".card"),!0)),e.onCardUpdate&&e.onCardUpdate.call(this,n)};function t(n){const r={img:!0,mini_tree:!0,link_break:!1,card_dim:{w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5}};n||(n={});for(const i in r)typeof n[i]>"u"&&(n[i]=r[i]);return n}}function H_(e,t,n){const r=t.find(h=>h.id===e),i={};return l(r.id,"self",0),o(i),n.show_in_law&&s(i,t),a(i),i;function l(h,d,f,u=void 0){if(!h||i[h])return;d&&(i[h]=d);const g=t.find(_=>_.id===h).rels;if(d==="self")g.parents.forEach(_=>l(_,"parent",f-1,h)),(g.spouses||[]).forEach(_=>l(_,"spouse",f)),(g.children||[]).forEach(_=>l(_,"child",f+1));else if(d==="parent")g.parents.forEach(_=>l(_,"grandparent",f-1,h)),(g.children||[]).forEach(_=>{u&&u===_||l(_,"sibling",f+1)});else if(d!=="spouse")if(d==="child")(g.children||[]).forEach(_=>l(_,"grandchild",f+1));else if(d==="sibling")(g.children||[]).forEach(_=>l(_,"nephew",f+1));else if(d==="grandparent")u||console.error(`${d} should have prev_rel_id`),g.parents.forEach(_=>l(_,"great-grandparent",f-1,h)),(g.children||[]).forEach(_=>{u&&u===_||l(_,"uncle",f+1)});else if(d.includes("grandchild"))(g.children||[]).forEach(_=>l(_,vi(d,f+1),f+1));else if(d.includes("great-grandparent"))u||console.error(`${d} should have prev_rel_id`),g.parents.forEach(_=>l(_,vi(d,f-1),f-1,h)),(g.children||[]).forEach(_=>{if(u&&u===_)return;const m=yh(f+1);m===0?l(_,"granduncle",f+1):m>0?l(_,vi("granduncle",f+1),f+1):console.error(`${d} should have great_count > -1`)});else if(d==="nephew")(g.children||[]).forEach(_=>l(_,"grandnephew",f+1));else if(d.includes("grandnephew"))(g.children||[]).forEach(_=>l(_,vi(d,f+1),f+1));else if(d==="uncle")(g.children||[]).forEach(_=>l(_,"1st Cousin",f+1));else if(d==="granduncle")(g.children||[]).forEach(_=>l(_,"1st Cousin 1x removed",f+1));else if(d.includes("great-granduncle")){const _=f+1,m=Math.abs(_);(g.children||[]).forEach(v=>l(v,`1st Cousin ${m}x removed`,_))}else d.slice(4).startsWith("Cousin")?(g.children||[]).forEach(_=>{const m=f+1,v=Math.abs(m),y=+d[0];m===0?l(_,`${ho(y+1)} Cousin`,m):m<0?l(_,`${ho(y+1)} Cousin ${v}x removed`,m):m>0&&l(_,`${ho(y)} Cousin ${v}x removed`,m)}):console.error(`${d} not found`)}function o(h){const d=[];Object.keys(h).forEach(f=>{const u=h[f];if(u.includes("child")||u==="spouse")return;const p=vh(r.id,f,t);if(!p)return console.error(`${t.find(g=>g.id===f).data} not found in main_ancestry`);p.is_half_kin&&d.push(f)}),d.forEach(f=>{h[f]=`Half ${h[f]}`})}function s(h,d){Object.keys(h).forEach(f=>{const u=h[f],p=d.find(g=>g.id===f);if(u==="spouse"){const g=[];p.rels.parents.forEach(_=>(c(_).rels.children||[]).forEach(m=>g.push(m))),g.forEach(_=>{h[_]||(h[_]="sibling-in-law")})}u==="sibling"&&(p.rels.spouses||[]).forEach(g=>{h[g]||(h[g]="sibling-in-law")}),u==="child"&&(p.rels.spouses||[]).forEach(g=>{h[g]||(h[g]="child-in-law")}),u==="uncle"&&(p.rels.spouses||[]).forEach(g=>{h[g]||(h[g]="uncle-in-law")}),u.includes("Cousin")&&(p.rels.spouses||[]).forEach(g=>{h[g]||(h[g]=`${u} in-law`)})})}function a(h){Object.keys(h).forEach(d=>{const f=h[d],p=t.find(g=>g.id===d).data.gender;if(f.includes("parent")){const _=p==="M"?"father":p==="F"?"mother":"parent";h[d]=h[d].replace("parent",_)}else if(f.includes("sibling")){const _=p==="M"?"brother":p==="F"?"sister":"sibling";h[d]=h[d].replace("sibling",_)}else if(f.includes("child")){const _=p==="M"?"son":p==="F"?"daughter":"child";h[d]=h[d].replace("child",_)}else if(f.includes("uncle")){const _=p==="M"?"uncle":p==="F"?"aunt":"aunt/uncle";h[d]=h[d].replace("uncle",_)}else if(f.includes("nephew")){const _=p==="M"?"nephew":p==="F"?"niece":"neice/nephew";h[d]=h[d].replace("nephew",_)}})}function c(h){return t.find(d=>d.id===h)}}function vh(e,t,n){const r=a(e);let i,l,o;if(h(t),d(t),s(t),!i)return null;return{found:i,is_ancestor:l,is_half_kin:o};function s(u){if(i)return;if(u===e){l=!0,i=u,o=!1;return}const g=n.find(v=>v.id===u).rels,_=c(g),m=r.find(v=>v[0]&&_[0]&&v[0]===_[0]||v[1]&&_[1]&&v[1]===_[1]);if(m){i=_.filter((v,y)=>v===m[y]),o=f(_,m);return}g.parents.forEach(v=>s(v))}function a(u){const p=[];return g(u),p;function g(_){const v=n.find(y=>y.id===_).rels;p.push(c(v)),v.parents.forEach(y=>g(y))}}function c(u){return u.parents}function h(u){const p=n.find(_=>_.id===u);r.find(_=>_[0]===p.id||_[1]===p.id)&&(l=!0,i=u,o=!1)}function d(u){(n.find(g=>g.id===e).rels.spouses||[]).includes(u)&&(i=[e,u])}function f(u,p){return u.some((g,_)=>g!==p[_])||p.some((g,_)=>g!==u[_])}}function ho(e){const t=["st","nd","rd"];return t[e-1]?e+t[e-1]:e+"th"}function yh(e){return Math.abs(e)-2}function vi(e,t){const n=yh(t);return e.includes("great-")&&(e=e.split("great-")[1]),n===1?`great-${e}`:n>1?`${n}x-great-${e}`:(console.error(`${e} should have great_count > 1`),e)}function U_(e,t,n,r){var i;let l;const o=r[t].toLowerCase();if(o.includes("in-law")){l=t;const E=n.find(N=>N.id===l);o.includes("sister")||o.includes("brother")?t=e:t=(i=E.rels.spouses)===null||i===void 0?void 0:i.find(N=>r[N]&&!r[N].includes("in-law"))}const s=vh(e,t,n);if(!s)return console.error(`${t} not found in main_ancestry`);const a=s.is_ancestor?s.found:s.found[0],c=n.find(E=>E.id===a),h=Vn(c,_),d=h.descendants().map(E=>E.data.id),f=m(e,d),u=m(t,d);g(h);const p=h.descendants().map(E=>{const N={id:E.data.id,data:JSON.parse(JSON.stringify(E.data.data)),kinship:r[E.data.id],rels:{parents:[],spouses:[],children:[]}};return E.children&&E.children.length>0&&(N.rels.children=E.children.map(H=>H.data.id)),N});return p.length>0&&!s.is_ancestor&&!s.is_half_kin&&v(p),l&&y(p),p;function g(E){E.children=(E.children||[]).filter(N=>!!(f.includes(N.data.id)||u.includes(N.data.id))),E.children.forEach(N=>g(N)),E.children.length===0&&delete E.children}function _(E){return[...E.rels.children||[]].map(H=>n.find(A=>A.id===H)).filter(H=>H)}function m(E,N){const H=[E];return A(E),H;function A(F){n.find(S=>S.id===F).rels.parents.forEach(S=>{N.includes(S)&&(H.push(S),A(S))})}}function v(E){const N=E[0];if(!s)return console.error(`${t} not found in main_ancestry`);const H=a===s.found[0]?s.found[1]:s.found[0];N.rels.spouses=[H];const A=n.find(B=>B.id===H),F={id:A.id,data:JSON.parse(JSON.stringify(A.data)),kinship:r[A.id],rels:{spouses:[N.id],children:N.rels.children,parents:[]}};E.push(F),(N.rels.children||[]).forEach(B=>{const X=n.find(L=>L.id===B),S=E.find(L=>L.id===B);S.rels.parents=[...X.rels.parents]})}function y(E){o.includes("sister")||o.includes("brother")?M(E):w(E)}function w(E){const N=E.find(B=>B.id===t),H=l;N.rels.spouses=[H];const A=n.find(B=>B.id===H),F={id:A.id,data:JSON.parse(JSON.stringify(A.data)),kinship:r[A.id],rels:{spouses:[N.id],children:[],parents:[]}};E.push(F)}function M(E){var N;const H=E.find(L=>L.id===t),A=R(l);E.push({id:l,data:JSON.parse(JSON.stringify(A.data)),kinship:r[l],rels:{spouses:[],children:[],parents:[]}});const F=[];A.rels.parents.forEach(L=>(R(L).rels.children||[]).forEach(T=>F.push(T)));const B=(N=R(t).rels.spouses)===null||N===void 0?void 0:N.find(L=>F.includes(L));H.rels.spouses=[B];const X=R(B),S={id:X.id,data:JSON.parse(JSON.stringify(X.data)),kinship:r[X.id],rels:{spouses:[H.id],children:[],parents:[]}};E.push(S),A.rels.parents.forEach(L=>{const T=R(L),$=T.data.gender==="M"?"Father-in-law":T.data.gender==="F"?"Mother-in-law":"Parent-in-law",x={id:T.id,data:JSON.parse(JSON.stringify(T.data)),kinship:$,rels:{spouses:[],children:[B,l],parents:[]}},k=A.rels.parents.find(C=>C!==C);k&&x.rels.parents.push(k),E.unshift(x)})}function R(E){return n.find(N=>N.id===E)}}function _h(e,t,n){const r=e.id;n.forEach(o=>{o.rels.parents.includes(r)&&(o.rels.parents[o.rels.parents.indexOf(r)]=t),o.rels.spouses&&o.rels.spouses.includes(r)&&(o.rels.spouses=o.rels.spouses.filter(s=>s!==r),o.rels.spouses.includes(t)||o.rels.spouses.push(t)),o.rels.children&&o.rels.children.includes(r)&&(o.rels.children=o.rels.children.filter(s=>s!==r),o.rels.children.includes(t)||o.rels.children.push(t))});const i=n.find(o=>o.id===t),l=n.find(o=>o.id===r);if(!l)throw new Error("New rel not found");if(!i)throw new Error("Link rel not found");if((l.rels.children||[]).forEach(o=>{i.rels.children||(i.rels.children=[]),i.rels.children.includes(o)||i.rels.children.push(o)}),(l.rels.spouses||[]).forEach(o=>{i.rels.spouses||(i.rels.spouses=[]),i.rels.spouses.includes(o)||i.rels.spouses.push(o)}),i.rels.parents.length===0)i.rels.parents=[...l.rels.parents];else{const o=i.rels.parents.find(h=>{var d;return((d=n.find(f=>f.id===h))===null||d===void 0?void 0:d.data.gender)==="M"}),s=i.rels.parents.find(h=>{var d;return((d=n.find(f=>f.id===h))===null||d===void 0?void 0:d.data.gender)==="F"}),a=l.rels.parents.find(h=>{var d;return((d=n.find(f=>f.id===h))===null||d===void 0?void 0:d.data.gender)==="M"}),c=l.rels.parents.find(h=>{var d;return((d=n.find(f=>f.id===h))===null||d===void 0?void 0:d.data.gender)==="F"});a&&(o?(console.error("link rel already has father"),i.rels.parents[i.rels.parents.indexOf(o)]=a):i.rels.parents.push(a)),c&&(s?(console.error("link rel already has mother"),i.rels.parents[i.rels.parents.indexOf(s)]=c):i.rels.parents.push(c))}n.splice(n.findIndex(o=>o.id===r),1)}function V_(e,t){const n=e._new_rel_data?t.find(s=>s.id===e._new_rel_data.rel_id):null,r=l(e,t),i=o(e,t);if(e._new_rel_data&&["son","daughter"].includes(e._new_rel_data.rel_type)){if(!n)throw new Error("Rel datum not found");i.push(...o(n,t))}return t.filter(s=>s.id!==e.id&&s.id!==(n==null?void 0:n.id)&&!s._new_rel_data&&!s.to_add&&!s.unknown).filter(s=>!r.includes(s.id)).filter(s=>!i.includes(s.id)).filter(s=>!(s.rels.spouses||[]).includes(e.id));function l(s,a){const c=[];return h(s),c;function h(d){d.rels.parents.forEach(f=>{if(f){c.push(f);const u=a.find(p=>p.id===f);if(!u)throw new Error("Parent not found");h(u)}})}}function o(s,a){const c=[];return h(s),c;function h(d){(d.rels.children?[...d.rels.children]:[]).forEach(u=>{c.push(u);const p=a.find(g=>g.id===u);if(!p)throw new Error("Child not found");h(p)})}}}function j_({datum:e,store:t,fields:n,postSubmitHandler:r,addRelative:i,removeRelative:l,deletePerson:o,onCancel:s,editFirst:a,link_existing_rel_config:c,onFormCreation:h,no_edit:d,onSubmit:f,onDelete:u,canEdit:p,canDelete:g}){let _=g?g(e):!0;(p?p(e):!0)||(d=!0,_=!1);let v;const y={datum_id:e.id,fields:[],onSubmit:N,onCancel:s,onFormCreation:h,no_edit:d,gender_field:w()};if(e._new_rel_data)v=Object.assign(Object.assign({},y),{title:e._new_rel_data.label,new_rel:!0,editable:!0});else{if(!i)throw new Error("addRelative is required");if(!l)throw new Error("removeRelative is required");v=Object.assign(Object.assign({},y),{onDelete:A,addRelative:()=>i.activate(e),addRelativeCancel:()=>i.onCancel(),addRelativeActive:i.is_active,removeRelative:()=>l.activate(e),removeRelativeCancel:()=>l.onCancel(),removeRelativeActive:l.is_active,editable:!1,can_delete:_})}return(e._new_rel_data||e.to_add||e.unknown)&&c&&(v.linkExistingRelative=E(e,t.getData(),c)),d?v.editable=!1:a&&(v.editable=!0),n.forEach(F=>{F.type==="rel_reference"?M(F):F.type==="select"?R(F):v.fields.push({id:F.id,type:F.type,label:F.label,initial_value:e.data[F.id]})}),v;function w(){return{id:"gender",type:"switch",label:"Gender",initial_value:e.data.gender,disabled:!1,options:[{value:"M",label:"Male"},{value:"F",label:"Female"}]}}function M(F){F.getRelLabel||console.error("getRelLabel is not set"),F.rel_type==="spouse"&&(e.rels.spouses||[]).forEach(B=>{const X=t.getDatum(B);if(!X)throw new Error("Spouse not found");const S=`${F.id}__ref__${B}`,L={id:S,type:"rel_reference",label:F.label,rel_id:B,rel_label:F.getRelLabel(X),initial_value:e.data[S],rel_type:F.rel_type};v.fields.push(L)})}function R(F){if(!F.options&&!F.optionCreator)return console.error("optionCreator or options is not set for field",F);const B={id:F.id,type:F.type,label:F.label,initial_value:e.data[F.id],placeholder:F.placeholder,options:F.options||F.optionCreator(e)};v.fields.push(B)}function E(F,B,X){if(!X)throw new Error("link_existing_rel_config is required");return{title:X.title,select_placeholder:X.select_placeholder,options:V_(F,B).map(L=>({value:L.id,label:X.linkRelLabel(L)})).sort((L,T)=>typeof L.label=="string"&&typeof T.label=="string"?L.label.localeCompare(T.label):L.label<T.label?-1:1),onSelect:H}}function N(F){f?f(F,e,B,()=>r({})):(F.preventDefault(),B(),r({}));function B(){const X=new FormData(F.target);V1(e,t.getData(),X)}}function H(F){const B=F.target.value;r({link_rel_id:B})}function A(){u?u(e,()=>o(),()=>r({delete:!0})):(o(),r({delete:!0}))}}function B_(e,t){t.forEach(n=>{const r=n._new_rel_data;r&&r.rel_type==="spouse"&&(n.data.gender=n.data.gender==="M"?"F":"M")})}function W_(e){for(let t=e.length-1;t>=0;t--){const n=e[t];n._new_rel_data&&(e.forEach(r=>{r.rels.parents.includes(n.id)&&r.rels.parents.splice(r.rels.parents.indexOf(n.id),1),r.rels.children&&r.rels.children.includes(n.id)&&r.rels.children.splice(r.rels.children.indexOf(n.id),1),r.rels.spouses&&r.rels.spouses.includes(n.id)&&r.rels.spouses.splice(r.rels.spouses.indexOf(n.id),1)}),e.splice(t,1))}}function Q_(e,t,n,r){let i={parent:!0,spouse:!0,child:!0};r&&(i=Object.assign(i,r(e))),e.rels.spouses||(e.rels.spouses=[]),e.rels.children||(e.rels.children=[]),i.parent&&l(),i.spouse&&(o(),s()),i.child&&a();function l(){const c=e.rels.parents,h=c.find(p=>{var g;return((g=t.find(_=>_.id===p))===null||g===void 0?void 0:g.data.gender)==="M"}),d=c.find(p=>{var g;return((g=t.find(_=>_.id===p))===null||g===void 0?void 0:g.data.gender)==="F"});if(c.length<2&&!h){const p=$t({data:{gender:"M"},rels:{children:[e.id]}});p._new_rel_data={rel_type:"father",label:n.father,rel_id:e.id},e.rels.parents.push(p.id),t.push(p)}if(c.length<2&&!d){const p=$t({data:{gender:"F"},rels:{children:[e.id]}});p._new_rel_data={rel_type:"mother",label:n.mother,rel_id:e.id},e.rels.parents.push(p.id),t.push(p)}const f=t.find(p=>p.id===e.rels.parents[0]),u=t.find(p=>p.id===e.rels.parents[1]);f.rels.spouses||(f.rels.spouses=[]),u.rels.spouses||(u.rels.spouses=[]),f.rels.spouses.includes(u.id)||f.rels.spouses.push(u.id),u.rels.spouses.includes(f.id)||u.rels.spouses.push(f.id),f.rels.children||(f.rels.children=[]),u.rels.children||(u.rels.children=[]),f.rels.children.includes(e.id)||f.rels.children.push(e.id),u.rels.children.includes(e.id)||u.rels.children.push(e.id)}function o(){if(e.rels.spouses||(e.rels.spouses=[]),e.rels.children){let c;e.rels.children.forEach(h=>{const d=t.find(f=>f.id===h);if(d.rels.parents.length===1){const u=t.find(p=>p.id===d.rels.parents[0]).data.gender==="M"?"F":"M";c||(c=$t({data:{gender:u},rels:{spouses:[e.id]}})),c._new_rel_data={rel_type:"spouse",label:n.spouse,rel_id:e.id},c.rels.children.push(d.id),e.rels.spouses.push(c.id),d.rels.parents.push(c.id),t.push(c)}})}}function s(){e.rels.spouses||(e.rels.spouses=[]);const c=e.data.gender==="M"?"F":"M",h=$t({data:{gender:c},rels:{spouses:[e.id]}});h._new_rel_data={rel_type:"spouse",label:n.spouse,rel_id:e.id},e.rels.spouses.push(h.id),t.push(h)}function a(){e.rels.children||(e.rels.children=[]),e.rels.spouses||(e.rels.spouses=[]),e.rels.spouses.forEach(c=>{const h=t.find(u=>u.id===c);h.rels.children||(h.rels.children=[]);const d=$t({data:{gender:"M"},rels:{parents:[e.id,h.id]}});d._new_rel_data={rel_type:"son",label:n.son,other_parent_id:h.id,rel_id:e.id},h.rels.children.push(d.id),e.rels.children.push(d.id),t.push(d);const f=$t({data:{gender:"F"},rels:{parents:[e.id,h.id]}});f._new_rel_data={rel_type:"daughter",label:n.daughter,other_parent_id:h.id,rel_id:e.id},h.rels.children.push(f.id),e.rels.children.push(f.id),t.push(f)})}return t}var q_=(e,t,n)=>new K_(e,t,n);class K_{constructor(t,n,r){return this.store=t,this.onActivate=n,this.cancelCallback=r,this.datum=null,this.onChange=null,this.onCancel=null,this.is_active=!1,this.addRelLabels=this.addRelLabelsDefault(),this}activate(t){this.is_active&&this.onCancel(),this.onActivate(),this.is_active=!0,this.store.state.one_level_rels=!0;const n=this.store;this.datum=t;let r=this.datum.data.gender;Q_(t,this.getStoreData(),this.addRelLabels,this.canAdd),n.updateTree({}),this.onChange=i,this.onCancel=()=>l(this);function i(o,s){o!=null&&o._new_rel_data?s!=null&&s.link_rel_id?_h(o,s.link_rel_id,n.getData()):delete o._new_rel_data:o.id===t.id?o.data.gender!==r&&(r=o.data.gender,B_(o,n.getData())):console.error("Something went wrong")}function l(o){o.is_active&&(o.is_active=!1,o.store.state.one_level_rels=!1,o.cleanUp(),o.cancelCallback(o.datum),o.datum=null,o.onChange=null,o.onCancel=null)}}setAddRelLabels(t){if(typeof t!="object"){console.error("add_rel_labels must be an object");return}for(const n in t){const r=n;this.addRelLabels[r]=t[r]}return this}setCanAdd(t){return this.canAdd=t,this}addRelLabelsDefault(){return{father:"Add Father",mother:"Add Mother",spouse:"Add Spouse",son:"Add Son",daughter:"Add Daughter"}}getStoreData(){return this.store.getData()}cleanUp(t){return t||(t=this.store.getData()),W_(t),t}}var X_=(e,t,n,r)=>new Y_(e,t,n,r);class Y_{constructor(t,n,r,i){return this.store=t,this.onActivate=n,this.cancelCallback=r,this.modal=i,this.datum=null,this.onChange=null,this.onCancel=null,this.is_active=!1,this}activate(t){this.is_active&&this.onCancel(),this.onActivate(),this.is_active=!0,this.store.state.one_level_rels=!0;const n=this.store;n.updateTree({}),this.datum=t,this.onChange=r.bind(this),this.onCancel=i.bind(this);function r(l,o){const s=f(l),a=t.rels;s==="parent"?c.call(this):s==="spouse"?h.call(this):s==="children"&&d.call(this);function c(){const u=l.data.id,p=n.getDatum(u);if(!p)throw new Error("Parent not found");if(!p.rels.children)throw new Error("Parent has no children");p.rels.children=p.rels.children.filter(g=>g!==t.id),a.parents=a.parents.filter(g=>g!==u),o()}function h(){const u=l.data;p()?g.call(this):_.call(this,!0);function p(){return(u.rels.children||[]).some(v=>{const y=n.getDatum(v);if(!y)throw new Error("Child not found");return!!y.rels.parents.includes(u.id)})}function g(){const m=t.data.gender==="M"?"f3-male-bg":t.data.gender==="F"?"f3-female-bg":null,v=u.data.gender==="M"?"f3-male-bg":u.data.gender==="F"?"f3-female-bg":null,y=sn("div").html(`
            <p>You are removing a spouse relationship. Since there are shared children, please choose which parent should keep them in the family tree.</p>
            <div class="f3-modal-options">
              <button data-option="assign-to-current" class="f3-btn ${m}">Keep children with current person</button>
              <button data-option="assign-to-spouse" class="f3-btn ${v}">Keep children with spouse</button>
            </div>
          `);y.selectAll('[data-option="assign-to-current"]').on("click",()=>{_(!0),this.modal.close()}),y.selectAll('[data-option="assign-to-spouse"]').on("click",()=>{_(!1),this.modal.close()}),this.modal.activate(y.node())}function _(m){l.data.rels.spouses=l.data.rels.spouses.filter(w=>w!==t.id),a.spouses=a.spouses.filter(w=>w!==l.data.id);const v=m?t:l.data,y=m?l.data:t;(a.children||[]).forEach(w=>{const M=n.getDatum(w);if(!M)throw new Error("Child not found");M.rels.parents.includes(y.id)&&(M.rels.parents=M.rels.parents.filter(R=>R!==y.id))}),y.rels.children&&(y.rels.children=y.rels.children.filter(w=>!(v.rels.children||[]).includes(w))),o()}}function d(){if(!a.children)throw new Error("Children not found");a.children=a.children.filter(u=>u!==l.data.id),l.data.rels.parents=l.data.rels.parents.filter(u=>u!==t.id),o()}function f(u){if(u.is_ancestry){if(t.rels.parents.includes(u.data.id))return"parent"}else if(u.spouse){if(!t.rels.spouses)throw new Error("Spouses not found");if(t.rels.spouses.includes(u.data.id))return"spouse"}else{if(!t.rels.children)throw new Error("Children not found");if(t.rels.children.includes(u.data.id))return"children"}return null}}function i(){if(this.is_active){if(this.is_active=!1,this.store.state.one_level_rels=!1,!this.datum)throw new Error("Datum not found");this.cancelCallback(this.datum),this.datum=null,this.onChange=null,this.onCancel=null}}}}function G_(e){return new Z_(e)}class Z_{constructor(t){this.cont=t,this.active=!1,this.onClose=null,this.modal_cont=z(this.cont).append("div").attr("class","f3-modal").node(),z(this.modal_cont).style("display","none"),this.create()}create(){const t=z(this.modal_cont);t.html(`
      <div class="f3-modal-content">
        <span class="f3-modal-close">&times;</span>
        <div class="f3-modal-content-inner"></div>
        <div class="f3-modal-content-bottom"></div>
      </div>
    `),t.select(".f3-modal-close").on("click",()=>{this.close()}),t.on("click",n=>{n.target==t.node()&&this.close()})}activate(t,{boolean:n,onAccept:r,onCancel:i}={}){this.reset();const l=z(this.modal_cont).select(".f3-modal-content-inner").node();if(typeof t=="string"?l.innerHTML=t:l.appendChild(t),n){if(!r)throw new Error("onAccept is required");if(!i)throw new Error("onCancel is required");z(this.modal_cont).select(".f3-modal-content-bottom").html(`
        <button class="f3-modal-accept f3-btn">Accept</button>
        <button class="f3-modal-cancel f3-btn">Cancel</button>
      `),z(this.modal_cont).select(".f3-modal-accept").on("click",()=>{r(),this.reset(),this.close()}),z(this.modal_cont).select(".f3-modal-cancel").on("click",()=>{this.close()}),this.onClose=i}this.open()}reset(){this.onClose=null,z(this.modal_cont).select(".f3-modal-content-inner").html(""),z(this.modal_cont).select(".f3-modal-content-bottom").html("")}open(){this.modal_cont.style.display="block",this.active=!0}close(){this.modal_cont.style.display="none",this.active=!1,this.onClose&&this.onClose()}}var b_=(e,t)=>new J_(e,t);class J_{constructor(t,n){return this.cont=t,this.store=n,this.fields=[{type:"text",label:"first name",id:"first name"},{type:"text",label:"last name",id:"last name"},{type:"text",label:"birthday",id:"birthday"},{type:"text",label:"avatar",id:"avatar"}],this.is_fixed=!0,this.no_edit=!1,this.onChange=null,this.editFirst=!1,this.postSubmit=null,this.onFormCreation=null,this.createFormEdit=null,this.createFormNew=null,this.formCont=this.getFormContDefault(),this.modal=this.setupModal(),this.addRelativeInstance=this.setupAddRelative(),this.removeRelativeInstance=this.setupRemoveRelative(),this.history=this.createHistory(),this}open(t){t.rels||(t=t.data),this.addRelativeInstance.is_active?n(this):this.removeRelativeInstance.is_active?r(this,this.store.getTreeDatum(t.id)):this.cardEditForm(t);function n(i){t._new_rel_data?i.cardEditForm(t):(i.addRelativeInstance.onCancel(),i.cardEditForm(t),i.store.updateMainId(t.id),i.store.updateTree({}))}function r(i,l){if(!l)throw new Error("Tree datum not found");if(!i.removeRelativeInstance.datum)throw new Error("Remove relative datum not found");if(!i.removeRelativeInstance.onCancel)throw new Error("Remove relative onCancel not found");if(!i.removeRelativeInstance.onChange)throw new Error("Remove relative onChange not found");if(t.id===i.removeRelativeInstance.datum.id)i.removeRelativeInstance.onCancel(),i.cardEditForm(t);else{let s=function(){i.removeRelativeInstance.onCancel(),i.updateHistory(),i.store.updateTree({})};var o=s;i.removeRelativeInstance.onChange(l,s.bind(i))}}}setupAddRelative(){return q_(this.store,()=>t(this),r=>n(this,r));function t(r){r.removeRelativeInstance.is_active&&r.removeRelativeInstance.onCancel()}function n(r,i){r.store.updateMainId(i.id),r.store.updateTree({}),r.openFormWithId(i.id)}}setupRemoveRelative(){return X_(this.store,t.bind(this),n.bind(this),this.modal);function t(){this.addRelativeInstance.is_active&&this.addRelativeInstance.onCancel(),r(this.cont,!0)}function n(i){r(this.cont,!1),this.store.updateMainId(i.id),this.store.updateTree({}),this.openFormWithId(i.id)}function r(i,l){z(i).select("#f3Canvas").classed("f3-remove-relative-active",l)}}createHistory(){const t=$_(this.store,this._getStoreDataCopy.bind(this),i.bind(this)),n=this.cont.querySelector(".f3-nav-cont");if(!n)throw new Error("Nav cont not found");const r=T_(n,t);return t.changed(),r.updateButtons(),Object.assign(Object.assign({},t),{controls:r});function i(){var l;console.log("historyUpdateTree"),this.addRelativeInstance.is_active&&this.addRelativeInstance.onCancel(),this.removeRelativeInstance.is_active&&this.removeRelativeInstance.onCancel(),this.store.updateTree({initial:!1}),this.history.controls.updateButtons(),this.openFormWithId((l=this.store.getMainDatum())===null||l===void 0?void 0:l.id),this.onChange&&this.onChange()}}openWithoutRelCancel(t){this.cardEditForm(t)}getFormContDefault(){let t=z(this.cont).select("div.f3-form-cont").node();return t||(t=z(this.cont).append("div").classed("f3-form-cont",!0).node()),{el:t,populate(n){t.innerHTML="",t.appendChild(n)},open(){z(t).classed("opened",!0)},close(){z(t).classed("opened",!1).html("")}}}setFormCont(t){return this.formCont=t,this}cardEditForm(t){const n={},r=t==null?void 0:t._new_rel_data;r?n.onCancel=()=>this.addRelativeInstance.onCancel():(n.addRelative=this.addRelativeInstance,n.removeRelative=this.removeRelativeInstance,n.deletePerson=()=>{oh(t,this.store.getData()),this.openFormWithId(this.store.getLastAvailableMainDatum().id),this.store.updateTree({})});const i=j_(Object.assign({store:this.store,datum:t,postSubmitHandler:s=>o(this,s),fields:this.fields,onCancel:()=>{},editFirst:this.editFirst,no_edit:this.no_edit,link_existing_rel_config:this.link_existing_rel_config,onFormCreation:this.onFormCreation,onSubmit:this.onSubmit,onDelete:this.onDelete,canEdit:this.canEdit,canDelete:this.canDelete},n)),l=r?(this.createFormNew||x_)(i,this.closeForm.bind(this)):(this.createFormEdit||S_)(i,this.closeForm.bind(this));this.formCont.populate(l),this.openForm();function o(s,a){if(s.addRelativeInstance.is_active){s.addRelativeInstance.onChange(t,a),s.postSubmit&&s.postSubmit(t,s.store.getData());const c=s.addRelativeInstance.datum;if(!c)throw new Error("Active datum not found");s.store.updateMainId(c.id),s.openWithoutRelCancel(c)}else(t.to_add||t.unknown)&&(a!=null&&a.link_rel_id)?(_h(t,a.link_rel_id,s.store.getData()),s.store.updateMainId(a.link_rel_id),s.openFormWithId(a.link_rel_id)):a!=null&&a.delete||(s.postSubmit&&s.postSubmit(t,s.store.getData()),s.openFormWithId(t.id));s.is_fixed||s.closeForm(),s.store.updateTree({}),s.updateHistory()}}openForm(){this.formCont.open()}closeForm(){this.formCont.close(),this.store.updateTree({})}fixed(){return this.is_fixed=!0,this.formCont.el&&z(this.formCont.el).style("position","relative"),this}absolute(){return this.is_fixed=!1,this.formCont.el&&z(this.formCont.el).style("position","absolute"),this}setCardClickOpen(t){return t.setOnCardClick((n,r)=>{this.isAddingRelative()?this.open(r.data):this.isRemovingRelative()?this.open(r.data):(this.open(r.data),t.onCardClickDefault(n,r))}),this}openFormWithId(t){if(t){const n=this.store.getDatum(t);if(!n)throw new Error("Datum not found");this.openWithoutRelCancel(n)}else{const n=this.store.getMainDatum();if(!n)throw new Error("Main datum not found");this.openWithoutRelCancel(n)}}setNoEdit(){return this.no_edit=!0,this}setEdit(){return this.no_edit=!1,this}setFields(t){const n=[];if(!Array.isArray(t))return console.error("fields must be an array"),this;for(const r of t)typeof r=="string"?n.push({type:"text",label:r,id:r}):typeof r=="object"?r.id?n.push(r):console.error("fields must be an array of objects with id property"):console.error("fields must be an array of strings or objects");return this.fields=n,this}setOnChange(t){return this.onChange=t,this}setCanEdit(t){return this.canEdit=t,this}setCanDelete(t){return this.canDelete=t,this}setCanAdd(t){return this.addRelativeInstance.setCanAdd(t),this}addRelative(t){return t||(t=this.store.getMainDatum()),this.addRelativeInstance.activate(t),this}setupModal(){return G_(this.cont)}setEditFirst(t){return this.editFirst=t,this}isAddingRelative(){return this.addRelativeInstance.is_active}isRemovingRelative(){return this.removeRelativeInstance.is_active}setAddRelLabels(t){return this.addRelativeInstance.setAddRelLabels(t),this}setLinkExistingRelConfig(t){return this.link_existing_rel_config=t,this}setOnFormCreation(t){return this.onFormCreation=t,this}setCreateFormEdit(t){return this.createFormEdit=t,this}setCreateFormNew(t){return this.createFormNew=t,this}_getStoreDataCopy(){let t=JSON.parse(JSON.stringify(this.store.getData()));return this.addRelativeInstance.is_active&&(t=this.addRelativeInstance.cleanUp(t)),t=W1(t),t}getStoreDataCopy(){return this.exportData()}exportData(){let t=this._getStoreDataCopy();return t=w1(t,this.store.state.legacy_format),t}getDataJson(){return JSON.stringify(this.exportData(),null,2)}updateHistory(){this.history&&(this.history.changed(),this.history.controls.updateButtons()),this.onChange&&this.onChange()}setPostSubmit(t){return this.postSubmit=t,this}setOnSubmit(t){return this.onSubmit=t,this}setOnDelete(t){return this.onDelete=t,this}destroy(){return this.history.controls.destroy(),this.history=null,this.formCont.el&&z(this.formCont.el).remove(),this.addRelativeInstance.onCancel&&this.addRelativeInstance.onCancel(),this.store.updateTree({}),this}}function ew(e,t,n){const r=[];t.data.forEach(f=>{f.coparent&&f.data.data.gender==="F"&&r.push({nodes:[f,f.coparent],id:`${f.data.id}--${f.coparent.data.id}`}),f.spouses&&f.spouses.forEach(u=>r.push({nodes:[u,f],id:`${u.data.id}--${f.data.id}`}))});const i=z(e).select(".links_view").selectAll("g.link-text").data(r,f=>f.id),l=i.exit(),o=i.enter().append("g").attr("class","link-text"),s=o.merge(i),a=(f,u)=>f.spouse&&f.data.data.gender==="F"?f.x-n.node_separation/2:u.spouse&&u.data.data.gender==="M"?u.x+n.node_separation/2:Math.min(f.x,u.x)+n.node_separation/2;l.each(d),o.each(c),s.each(h);function c(f){const[u,p]=f.nodes,g=z(this);g.attr("transform",`translate(${a(u,p)}, ${u.y-3})`).style("opacity",0),g.append("text").style("font-size","12px").style("fill","#fff").style("text-anchor","middle")}function h(f){const[u,p]=f.nodes,g=z(this),_=n.initial?Kr(t,u,n.transition_time):0;g.select("text").text(n.linkSpouseText(u,p)),g.transition("text").duration(n.transition_time).delay(_).attr("transform",`translate(${a(u,p)}, ${u.y-3})`),g.transition("text-op").duration(100).delay(_+n.transition_time).style("opacity",1)}function d(f){const u=z(this);u.transition("text").duration(100).style("opacity",0).on("end",()=>u.remove())}}function tw(e,t,n={}){return new nw(e,t,n)}class nw{constructor(t,n,r={}){this.cont=t,this.options=[],this.onSelect=n,this.config=r,this.autocomplete_cont=z(this.cont).append("div").attr("class","f3-autocomplete-cont").node(),this.create()}create(){var t;const n=this;z(this.autocomplete_cont).html(`
      <div class="f3-autocomplete">
        <div class="f3-autocomplete-input-cont">
          <input type="text" placeholder="${((t=this.config)===null||t===void 0?void 0:t.placeholder)||"Search"}">
          <span class="f3-autocomplete-toggle">${d_()}</span>
        </div>
        <div class="f3-autocomplete-items" tabindex="0"></div>
      </div>
    `);const r=z(this.autocomplete_cont).select(".f3-autocomplete"),i=r.select("input"),l=r.select(".f3-autocomplete-items");r.on("focusout",()=>{setTimeout(()=>{r.node().contains(document.activeElement)||s()},200)}),i.on("focus",()=>{c(),o()}).on("input",o).on("keydown",h),l.on("wheel",d=>d.stopPropagation()),r.select(".f3-autocomplete-toggle").on("click",d=>{d.stopPropagation();const f=r.classed("active");r.classed("active",!f),f?s():(i.node().focus(),o())});function o(){r.classed("active",!0);const d=i.property("value"),f=n.options.filter(g=>g.label.toLowerCase().includes(d.toLowerCase()));f.forEach(u),f.sort(p),a(f);function u(g){const _=g.label.toLowerCase().indexOf(d.toLowerCase());_!==-1?g.label_html=m():g.label_html=g.label;function m(){return g.label.substring(0,_)+"<strong>"+g.label.substring(_,_+d.length)+"</strong>"+g.label.substring(_+d.length)}}function p(g,_){return g.label<_.label?-1:g.label>_.label?1:0}}function s(){r.classed("active",!1),a([])}function a(d){l.selectAll("div.f3-autocomplete-item").data(d,u=>u==null?void 0:u.value).join("div").attr("class","f3-autocomplete-item").on("click",(u,p)=>{n.onSelect(p.value)}).html(u=>u.optionHtml?u.optionHtml(u):f(u));function f(u){return`<div class="${u.class?u.class:""}">${u.label_html}</div>`}}function c(){n.options=n.getOptions()}function h(d){const f=l.selectAll("div.f3-autocomplete-item").nodes(),u=f.findIndex(g=>z(g).classed("f3-selected"));if(d.key==="ArrowDown"){d.preventDefault();const g=u<f.length-1?u+1:0;p(f,g)}else if(d.key==="ArrowUp"){d.preventDefault();const g=u>0?u-1:f.length-1;p(f,g)}else if(d.key==="Enter"&&u!==-1){d.preventDefault();const g=z(f[u]).datum();g&&n.onSelect(g.value)}function p(g,_){g.forEach(m=>z(m).classed("f3-selected",!1)),g[_]&&(z(g[_]).classed("f3-selected",!0),g[_].scrollIntoView({block:"nearest"}))}}}setOptionsGetter(t){return this.getOptions=t,this}setOptionsGetterPerson(t,n){return this.getOptions=()=>{const l=[];return t().forEach(s=>{s.to_add||s.unknown||s._new_rel_data||l.find(a=>a.value===s.id)||l.push({label:n(s),value:s.id,optionHtml:r(s)})}),l},this;function r(l){const o=!lh(l,t());return s=>`
        <div>
          <span style="float: left; width: 10px; height: 10px; margin-right: 10px;" class="f3-${i(l)}-color">${ah()}</span>
          <span>${s.label_html}</span>
          ${o?`<span style="float: right; width: 10px; height: 10px; margin-left: 5px;" title="This profile is not connected to the main profile">${h_()}</span>`:""}
        </div>
      `}function i(l){return l.data.gender==="M"?"male":l.data.gender==="F"?"female":"genderless"}}destroy(){this.autocomplete_cont.remove()}}function wh(e){const t=[];return Array.isArray(e)?e.forEach(n=>{typeof n=="function"?t.push(n):typeof n=="string"?t.push(r=>r.data[n]):Array.isArray(n)&&t.push(r=>n.map(i=>r.data[i]).join(" "))}):typeof e=="function"?t.push(e):typeof e=="string"&&t.push(n=>n.data[e]),t}function rw(e,t,n,r){const i=n.is_ancestry,l=t.data();let o=[],s=[];if(i){const d=[];let f=n,u=0;for(;f!==r&&u<100;){u++;const g=l.find(_=>_.spouse===!0&&(_.source===f||_.target===f));if(g){const _=l.filter(v=>Array.isArray(v.target)&&v.target.includes(g.source)&&v.target.includes(g.target)),m=h(_,r);if(!m)break;d.push(g),d.push(m),f=m.source}else{const _=l.filter(v=>Array.isArray(v.target)&&v.target.includes(f)),m=h(_,r);if(!m)break;d.push(m),f=m.source}}t.each(function(g){d.includes(g)&&o.push({link:g,node:this})});const p=c(n,d);e.each(function(g){p.includes(g)&&s.push({card:g,node:this})})}else if(n.spouse&&n.spouse.data===r.data){t.each(function(f){f.target===n&&o.push({link:f,node:this})});const d=[r,n];e.each(function(f){d.includes(f)&&s.push({card:f,node:this})})}else if(n.sibling){t.each(function(f){if(!Array.isArray(n.parents))throw new Error("datum.parents is not an array");f.source===n&&o.push({link:f,node:this}),f.source===r&&Array.isArray(f.target)&&f.target.length===2&&o.push({link:f,node:this}),n.parents.includes(f.source)&&!Array.isArray(f.target)&&n.parents.includes(f.target)&&o.push({link:f,node:this})});const d=[r,n,...n.parents||[]];e.each(function(f){d.includes(f)&&s.push({card:f,node:this})})}else{let d=[],f=n,u=0;for(;f!==r&&u<100;){u++;const g=l.find(_=>_.target===f&&Array.isArray(_.source));if(g){const _=l.find(m=>m.spouse===!0&&a([m.source,m.target],g.source));d.push(g),d.push(_),_?f=_.source:f=g.source[0]}else{const _=l.find(m=>m.target===f&&!Array.isArray(m.source));if(!_)break;d.push(_),f=_.source}}t.each(function(g){d.includes(g)&&o.push({link:g,node:this})});const p=c(r,d);e.each(function(g){p.includes(g)&&s.push({card:g,node:this})})}return{cards_node_to_main:s,links_node_to_main:o};function a(d,f){return d.every(u=>f.some(p=>u===p))}function c(d,f){const u=f.filter(_=>_).reduce((_,m)=>(Array.isArray(m.target)?_.push(...m.target):_.push(m.target),Array.isArray(m.source)?_.push(...m.source):_.push(m.source),_),[]),p=[r,n];return g(d),p;function g(_){_.data.rels.children&&_.data.rels.children.forEach(m=>{const v=u.find(y=>y.data.id===m);v&&(p.push(v),g(v))})}}function h(d,f){return d.length===0?null:d.length===1?d[0]:d.find(u=>u.source===f)}}function uc(e,t){return new iw(e,t)}let iw=class{constructor(t,n){return this.cont=t,this.svg=this.cont.querySelector("svg.main_svg"),this.store=n,this.card_display=[r=>`${r.data["first name"]} ${r.data["last name"]}`],this.cardImageField="avatar",this.onCardClick=this.onCardClickDefault,this.style="default",this.mini_tree=!1,this.card_dim={},this}getCard(){return A_({store:this.store,card_display:this.card_display,cardImageField:this.cardImageField,defaultPersonIcon:this.defaultPersonIcon,onCardClick:this.onCardClick,style:this.style,mini_tree:this.mini_tree,onCardUpdate:this.onCardUpdate,card_dim:this.card_dim,empty_card_label:this.store.state.single_parent_empty_card_label||"",unknown_card_label:this.store.state.unknown_card_label||"",cardInnerHtmlCreator:this.cardInnerHtmlCreator,duplicate_branch_toggle:this.store.state.duplicate_branch_toggle,onCardMouseenter:this.onCardMouseenter?this.onCardMouseenter.bind(this):void 0,onCardMouseleave:this.onCardMouseleave?this.onCardMouseleave.bind(this):void 0})}setCardDisplay(t){return this.card_display=wh(t),this}setCardImageField(t){return this.cardImageField=t,this}setDefaultPersonIcon(t){return this.defaultPersonIcon=t,this}setOnCardClick(t){return this.onCardClick=t,this}onCardClickDefault(t,n){this.store.updateMainId(n.data.id),this.store.updateTree({})}setStyle(t){return this.style=t,this}setMiniTree(t){return this.mini_tree=t,this}setOnCardUpdate(t){return this.onCardUpdate=t,this}setCardDim(t){if(typeof t!="object")return console.error("card_dim must be an object"),this;for(let n in t){const r=t[n];if(typeof r!="number"&&typeof r!="boolean")return console.error(`card_dim.${n} must be a number or boolean`),this;n==="width"&&(n="w"),n==="height"&&(n="h"),n==="img_width"&&(n="img_w"),n==="img_height"&&(n="img_h"),n==="img_x"&&(n="img_x"),n==="img_y"&&(n="img_y"),this.card_dim[n]=r}return this}resetCardDim(){return this.card_dim={},this}setCardInnerHtmlCreator(t){return this.cardInnerHtmlCreator=t,this}setOnHoverPathToMain(){return this.onCardMouseenter=this.onEnterPathToMain.bind(this),this.onCardMouseleave=this.onLeavePathToMain.bind(this),this}unsetOnHoverPathToMain(){return this.onCardMouseenter=void 0,this.onCardMouseleave=void 0,this}onEnterPathToMain(t,n){this.to_transition=n.data.id;const r=this.store.getTreeMainDatum(),i=z(this.cont).select("div.cards_view").selectAll(".card_cont"),l=z(this.cont).select("svg.main_svg .links_view").selectAll(".link"),{cards_node_to_main:o,links_node_to_main:s}=rw(i,l,n,r);return o.forEach(a=>{const c=Math.abs(n.depth-a.card.depth)*200;z(a.node.querySelector("div.card-inner")).transition().duration(0).delay(c).on("end",()=>this.to_transition===n.data.id&&z(a.node.querySelector("div.card-inner")).classed("f3-path-to-main",!0))}),s.forEach(a=>{const c=Math.abs(n.depth-a.link.depth)*200;z(a.node).transition().duration(0).delay(c).on("end",()=>this.to_transition===n.data.id&&z(a.node).classed("f3-path-to-main",!0))}),this}onLeavePathToMain(t,n){return this.to_transition=!1,z(this.cont).select("div.cards_view").selectAll("div.card-inner").classed("f3-path-to-main",!1),z(this.cont).select("svg.main_svg .links_view").selectAll(".link").classed("f3-path-to-main",!1),this}};function cc(e,t){return new lw(e,t)}let lw=class{constructor(t,n){return this.cont=t,this.store=n,this.svg=this.cont.querySelector("svg.main_svg"),this.card_dim={w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5},this.card_display=[],this.mini_tree=!0,this.link_break=!1,this.onCardClick=this.onCardClickDefault.bind(this),this}getCard(){return F_({store:this.store,svg:this.svg,card_dim:this.card_dim,card_display:this.card_display,mini_tree:this.mini_tree,link_break:this.link_break,onCardClick:this.onCardClick,onCardUpdate:this.onCardUpdate})}setCardDisplay(t){return this.card_display=wh(t),this}setCardDim(t){if(typeof t!="object")return console.error("card_dim must be an object"),this;for(let n in t){const r=t[n];if(typeof r!="number"&&typeof r!="boolean")return console.error(`card_dim.${n} must be a number or boolean`),this;n==="width"&&(n="w"),n==="height"&&(n="h"),n==="img_width"&&(n="img_w"),n==="img_height"&&(n="img_h"),n==="img_x"&&(n="img_x"),n==="img_y"&&(n="img_y"),this.card_dim[n]=r}return O_(this.svg,this.card_dim),this}setOnCardUpdate(t){return this.onCardUpdate=t,this}setMiniTree(t){return this.mini_tree=t,this}setLinkBreak(t){return this.link_break=t,this}onCardClickDefault(t,n){this.store.updateMainId(n.data.id),this.store.updateTree({})}setOnCardClick(t){return this.onCardClick=t,this}};function ow(e,t){return new sw(e,t)}class sw{constructor(t,n){this.getCard=null,this.transition_time=2e3,this.linkSpouseText=null,this.personSearch=null,this.is_card_html=!1,this.beforeUpdate=null,this.afterUpdate=null,this.cont=aw(t);const{svg:r}=eh(this.cont);this.svg=r,uw(this.cont);const i=n&&n.length>0?n[0].id:"";return this.store=this.createStore(n,i),this.setOnUpdate(),this.editTreeInstance=null,this}createStore(t,n){return k1({data:t,main_id:n,node_separation:250,level_separation:150,single_parent_empty_card:!0,is_horizontal:!1})}setOnUpdate(){this.store.setOnUpdate(t=>{this.beforeUpdate&&this.beforeUpdate(t),t=Object.assign({transition_time:this.store.state.transition_time},t||{}),this.is_card_html&&(t=Object.assign({},t||{},{cardHtml:!0})),H1(this.store.getTree(),this.svg,this.getCard(),t||{}),this.linkSpouseText&&ew(this.svg,this.store.getTree(),Object.assign({},t||{},{linkSpouseText:this.linkSpouseText,node_separation:this.store.state.node_separation})),this.afterUpdate&&this.afterUpdate(t)})}updateTree(t={initial:!1}){return this.store.updateTree(t),this}updateData(t){return this.store.updateData(t),this}setCardYSpacing(t){return typeof t!="number"?(console.error("card_y_spacing must be a number"),this):(this.store.state.level_separation=t,this)}setCardXSpacing(t){return typeof t!="number"?(console.error("card_x_spacing must be a number"),this):(this.store.state.node_separation=t,this)}setOrientationVertical(){return this.store.state.is_horizontal=!1,this}setOrientationHorizontal(){return this.store.state.is_horizontal=!0,this}setShowSiblingsOfMain(t){return this.store.state.show_siblings_of_main=t,this}setModifyTreeHierarchy(t){return this.store.state.modifyTreeHierarchy=t,this}setPrivateCardsConfig(t){return this.store.state.private_cards_config=t,this}setLinkSpouseText(t){return this.linkSpouseText=t,this}setSingleParentEmptyCard(t,{label:n="Unknown"}={}){return this.store.state.single_parent_empty_card=t,this.store.state.single_parent_empty_card_label=n,this.editTreeInstance&&this.editTreeInstance.addRelativeInstance.is_active&&this.editTreeInstance.addRelativeInstance.onCancel(),ka(this.store.getData()||[]),this}setCard(t){if(t===uc)return this.setCardHtml();if(t===cc)return this.setCardSvg();throw new Error("Card must be an instance of cardHtml or cardSvg")}setCardHtml(){const t=this.cont.querySelector("#htmlSvg");if(!t)throw new Error("htmlSvg not found");this.is_card_html=!0,this.svg.querySelector(".cards_view").innerHTML="",t.style.display="block";const n=uc(this.cont,this.store);return this.getCard=()=>n.getCard(),n}setCardSvg(){const t=this.cont.querySelector("#htmlSvg");if(!t)throw new Error("htmlSvg not found");this.is_card_html=!1,this.svg.querySelector(".cards_view").innerHTML="",t.style.display="none";const n=cc(this.cont,this.store);return this.getCard=()=>n.getCard(),n}setTransitionTime(t){return this.store.state.transition_time=t,this}setSortChildrenFunction(t){return this.store.state.sortChildrenFunction=t,this}setSortSpousesFunction(t){return this.store.state.sortSpousesFunction=t,this}setAncestryDepth(t){return this.store.state.ancestry_depth=t,this}setProgenyDepth(t){return this.store.state.progeny_depth=t,this}getMaxDepth(t){return p1(t,this.store.getData())}calculateKinships(t,n={}){return H_(t,this.store.getData(),n)}getKinshipsDataStash(t,n){return U_(t,n,this.store.getData(),this.calculateKinships(t))}setDuplicateBranchToggle(t){return this.store.state.duplicate_branch_toggle=t,this}editTree(){return this.editTreeInstance=b_(this.cont,this.store)}updateMain(t){let n;return t.id?n=t.id:n=t.data.id,this.store.updateMainId(n),this.store.updateTree({}),this}updateMainId(t){return this.store.updateMainId(t),this}getMainDatum(){return this.store.getMainDatum()}setBeforeUpdate(t){return this.beforeUpdate=t,this}setAfterUpdate(t){return this.afterUpdate=t,this}setPersonDropdown(t,{cont:n=this.cont.querySelector(".f3-nav-cont"),onSelect:r,placeholder:i="Search"}={}){r||(r=l.bind(this)),this.personSearch=tw(n,r,{placeholder:i}),this.personSearch.setOptionsGetterPerson(this.store.getData,t);function l(o){const s=this.store.getDatum(o);if(!s)throw new Error("Datum not found");this.editTreeInstance&&this.editTreeInstance.open(s),this.updateMainId(o),this.updateTree({initial:!1})}return this}unSetPersonSearch(){return this.personSearch.destroy(),this.personSearch=null,this}}function aw(e){if(typeof e=="string"&&(e=document.querySelector(e)),!e)throw new Error("cont not found");return e}function uw(e){z(e).append("div").attr("class","f3-nav-cont")}Object.assign({},D1,{setupHtmlSvg:L1,setupReactiveTreeData:A1,getUniqueId:O1});class cw extends hl.Component{constructor(){super(...arguments);Xr(this,"cont",jh.createRef());Xr(this,"isInEditMode",!1);Xr(this,"showChildrenSpouses",!1)}componentDidMount(){this.cont.current&&fetch("/data/family.json").then(n=>n.json()).then(n=>this.create(n)).catch(n=>console.error(n))}create(n){const r="b4e33c68-20a7-47ba-9dcc-1168a07d5b52",i="ce2fcb9a-6058-4326-b56a-aced35168561",l=new Set(n.map(p=>p.id)),o=p=>{if(!p)return{spouses:[],children:[],parents:[]};const g=_=>Array.isArray(_)?_.filter(m=>m&&l.has(m)):[];return{spouses:g(p.spouses),children:g(p.children),parents:g(p.parents)}};function s(p,g){return g?p.map(_=>({..._,father:_.father||"",mother:_.mother||"",spouses:_.spouses||[],children:_.children||[],rels:o(_.rels)})):p.map(_=>{const m=_.rels&&Array.isArray(_.rels.parents)&&_.rels.parents.length>0;return _.id===i||_.id===r?{..._,father:_.father||"",mother:_.mother||"",spouses:_.spouses||[],children:_.children||[],rels:{..._.rels,spouses:_.rels.spouses||[]}}:m?{..._,father:_.father||"",mother:_.mother||"",spouses:g?_.spouses||[]:[],children:_.children||[],rels:{..._.rels,spouses:g?_.rels.spouses||[]:[]}}:{..._,father:_.father||"",mother:_.mother||"",spouses:_.spouses||[],children:_.children||[],rels:{..._.rels,spouses:_.rels.spouses||[]}}})}this.isInEditMode&&(this.showChildrenSpouses=!0);let a=s(n,this.showChildrenSpouses);console.log("[DEBUG] Formatted Data:",a);const c=ow("#FamilyChart",a).setTransitionTime(1e3).setCardXSpacing(250).setCardYSpacing(150).setSingleParentEmptyCard(!1).setAncestryDepth(1).setProgenyDepth(1),h=c.setCardHtml().setCardDisplay([["first name","last name"],["birthday"]]).setMiniTree(!0).setOnHoverPathToMain(),d=c.editTree().setFields(["first name","last name","birthday","avatar"]).setEditFirst(!0);this.isInEditMode?d.setCardClickOpen(h):d.setNoEdit();const f=h.onCardClick;h.setOnCardClick((p,g)=>{var m;const _=((m=g==null?void 0:g.data)==null?void 0:m.id)||"";f.call(h,p,g),g.data.rels.children.length>7||_==="0"?(c.setProgenyDepth(1),_==="0"?this.showChildrenSpouses=!0:this.showChildrenSpouses=!1):(c.setProgenyDepth(3),this.showChildrenSpouses=!0),this.isInEditMode||(a=s(n,this.showChildrenSpouses),c.updateData(a)),c.updateTree()}),c.updateMainId(r),c.updateTree({initial:!0});const u=document.querySelector(".f3-history-controls");if(u){const p=document.createElement("button");p.className="f3-save-button f3-btn";const g=document.createElement("i");g.className="fa-solid fa-floppy-disk",p.textContent="",p.appendChild(g),p.style.display="inline-flex",p.style.alignItems="center",p.style.justifyContent="center",p.style.marginLeft="8px",p.style.position="absolute",p.style.backgroundColor="rgb(33,33,33)",p.style.color="white",p.style.border="none",p.style.fontSize="20px",p.style.width="40px",p.style.height="30px",p.style.boxShadow="none",u.appendChild(p),p.addEventListener("click",()=>{const m=d.exportData().filter(v=>v.data&&(v.data["first name"]||v.data["last name"]));if(m.length===0){console.error("[ERROR] No valid nodes to save. Ensure all nodes have both first and last names.");return}fetch("http://localhost:3001/api/save-family",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}).then(v=>{v.ok?console.log("[DEBUG] Tree data saved successfully"):console.error("[ERROR] Failed to save tree data")}).catch(v=>{console.error("[ERROR] Error saving tree data:",v)})}),console.log("[DEBUG] Save button added to f3-history control")}else console.error("[ERROR] f3-history control not found")}render(){return Li.jsx("div",{className:"f3",id:"FamilyChart",ref:this.cont,style:{width:"100%",height:"900px",margin:"auto",backgroundColor:"rgb(33,33,33)",color:"#fff"}})}}function fw(){return Li.jsx("div",{children:Li.jsx(cw,{})})}po.createRoot(document.getElementById("root")).render(Li.jsx(fw,{}));
